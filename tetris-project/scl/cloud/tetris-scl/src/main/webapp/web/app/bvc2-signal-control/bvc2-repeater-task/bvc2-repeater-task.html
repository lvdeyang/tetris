<div id="bvc2-repeater-task-wrapper" class="page-wrapper" style="width:100%; height:100%; padding:10px; box-sizing:border-box;">
    <bvc2-header
            :links="header.links"
            :user="header.user"></bvc2-header>
    <div class="page-body">
        <el-container style="width:100%; height:100%">
            <bvc2-nav-side :active="active"></bvc2-nav-side>
            <el-main style="padding:0 15px 0 15px;">
                <div style="width:100%; height:100%; position: relative;">
                    <div style="width:100%; height:40px; position:relative;">
                        <el-radio-group v-model="currentTab" size="small">
                            <el-radio-button label="main">主机</el-radio-button>
                            <el-radio-button label="backup">备机</el-radio-button>
                        </el-radio-group>
                    </div>
                    <div style="position:absolute; top:40px; left:0; right:0; bottom:60px;">
                        <el-table
                                :data="table.data"
                                tooltip-effect="dark"
                                height="100%"
                                border
                                :span-method="objectSpanMethod"
                                style="width: 100%;">
                            <el-table-column
                                    prop="dstBundleName"
                                    label="名称"
                                    width="200">
                            </el-table-column>
                            <el-table-column
                                    prop="dstBundleId"
                                    label="bundleId"
                                    width="300">
                            </el-table-column>
                            <el-table-column
                                    prop="dstChannelId"
                                    label="channelId"
                                    width="300">
                            </el-table-column>
                            <el-table-column
                                    prop="dstAddress"
                                    label="ip"
                                    width="150">
                            </el-table-column>
                            <el-table-column
                                    prop="dstPort"
                                    label="port"
                                    width="150">
                            </el-table-column>
                            <el-table-column
                                    prop="taskId"
                                    label="任务号"
                                    width="100">
                            </el-table-column>
                            <el-table-column
                                    prop="netIp"
                                    label="集群ip"
                                    width="150">
                            </el-table-column>
                            <el-table-column
                                    fixed="right"
                                    label="操作">
                                <template slot-scope="scope">
                                    <el-tooltip v-if="scope.row.taskId" class="item" effect="dark" content="删除任务" placement="bottom">
                                        <el-button type="text" icon="el-icon-delete" style="margin:0; font-size:18px; padding:0;" @click="rowDeleteTask(scope)"></el-button>
                                    </el-tooltip>
                                    <el-tooltip v-else class="item" effect="dark" content="新建任务" placement="bottom">
                                        <el-button type="text" icon="el-icon-zoom-in" style="margin:0; font-size:18px; padding:0; margin-right:20px;" @click="rowAddTask(scope)"></el-button>
                                    </el-tooltip>
                                </template>
                            </el-table-column>
                        </el-table>
                    </div>
                    <div style="position:absolute; left:0; bottom:0; width: 100%; height: 60px;">
                        <el-pagination
                                style="line-height:normal; height:32px; display:inline-block; float:right; position:relative; top:14px; right:10px;"
                                background
                                @size-change="handleSizeChange"
                                @current-change="handleCurrentChange"
                                :current-page="currentPage"
                                :page-sizes="pageSizes"
                                :page-size="pageSize"
                                layout="total, sizes, prev, pager, next, jumper"
                                :total="total">
                        </el-pagination>
                    </div>
                </div>
            </el-main>
        </el-container>
    </div>
</div>