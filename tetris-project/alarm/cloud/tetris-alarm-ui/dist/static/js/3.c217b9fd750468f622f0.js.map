{"version":3,"sources":["webpack:///src/views/alarmoprlog/oprlogList.vue","webpack:///./src/views/alarmoprlog/oprlogList.vue?4c5a","webpack:///./src/views/alarmoprlog/oprlogList.vue"],"names":["oprlogList","data","filters","oprlogTypeSel","oprlogTypeOptions","value","label","oprlogVOs","total","page","listLoading","sels","detailFormVisible","editLoading","alarmLevelSel","detailForm","id","userName","oprName","oprDetail","oprTime","sourceService","ip","tableData","bindRoleVisible","currentUserId","methods","queryOprlogList","timeStart","timeEnd","_this","this","undefined","oprTimeRange","typeof_default","util","formatDate","format","para","oprlogType","queryTimeStart","queryTimeEnd","pageIndex","pageSize","console","info","stringify_default","Object","api","then","res","errMsg","$message","message","type","duration","resetForm","formName","$refs","resetFields","selsChange","handleCurrentChange","val","dateFormat","row","column","dateString","property","replace","Date","parse","handleShowDetail","index","assign_default","json","push","dataName","dataContent","handleDel","_this2","$confirm","ids","mounted","alarmoprlog_oprlogList","render","_vm","_h","$createElement","_c","_self","staticStyle","height","ref","attrs","inline","model","label-width","size","staticClass","padding-bottom","margin","span","prop","clearable","placeholder","callback","$$v","$set","expression","_l","item","key","_v","padding-top","range-separator","start-placeholder","end-placeholder","default-time","on","click","$event","directives","name","rawName","width","highlight-current-row","selection-change","_e","formatter","sortable","scopedSlots","_u","fn","scope","$index","float","layout","page-size","current-change","title","visible","close-on-click-modal","update:visible","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/3.c217b9fd750468f622f0.js","sourcesContent":["<template>\n  <section style=\"height:100%\">\n    <!--查询工具条-->\n    <el-form :inline=\"true\" :model=\"filters\" ref=\"filters\" label-width=\"80px\" size=\"mini\">\n      <el-col :span=\"24\" class=\"toolbar\" style=\"padding-bottom: 0px; margin:0px\">\n        <el-form-item label=\"日志类型\" prop=\"oprlogTypeSel\" :span=\"6\">\n          <el-select v-model=\"filters.oprlogTypeSel\" clearable placeholder=\"请选择\">\n            <el-option v-for=\"item in oprlogTypeOptions\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"来源服务\" prop=\"sourceService\" :span=\"6\">\n          <el-input v-model=\"filters.sourceService\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"用户名\" prop=\"userName\" :span=\"6\">\n          <el-input v-model=\"filters.userName\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"操作名称\" prop=\"oprName\" :span=\"6\">\n          <el-input v-model=\"filters.oprName\"></el-input>\n        </el-form-item>\n      </el-col>\n      <el-col :span=\"24\" class=\"toolbar\" style=\"padding-top: 0px; padding-bottom: 5px; margin:0px\">\n        <el-form-item label=\"日志时间\" prop=\"oprTimeRange\" :span=\"12\">\n          <el-date-picker v-model=\"filters.oprTimeRange\" type=\"datetimerange\" range-separator=\"至\" start-placeholder=\"开始日期\" end-placeholder=\"结束日期\" :default-time=\"['00:00:00', '23:59:59']\"></el-date-picker>\n        </el-form-item>\n        <el-form-item :span=\"3\">\n          <el-button type=\"primary\" v-on:click=\"queryOprlogList\">查询</el-button>\n        </el-form-item>\n        <el-form-item :span=\"3\">\n          <el-button v-on:click=\"resetForm('filters')\">重置</el-button>\n        </el-form-item>\n      </el-col>\n    </el-form>\n    <!--查询工具条结束-->\n\n    <!--列表-->\n    <el-table :data=\"oprlogVOs\" highlight-current-row v-loading=\"listLoading\" @selection-change=\"selsChange\" style=\"width: 100%;\">\n      <el-table-column prop=\"id\" v-if=\"false\" width=\"60\"></el-table-column>\n      <el-table-column prop=\"oprlogType\" label=\"日志类型\" width=\"160\"></el-table-column>\n      <el-table-column prop=\"userName\" label=\"用户名\" width=\"120\"></el-table-column>\n      <el-table-column prop=\"oprName\" label=\"操作名称\" width=\"200\"></el-table-column>\n      <el-table-column prop=\"sourceService\" label=\"来源服务\" width=\"200\"></el-table-column>\n      <el-table-column prop=\"oprTime\" label=\"日志时间\" :formatter=\"dateFormat\" width=\"200\" sortable></el-table-column>\n      <el-table-column label=\"操作\">\n        <template slot-scope=\"scope\">\n          <el-button size=\"small\" @click=\"handleShowDetail(scope.$index, scope.row)\">详情</el-button>\n          <el-button type=\"danger\" size=\"small\" @click=\"handleDel(scope.$index, scope.row)\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <!--表底工具条-->\n    <el-col :span=\"24\" class=\"toolbar\">\n      <!--<el-button type=\"danger\" @click=\"batchRemove\" :disabled=\"this.sels.length===0\">批量删除</el-button>-->\n      <el-pagination layout=\"prev, pager, next\" @current-change=\"handleCurrentChange\" :page-size=\"20\" :total=\"total\" style=\"float:right;\">\n      </el-pagination>\n    </el-col>\n    <!--表底工具条结束-->\n\n    <!--详情弹出框-->\n    <el-dialog title=\"操作详情\" :visible.sync=\"detailFormVisible\" :close-on-click-modal=\"false\">\n\n      <el-table :data=\"tableData\" style=\"width: 100%\">\n        <el-table-column prop=\"dataName\" width=\"180\"></el-table-column>\n        <el-table-column prop=\"dataContent\" width=\"180\">\n        </el-table-column>\n      </el-table>\n      <!--\n            <el-form :model=\"detailForm\" label-position=\"left\" label-width=\"160px\">\n               <el-form-item label=\"序号\">\n                   <span>{{ detailForm.id }}</span>\n               </el-form-item>\n               <el-form-item label=\"用户名\">\n                   <span>{{ detailForm.userName }}</span>\n               </el-form-item>\n               <el-form-item label=\"操作名称\">\n                   <span>{{ detailForm.oprName }}</span>\n               </el-form-item>\n               <el-form-item label=\"操作详情\">\n                   <span>{{ detailForm.oprDetail }}</span>\n               </el-form-item>\n               <el-form-item label=\"操作时间\">\n                   <span>{{ detailForm.oprTime }}</span>\n               </el-form-item>\n               <el-form-item label=\"来源服务\">\n                   <span>{{ detailForm.sourceService }}</span>\n               </el-form-item>\n               <el-form-item label=\"来源IP\">\n                   <span>{{ detailForm.ip }}</span>\n               </el-form-item>\n            </el-form>\n            -->\n\n    </el-dialog>\n    <!--详情弹出框结束-->\n\n  </section>\n</template>\n\n<script>\nimport util from '../../common/js/util'\n// import NProgress from 'nprogress'\nimport { queryOprlogListPage, delOprlog } from '../../api/api'\n\nexport default {\n  data () {\n    return {\n      filters: {\n        oprlogTypeSel: 'USER_OPR'\n      },\n\n      oprlogTypeOptions: [{\n        value: 'USER_OPR',\n        label: '用户操作'\n      }, {\n        value: 'USER_ONLINE',\n        label: '用户上线'\n      }, {\n        value: 'USER_OFFLINE',\n        label: '用户下线'\n      }, {\n        value: 'DEVICE_ONLINE',\n        label: '设备上线'\n      }, {\n        value: 'DEVICE_OFFLINE',\n        label: '设备下线'\n      }, {\n        value: 'EXTERNAL_CONNECT',\n        label: '外域连接成功'\n      }, {\n        value: 'EXTERNAL_DISCONNECT',\n        label: '外域连接断开'\n      }],\n\n      oprlogVOs: [],\n      total: 0,\n      page: 1,\n      listLoading: false,\n      sels: [], // 列表选中列\n\n      detailFormVisible: false, // 详情弹出框是否显示\n      editLoading: false,\n\n      alarmLevelSel: [],\n\n      // 详情界面数据\n      detailForm: {\n        id: 0,\n        userName: '',\n        oprName: '',\n        oprDetail: '',\n        oprTime: '',\n        sourceService: '',\n        ip: ''\n      },\n\n      tableData: [],\n\n      bindRoleVisible: false,\n      currentUserId: 0\n    }\n  },\n\n  methods: {\n    // 获取告警信息列表\n    queryOprlogList () {\n      var timeStart, timeEnd\n\n      if (this.filters.oprTimeRange != undefined && this.filters.oprTimeRange[0] != undefined) {\n        if (typeof (this.filters.oprTimeRange[0]) !== undefined) {\n          timeStart = util.formatDate.format(this.filters.oprTimeRange[0], 'yyyy-MM-dd hh:mm:ss')\n        };\n\n        if (typeof (this.filters.oprTimeRange[1]) !== undefined) {\n          timeEnd = util.formatDate.format(this.filters.oprTimeRange[1], 'yyyy-MM-dd hh:mm:ss')\n        };\n      };\n\n      let para = {\n        oprlogType: this.filters.oprlogTypeSel,\n        sourceService: this.filters.sourceService,\n        userName: this.filters.userName,\n        oprName: this.filters.oprName,\n        queryTimeStart: timeStart,\n        queryTimeEnd: timeEnd,\n        pageIndex: this.page - 1,\n        pageSize: 20\n      }\n\n      console.info(JSON.stringify(para))\n\n      this.listLoading = true\n      // NProgress.start();\n      queryOprlogListPage(para).then(res => {\n        if (res.errMsg !== null && res.errMsg !== '') {\n          this.$message({\n            message: res.errMsg,\n            type: 'error',\n            duration: 3000\n          })\n        } else {\n          this.total = res.total\n          this.oprlogVOs = res.oprlogVOs\n        }\n\n        this.listLoading = false\n        // NProgress.done();\n      })\n    },\n\n    // 重置表单\n    resetForm (formName) {\n      if (this.$refs[formName] != undefined) {\n        this.$refs[formName].resetFields()\n      }\n    },\n\n    selsChange: function (sels) {\n      this.sels = sels\n    },\n\n    handleCurrentChange (val) {\n      this.page = val\n      this.queryOprlogList()\n    },\n\n    dateFormat: function (row, column) {\n      var dateString = row[column.property].replace(/-/g, \"/\")\n      if (dateString == undefined) {\n        return ''\n      }\n\n      return util.formatDate.format(new Date(Date.parse(dateString)), 'yyyy/MM/dd hh:mm:ss')\n    },\n\n    // 获取操作日志详情\n    handleShowDetail: function (index, row) {\n      this.resetForm('detailForm')\n      this.detailFormVisible = true\n      this.detailForm = Object.assign({}, row)\n\n      var json = []\n\n      json.push({ dataName: 'id', dataContent: this.detailForm.id })\n      json.push({ dataName: '日志类型', dataContent: this.detailForm.oprlogType })\n      json.push({ dataName: '用户名', dataContent: this.detailForm.userName })\n      json.push({ dataName: '操作名称', dataContent: this.detailForm.oprName })\n      json.push({ dataName: '操作时间', dataContent: this.detailForm.oprTime })\n      json.push({ dataName: '操作详情', dataContent: this.detailForm.oprDetail })\n      json.push({ dataName: '来源服务', dataContent: this.detailForm.sourceService })\n      json.push({ dataName: '来源IP', dataContent: this.detailForm.ip })\n\n      this.tableData = json\n    },\n\n    // 删除告警基本信息\n    handleDel: function (index, row) {\n      this.$confirm('确认删除此条日志？', '提示', {}).then(() => {\n        let para = {\n          ids: row.id\n        }\n\n        delOprlog(para).then(res => {\n          if (res.errMsg !== null && res.errMsg !== '') {\n            this.$message({\n              message: res.errMsg,\n              type: 'error',\n              duration: 3000\n            })\n          } else {\n            this.queryOprlogList()\n          }\n        })\n      })\n    },\n  },\n\n  mounted () {\n    this.queryOprlogList()\n  }\n}\n</script>\n<style>\n.oprlog-page {\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n  /* padding-bottom: 45px; */\n  /* position: relative; */\n}\n.el-table {\n  height: calc(100% - 135px);\n  overflow: auto;\n}\n.el-table--border:after,\n.el-table--group:after,\n.el-table:before {\n  background-color: transparent;\n}\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/views/alarmoprlog/oprlogList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticStyle:{\"height\":\"100%\"}},[_c('el-form',{ref:\"filters\",attrs:{\"inline\":true,\"model\":_vm.filters,\"label-width\":\"80px\",\"size\":\"mini\"}},[_c('el-col',{staticClass:\"toolbar\",staticStyle:{\"padding-bottom\":\"0px\",\"margin\":\"0px\"},attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"日志类型\",\"prop\":\"oprlogTypeSel\",\"span\":6}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.filters.oprlogTypeSel),callback:function ($$v) {_vm.$set(_vm.filters, \"oprlogTypeSel\", $$v)},expression:\"filters.oprlogTypeSel\"}},_vm._l((_vm.oprlogTypeOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"来源服务\",\"prop\":\"sourceService\",\"span\":6}},[_c('el-input',{model:{value:(_vm.filters.sourceService),callback:function ($$v) {_vm.$set(_vm.filters, \"sourceService\", $$v)},expression:\"filters.sourceService\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"userName\",\"span\":6}},[_c('el-input',{model:{value:(_vm.filters.userName),callback:function ($$v) {_vm.$set(_vm.filters, \"userName\", $$v)},expression:\"filters.userName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"操作名称\",\"prop\":\"oprName\",\"span\":6}},[_c('el-input',{model:{value:(_vm.filters.oprName),callback:function ($$v) {_vm.$set(_vm.filters, \"oprName\", $$v)},expression:\"filters.oprName\"}})],1)],1),_vm._v(\" \"),_c('el-col',{staticClass:\"toolbar\",staticStyle:{\"padding-top\":\"0px\",\"padding-bottom\":\"5px\",\"margin\":\"0px\"},attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"日志时间\",\"prop\":\"oprTimeRange\",\"span\":12}},[_c('el-date-picker',{attrs:{\"type\":\"datetimerange\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"default-time\":['00:00:00', '23:59:59']},model:{value:(_vm.filters.oprTimeRange),callback:function ($$v) {_vm.$set(_vm.filters, \"oprTimeRange\", $$v)},expression:\"filters.oprTimeRange\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"span\":3}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.queryOprlogList}},[_vm._v(\"查询\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"span\":3}},[_c('el-button',{on:{\"click\":function($event){_vm.resetForm('filters')}}},[_vm._v(\"重置\")])],1)],1)],1),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.oprlogVOs,\"highlight-current-row\":\"\"},on:{\"selection-change\":_vm.selsChange}},[(false)?_c('el-table-column',{attrs:{\"prop\":\"id\",\"width\":\"60\"}}):_vm._e(),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"oprlogType\",\"label\":\"日志类型\",\"width\":\"160\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"userName\",\"label\":\"用户名\",\"width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"oprName\",\"label\":\"操作名称\",\"width\":\"200\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"sourceService\",\"label\":\"来源服务\",\"width\":\"200\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"oprTime\",\"label\":\"日志时间\",\"formatter\":_vm.dateFormat,\"width\":\"200\",\"sortable\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.handleShowDetail(scope.$index, scope.row)}}},[_vm._v(\"详情\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"small\"},on:{\"click\":function($event){_vm.handleDel(scope.$index, scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_vm._v(\" \"),_c('el-col',{staticClass:\"toolbar\",attrs:{\"span\":24}},[_c('el-pagination',{staticStyle:{\"float\":\"right\"},attrs:{\"layout\":\"prev, pager, next\",\"page-size\":20,\"total\":_vm.total},on:{\"current-change\":_vm.handleCurrentChange}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"操作详情\",\"visible\":_vm.detailFormVisible,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.detailFormVisible=$event}}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"prop\":\"dataName\",\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"dataContent\",\"width\":\"180\"}})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f8b9f76a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/alarmoprlog/oprlogList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f8b9f76a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./oprlogList.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./oprlogList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./oprlogList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f8b9f76a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./oprlogList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/alarmoprlog/oprlogList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}