{"version":3,"sources":["webpack:///./src/common/js/alarmOprlogUtils.js","webpack:///src/views/alarmoprlog/alarmBaseInfoList.vue","webpack:///./src/views/alarmoprlog/alarmBaseInfoList.vue?b12e","webpack:///./src/views/alarmoprlog/alarmBaseInfoList.vue"],"names":["__webpack_exports__","alarmLevelToString","alarmLevel","dateFormat","row","column","dateString","property","console","log","undefined","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","Date","parse","__WEBPACK_IMPORTED_MODULE_1__js_util__","formatDate","format","alarmBaseInfoList","data","_this","this","filters","alarmInfoVOs","total","page","listLoading","sels","editFormVisible","editBtnVisible","addBtnVisible","editLoading","alarmLevelOptions","value","label","alarmLevelSel","uploadUrl","globalRouter_default","a","alarmroot","editForm","id","name","password","confirmpassword","phone","email","isAdmin","recAlarmPhoneRSS","recAlarmEmailRSS","description","bindRoleVisible","currentUserId","editFormRules","alarmCode","required","message","trigger","validator","rule","callback","test","para","Object","api","then","res","check","Error","alarmName","min","max","alarmBrief","alarmSolution","methods","queryAlarmBaseInfoList","_this2","keyword","pageIndex","pageSize","errMsg","$message","type","duration","handleShowAdd","resetForm","handleAdd","_this3","$refs","validate","valid","$confirm","stringify_default","resetFields","addBtnVisibale","handleShowEdit","index","assign_default","formName","handleEdit","_this4","handleDel","_this5","selsChange","handleCurrentChange","val","alarmLevelFormat","alarmOprlogUtils","uploadSuccess","sameNum","importNum","uploadError","onprogress","batchRemove","mounted","alarmoprlog_alarmBaseInfoList","render","_vm","_h","$createElement","_c","_self","ref","attrs","inline","model","label-width","size","staticClass","staticStyle","padding-bottom","margin","span","prop","$$v","$set","expression","_v","on","click","$event","action","show-file-list","on-success","on-error","on-progress","directives","rawName","width","stripe","highlight-current-row","selection-change","_e","sortable","formatter","scopedSlots","_u","key","fn","scope","$index","float","layout","page-size","current-change","title","visible","close-on-click-modal","update:visible","rules","auto-complete","readonly","placeholder","_l","item","slot","nativeOn","staticRenderFns","Component","__webpack_require__","normalizeComponent"],"mappings":"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","file":"static/js/4.a2b511e8eacee09f5f00.js","sourcesContent":["import util from '../js/util'\n\nexport default {\n  alarmLevelToString: function (alarmLevel) {\n    switch (alarmLevel) {\n      case 'INFO': return '信息'\n      case 'MINOR': return '一般'\n      case 'MAJOR': return '重要'\n      case 'CRITICAL': return '严重'\n    }\n  },\n\n  dateFormat: function (row, column) {\n    var dateString = row[column.property]\n    console.log('dataString=' + dateString)\n    if (dateString === undefined) {\n      return ''\n    }\n    console.log('dataString=' + JSON.stringify(Date.parse(dateString)))\n    return util.formatDate.format(new Date(Date.parse(dateString)), 'yyyy-MM-dd hh:mm:ss')\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/alarmOprlogUtils.js","<template>\n\t<section>\n\n\t<!--工具条-->\n    <el-form :inline=\"true\" :model=\"filters\" ref=\"filters\" label-width=\"80px\" size=\"mini\">\n        <el-col :span=\"24\" class=\"toolbar\" style=\"padding-bottom: 0px; margin:0px\">\n            <el-form-item prop=\"keyword\" label=\"关键字\" :span=\"6\">\n                <el-input v-model=\"filters.keyword\"></el-input>\n            </el-form-item>\n            <el-form-item :span=\"3\">\n                <el-button type=\"primary\" v-on:click=\"queryAlarmBaseInfoList\">查询</el-button>\n            </el-form-item>\n            <el-form-item :span=\"3\">\n                <el-button  v-on:click=\"resetForm('filters')\">重置</el-button>\n            </el-form-item>\n            <el-form-item :span=\"3\">\n                <el-button  v-on:click=\"handleShowAdd()\"> 新增</el-button>\n            </el-form-item>\n\n            <el-form-item :span=\"3\">\n            <el-upload\n                class=\"upload-demo\"\n                :action=uploadUrl\n                name=\"filePoster\"\n                :show-file-list=\"false\"\n                :on-success=\"uploadSuccess\"\n                :on-error=\"uploadError\"\n                :on-progress=\"onprogress\">\n                <el-button type=\"primary\">导入</el-button>\n            </el-upload>\n            </el-form-item>\n        </el-col>\n    </el-form>\n\n\t\t<!--列表-->\n\t\t<el-table stripe :data=\"alarmInfoVOs\" highlight-current-row v-loading=\"listLoading\" @selection-change=\"selsChange\" style=\"width: 100%;\">\n\t\t  <el-table-column prop=\"id\" v-if=\"false\" width=\"60\"></el-table-column>\n\t\t\t<el-table-column prop=\"alarmCode\" label=\"编码\" width=\"100\" sortable></el-table-column>\n\t\t\t<el-table-column prop=\"alarmName\" label=\"名称\" width=\"250\"></el-table-column>\n\t\t\t<el-table-column prop=\"alarmLevel\" label=\"级别\"  :formatter=\"alarmLevelFormat\" width=\"180\" sortable></el-table-column>\n      <el-table-column prop=\"alarmBrief\" label=\"简介\" width=\"250\"></el-table-column>\n      <el-table-column label=\"操作\">\n        <template slot-scope=\"scope\">\n          <el-button size=\"small\" @click=\"handleShowEdit(scope.$index, scope.row)\">编辑</el-button>\n          <el-button size=\"small\" @click=\"handleDel(scope.$index, scope.row)\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <!--表底工具条-->\n    <el-col :span=\"24\" class=\"toolbar\">\n        <!--<el-button type=\"danger\" @click=\"batchRemove\" :disabled=\"this.sels.length===0\">批量删除</el-button>-->\n        <el-pagination layout=\"prev, pager, next\" @current-change=\"handleCurrentChange\" :page-size=\"10\" :total=\"total\" style=\"float:right;\">\n        </el-pagination>\n    </el-col>\n\n\t\t<!--编辑、新增界面-->\n\t\t<el-dialog title=\"告警基本信息编辑\" :visible.sync=\"editFormVisible\" :close-on-click-modal=\"false\">\n\t\t\t<el-form :model=\"editForm\" label-width=\"160px\" ref=\"editForm\" :rules=\"editFormRules\" >\n\t\t\t\t<el-form-item label=\"序号\" prop=\"id\" v-if=\"editBtnVisible\">\n\t\t\t\t\t<el-input v-model=\"editForm.id\" auto-complete=\"off\" v-bind:readonly=\"editBtnVisible\"></el-input>\n\t\t\t\t</el-form-item>\n            <el-form-item label=\"告警编码\" prop=\"alarmCode\">\n                <el-input v-model=\"editForm.alarmCode\" auto-complete=\"off\" v-bind:readonly=\"editBtnVisible\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"告警名称\" prop=\"alarmName\">\n                 <el-input v-model=\"editForm.alarmName\"  auto-complete=\"off\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"告警级别\" prop=\"alarmLevel\">\n                <template>\n                  <el-select v-model=\"editForm.alarmLevel\" placeholder=\"请选择\">\n                    <el-option\n                      v-for=\"item in alarmLevelOptions\"\n                      :key=\"item.value\"\n                      :label=\"item.label\"\n                      :value=\"item.value\">\n                    </el-option>\n                  </el-select>\n                </template>\n            </el-form-item>\n            <el-form-item label=\"告警简介\" prop=\"alarmBrief\">\n                <el-input type=\"textarea\" v-model=\"editForm.alarmBrief\" auto-complete=\"off\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"解决建议\" prop=\"alarmSolution\">\n                <el-input type=\"textarea\" v-model=\"editForm.alarmSolution\" auto-complete=\"off\"></el-input>\n            </el-form-item>\n          </el-form>\n            <div slot=\"footer\" class=\"dialog-footer\">\n                <el-button size=\"small\" @click=\"handleEdit()\" v-if=\"editBtnVisible\" >修改</el-button>\n                <el-button size=\"small\" @click=\"handleAdd()\" v-if=\"addBtnVisible\" >新增</el-button>\n                <el-button size=\"small\" @click.native=\"editFormVisible = false\">关闭</el-button>\n            </div>\n\t\t</el-dialog>\n\t</section>\n</template>\n\n<script>\n// import util from '../../common/js/util';\nimport alarmOprlogUtils from '../../common/js/alarmOprlogUtils'\nimport globalRouter from '../../router/util/globalRouter'\n// import globalVar from '../../components/Global.vue'\n// import NProgress from 'nprogress'\nimport {\n  queryAlarmBaseInfoListPage,\n  addAlarmBaseInfo,\n  editAlarmBaseInfo,\n  delAlarmBaseInfo,\n  checkAlarmCode\n} from '../../api/api'\n\nexport default {\n  data () {\n    // 表单校验部分\n    // 新增，验证告警编码位数，纯数字，和重复\n    var validateAlarmCode = (rule, value, callback) => {\n      var reg = /^\\d{8}$/\n      if (!reg.test(value)) {\n        callback(new Error('请输入8位数字告警编码'))\n      } else {\n        if (this.editBtnVisible) {\n          callback()\n        } else {\n          let para = {\n            'alarmCode': value\n          }\n          checkAlarmCode(para).then((res) => {\n            if (res.check !== null && (res.check === 'exist')) {\n              callback(new Error('告警编码已存在'))\n            } else {\n              callback()\n            }\n          })\n        }\n      }\n    }\n\n    var validateAlarmLevel = (rule, value, callback) => {\n      if (value === '') {\n        callback(new Error('请选择告警级别'))\n      } else {\n        callback()\n      }\n    }\n\n    return {\n      filters: {},\n      alarmInfoVOs: [],\n      total: 0,\n      page: 1,\n      listLoading: false,\n      sels: [], // 列表选中列\n\n      editFormVisible: false, // 编辑界面是否显示\n      editBtnVisible: false, // 弹出框中编辑按钮是否显示\n      addBtnVisible: false, // 弹出框中新建按钮新否显示\n      editLoading: false,\n\n      alarmLevelOptions: [\n        {\n          value: 'INFO',\n          label: '提示'\n        },\n        {\n          value: 'MINOR',\n          label: '一般'\n        },\n        {\n          value: 'MAJOR',\n          label: '重要'\n        },\n        {\n          value: 'CRITICAL',\n          label: '严重'\n        }\n      ],\n\n      alarmLevelSel: [],\n\n      uploadUrl: globalRouter.alarmroot + '/alarmInfo/import',\n\n      // 详情界面数据\n      editForm: {\n        id: 0,\n        name: '',\n        password: '',\n        confirmpassword: '',\n        phone: '',\n        email: '',\n        isAdmin: 0,\n        recAlarmPhoneRSS: 0,\n        recAlarmEmailRSS: 0,\n        description: ''\n      },\n      bindRoleVisible: false,\n      currentUserId: 0,\n\n      editFormRules: {\n        alarmCode: [\n          { required: true, message: '请输入8位数字告警编码', trigger: 'blur' },\n          {validator: validateAlarmCode}\n        ],\n        alarmName: [\n          { required: true, message: '请输入告警名称', trigger: 'blur' },\n          { min: 1, max: 20, message: '请输入不超过20字的告警名称', trigger: 'blur' }\n        ],\n        alarmLevel: [\n          { required: true, message: '请选择告警级别', trigger: 'blur' }\n        ],\n        alarmBrief: [\n          { max: 200, message: '请输入不超过200字', trigger: 'blur' }\n        ],\n        alarmSolution: [\n          { max: 200, message: '请输入不超过200字', trigger: 'blur' }\n        ]\n      }\n    }\n  },\n  methods: {\n    // 获取告警信息列表\n    queryAlarmBaseInfoList () {\n      let para = {\n        keyword: this.filters.keyword,\n        pageIndex: this.page - 1,\n        pageSize: 10\n      }\n\n      this.listLoading = true\n      // NProgress.start();\n      queryAlarmBaseInfoListPage(para).then(res => {\n        if (res.errMsg !== null && res.errMsg !== '') {\n          this.$message({\n            message: res.errMsg,\n            type: 'error',\n            duration: 3000\n          })\n        } else {\n          this.total = res.total\n          this.alarmInfoVOs = res.alarmInfoVOs\n        }\n\n        this.listLoading = false\n        // NProgress.done();\n      })\n    },\n\n    // 显示新建界面\n    handleShowAdd: function () {\n      this.resetForm('editForm')\n      this.addBtnVisible = true\n      this.editFormVisible = true\n      this.editBtnVisible = false\n    },\n\n    // 新增告警基本信息\n    handleAdd: function () {\n      this.$refs.editForm.validate((valid) => {\n        if (valid) {\n          this.$confirm('确认新增告警基本信息吗？', '提示', {}).then(() => {\n            this.editLoading = true\n            // NProgress.start();\n            let para = {\n              // id: this.editForm.id,\n              alarmCode: this.editForm.alarmCode,\n              alarmName: this.editForm.alarmName,\n              alarmLevel: this.editForm.alarmLevel,\n              alarmBrief: this.editForm.alarmBrief,\n              alarmSolution: this.editForm.alarmSolution\n            }\n\n            console.log(JSON.stringify(para))\n\n            addAlarmBaseInfo(para).then(res => {\n              if (res.errMsg !== null && res.errMsg !== '') {\n                this.$message({\n                  message: res.errMsg,\n                  type: 'error',\n                  duration: 3000\n                })\n              } else {\n                this.$message({\n                  message: '新增成功',\n                  type: 'success'\n                })\n                this.$refs['editForm'].resetFields()\n                this.editFormVisible = false\n                this.addBtnVisibale = false\n                this.queryAlarmBaseInfoList()\n              }\n            })\n            this.editLoading = false\n          })\n        }\n      })\n    },\n\n    // 显示编辑界面\n    handleShowEdit: function (index, row) {\n      this.resetForm('editForm')\n      this.editFormVisible = true\n      this.addBtnVisible = false\n      this.editBtnVisible = true\n      this.editForm = Object.assign({}, row)\n    },\n\n    // 重置表单\n    resetForm (formName) {\n      if (this.$refs[formName] != undefined) {\n        this.$refs[formName].resetFields()\n      }\n    },\n\n    // 修改告警基本信息\n    handleEdit: function () {\n      this.$refs.editForm.validate((valid) => {\n        this.$confirm('确认修改告警基本信息吗？', '提示', {}).then(() => {\n          this.editLoading = true\n          // NProgress.start();\n          let para = {\n            id: this.editForm.id,\n            alarmCode: this.editForm.alarmCode,\n            alarmName: this.editForm.alarmName,\n            alarmLevel: this.editForm.alarmLevel,\n            alarmBrief: this.editForm.alarmBrief,\n            alarmSolution: this.editForm.alarmSolution\n          }\n\n          editAlarmBaseInfo(para).then(res => {\n            if (res.errMsg !== null && res.errMsg !== '') {\n              this.$message({\n                message: res.errMsg,\n                type: 'error',\n                duration: 3000\n              })\n            } else {\n              this.$message({\n                message: '修改成功',\n                type: 'success'\n              })\n              this.$refs['editForm'].resetFields()\n              this.editFormVisible = false\n              this.queryAlarmBaseInfoList()\n            }\n          })\n          this.editLoading = false\n        })\n      })\n    },\n\n    // 删除告警基本信息\n    handleDel: function (index, row) {\n      this.$confirm('删除告警基本信息会删除所有此类告警，确认？', '提示', {}).then(() => {\n        let para = {\n          id: row.id\n        }\n\n        delAlarmBaseInfo(para).then(res => {\n          if (res.errMsg !== null && res.errMsg !== '') {\n            this.$message({\n              message: res.errMsg,\n              type: 'error',\n              duration: 3000\n            })\n          } else {\n            this.queryAlarmBaseInfoList()\n          }\n        })\n      })\n    },\n\n    selsChange: function (sels) {\n      this.sels = sels\n    },\n\n    handleCurrentChange (val) {\n      this.page = val\n      this.queryAlarmBaseInfoList()\n    },\n\n    alarmLevelFormat: function (row, column) {\n      var dateString = row[column.property]\n      if (dateString == undefined) {\n        return ''\n      }\n\n      return alarmOprlogUtils.alarmLevelToString(dateString)\n    },\n\n    uploadSuccess: function (res) {\n      if (res.errMsg != '') {\n        this.$message({\n          message: res.errMsg,\n          type: 'error'\n        })\n      } else {\n        if (res.sameNum !== 0) {\n          this.$message({\n            message: '导入' + res.importNum + '条告警基本信息, 另外' + res.sameNum + '条编码重复信息未导入',\n            type: 'success'\n          })\n        } else {\n          this.$message({\n            message: '导入' + res.importNum + '条告警基本信息',\n            type: 'success'\n          })\n        }\n\n        this.queryAlarmBaseInfoList()\n      }\n    },\n\n    uploadError: function () {\n      this.$message({\n        message: '上传文件错误',\n        type: 'error'\n      })\n    },\n\n    onprogress: function () {\n      this.editLoading = true\n    },\n\n    // 批量删除\n    batchRemove: function () {\n      /*\n\t\t\t\tvar ids = this.sels.map(item => item.id).toString();\n\t\t\t\tthis.$confirm('确认删除选中记录吗？', '提示', {\n\t\t\t\t\ttype: 'warning'\n\t\t\t\t}).then(() => {\n\t\t\t\t\tthis.listLoading = true;\n\t\t\t\t\t//NProgress.start();\n\t\t\t\t\tlet para = { ids: ids };\n\t\t\t\t\tbatchRemoveUser(para).then((res) => {\n\t\t\t\t\t\tthis.listLoading = false;\n\t\t\t\t\t\t//NProgress.done();\n\t\t\t\t\t\tthis.$message({\n\t\t\t\t\t\t\tmessage: '删除成功',\n\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.getUsers();\n\t\t\t\t\t});\n\t\t\t\t}).catch(() => {\n\n        });\n        */\n    }\n  },\n  mounted () {\n    this.queryAlarmBaseInfoList()\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/views/alarmoprlog/alarmBaseInfoList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('el-form',{ref:\"filters\",attrs:{\"inline\":true,\"model\":_vm.filters,\"label-width\":\"80px\",\"size\":\"mini\"}},[_c('el-col',{staticClass:\"toolbar\",staticStyle:{\"padding-bottom\":\"0px\",\"margin\":\"0px\"},attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"prop\":\"keyword\",\"label\":\"关键字\",\"span\":6}},[_c('el-input',{model:{value:(_vm.filters.keyword),callback:function ($$v) {_vm.$set(_vm.filters, \"keyword\", $$v)},expression:\"filters.keyword\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"span\":3}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.queryAlarmBaseInfoList}},[_vm._v(\"查询\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"span\":3}},[_c('el-button',{on:{\"click\":function($event){_vm.resetForm('filters')}}},[_vm._v(\"重置\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"span\":3}},[_c('el-button',{on:{\"click\":function($event){_vm.handleShowAdd()}}},[_vm._v(\" 新增\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"span\":3}},[_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"action\":_vm.uploadUrl,\"name\":\"filePoster\",\"show-file-list\":false,\"on-success\":_vm.uploadSuccess,\"on-error\":_vm.uploadError,\"on-progress\":_vm.onprogress}},[_c('el-button',{attrs:{\"type\":\"primary\"}},[_vm._v(\"导入\")])],1)],1)],1)],1),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"stripe\":\"\",\"data\":_vm.alarmInfoVOs,\"highlight-current-row\":\"\"},on:{\"selection-change\":_vm.selsChange}},[(false)?_c('el-table-column',{attrs:{\"prop\":\"id\",\"width\":\"60\"}}):_vm._e(),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"alarmCode\",\"label\":\"编码\",\"width\":\"100\",\"sortable\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"alarmName\",\"label\":\"名称\",\"width\":\"250\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"alarmLevel\",\"label\":\"级别\",\"formatter\":_vm.alarmLevelFormat,\"width\":\"180\",\"sortable\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"alarmBrief\",\"label\":\"简介\",\"width\":\"250\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.handleShowEdit(scope.$index, scope.row)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.handleDel(scope.$index, scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_vm._v(\" \"),_c('el-col',{staticClass:\"toolbar\",attrs:{\"span\":24}},[_c('el-pagination',{staticStyle:{\"float\":\"right\"},attrs:{\"layout\":\"prev, pager, next\",\"page-size\":10,\"total\":_vm.total},on:{\"current-change\":_vm.handleCurrentChange}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"告警基本信息编辑\",\"visible\":_vm.editFormVisible,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.editFormVisible=$event}}},[_c('el-form',{ref:\"editForm\",attrs:{\"model\":_vm.editForm,\"label-width\":\"160px\",\"rules\":_vm.editFormRules}},[(_vm.editBtnVisible)?_c('el-form-item',{attrs:{\"label\":\"序号\",\"prop\":\"id\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\",\"readonly\":_vm.editBtnVisible},model:{value:(_vm.editForm.id),callback:function ($$v) {_vm.$set(_vm.editForm, \"id\", $$v)},expression:\"editForm.id\"}})],1):_vm._e(),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"告警编码\",\"prop\":\"alarmCode\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\",\"readonly\":_vm.editBtnVisible},model:{value:(_vm.editForm.alarmCode),callback:function ($$v) {_vm.$set(_vm.editForm, \"alarmCode\", $$v)},expression:\"editForm.alarmCode\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"告警名称\",\"prop\":\"alarmName\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.editForm.alarmName),callback:function ($$v) {_vm.$set(_vm.editForm, \"alarmName\", $$v)},expression:\"editForm.alarmName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"告警级别\",\"prop\":\"alarmLevel\"}},[[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.editForm.alarmLevel),callback:function ($$v) {_vm.$set(_vm.editForm, \"alarmLevel\", $$v)},expression:\"editForm.alarmLevel\"}},_vm._l((_vm.alarmLevelOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))]],2),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"告警简介\",\"prop\":\"alarmBrief\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"auto-complete\":\"off\"},model:{value:(_vm.editForm.alarmBrief),callback:function ($$v) {_vm.$set(_vm.editForm, \"alarmBrief\", $$v)},expression:\"editForm.alarmBrief\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"解决建议\",\"prop\":\"alarmSolution\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"auto-complete\":\"off\"},model:{value:(_vm.editForm.alarmSolution),callback:function ($$v) {_vm.$set(_vm.editForm, \"alarmSolution\", $$v)},expression:\"editForm.alarmSolution\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[(_vm.editBtnVisible)?_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.handleEdit()}}},[_vm._v(\"修改\")]):_vm._e(),_vm._v(\" \"),(_vm.addBtnVisible)?_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.handleAdd()}}},[_vm._v(\"新增\")]):_vm._e(),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\"},nativeOn:{\"click\":function($event){_vm.editFormVisible = false}}},[_vm._v(\"关闭\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e98322ea\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/alarmoprlog/alarmBaseInfoList.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./alarmBaseInfoList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./alarmBaseInfoList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e98322ea\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./alarmBaseInfoList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/alarmoprlog/alarmBaseInfoList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}