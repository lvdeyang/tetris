<div class="layer">
    <div class="left">
        <el-button type="primary" @click="dialogLeftVisible=true">添加字幕组合</el-button>
        <!--内容-->
        <div style="position:absolute; top:40px; left:0; bottom:50px; width:30%;overflow: hidden">
            <el-table
                    :data="pageData"
                    style="width: 100%"
                    height="95%"
                    highlight-current-row
                    @row-click="clickRow">
                <el-table-column
                        prop="name"
                        label="名称">
                </el-table-column>
                <el-table-column
                        label="操作"
                        width="150">
                    <template slot-scope="scope">
                        <el-button type="warning" size="mini" icon="el-icon-edit" @click="editRow(scope.row)"></el-button>
                        <el-button type="danger" size="mini" icon="el-icon-delete" @click="deleteRow(scope.row.id)"></el-button>
                        </el-button>
                    </template>
                </el-table-column>
            </el-table>
            <el-pagination background @current-change="leftCurrentChange" :current-page="leftCurrentPage"
                           :page-size="10" :pager-count="5" layout="total, prev, pager, next, jumper"
                           :total="leftData.length">
            </el-pagination>
        </div>
    </div>

    <div class="right" v-show="rightShow">
        <el-button type="primary" @click="dialogFormVisible=true">添加图层</el-button>
        <!--内容-->
        <div style="position:absolute; top:40px; left:30%; bottom:50px; right:0;overflow: hidden">
            <el-table
                    :data="rightPageData"
                    style="width: 100%"
                    height="95%">
                <el-table-column
                        prop="subtitleName"
                        label="字幕名称">
                </el-table-column>
                <el-table-column
                        prop="subtitleUsername"
                        label="字幕创建人">
                    <template></template>
                </el-table-column>
                <el-table-column
                        prop="x"
                        label="横坐标百分比">
                </el-table-column>
                <el-table-column
                        prop="y"
                        label="纵坐标百分比">
                </el-table-column>
                <el-table-column
                        prop="layerIndex"
                        label="图层顺序">
                </el-table-column>
                <el-table-column
                        label="操作"
                        width="250">
                    <template slot-scope="scope">
                        <el-button type="warning" size="mini" icon="el-icon-edit" @click="editRow(scope.row)"></el-button>
                        <el-button type="danger" size="mini" icon="el-icon-delete" @click="deleteRow(scope.row.id)"></el-button>
                        <el-button type="primary" size="mini" icon="el-icon-sort-up"></el-button>
                        <el-button type="primary" size="mini" icon="el-icon-sort-down"></el-button>
                    </template>
                </el-table-column>
            </el-table>
            <el-pagination background @current-change="rightCurrentChange" :current-page="rightCurrentPage"
                           :page-size="10" :pager-count="5" layout="total, prev, pager, next, jumper"
                           :total="rightData.length">
            </el-pagination>
        </div>
    </div>

    <!--底部按钮-->
    <div style="height:50px; position:absolute; left:0; bottom:0; width:100%; text-align:right; padding-top:9px; padding-right:10px; box-sizing:border-box;">
        <el-button size="small" @click="cancel" type="warning">关闭页面</el-button>
    </div>


    <!--左侧按钮对应的对话框-->
    <el-dialog
            title="添加osd"
            :visible.sync="dialogLeftVisible"
            width="30%">
        <el-input v-model="name" placeholder="请输入名字"></el-input>
        <span slot="footer" class="dialog-footer">
    <el-button @click="dialogLeftVisible = false">取 消</el-button>
    <el-button v-if="!btnShow" type="primary" @click="leftConfirm">确 定</el-button>
    <el-button v-if="btnShow" type="primary" @click="editSubtitle">修 改</el-button>
  </span>
    </el-dialog>

    <!--右侧按钮对应的对话框-->
    <el-dialog title="添加图层" :visible.sync="dialogFormVisible">
        <el-form :model="form">
            <el-form-item label="图层类型" :label-width="formLabelWidth">
                <el-select v-model="form.layerType" placeholder="请选择">
                    <el-option v-for="(item,index) in layerType" :label="item" :value="item" :key="index"></el-option>
                </el-select>
            </el-form-item>
            <el-form-item label="选择字幕" :label-width="formLabelWidth">
                <el-input v-if="form.layerType!=='字幕'" v-model="form.subtitleName" disabled></el-input>
                <el-input v-else v-model="form.subtitleName" readonly placeholder="点击我！" @click.native="handleAddLayerSelectSubtitle"></el-input>
            </el-form-item>
            <el-form-item label="横坐标百分比" :label-width="formLabelWidth">
                <el-input-number size="medium" :min="0" :max="100" v-model="form.x"></el-input-number>
            </el-form-item>
            <el-form-item label="纵坐标百分比" :label-width="formLabelWidth">
                <el-input-number size="medium" :min="0" :max="100" v-model="form.y"></el-input-number>
            </el-form-item>
        </el-form>
        <div slot="footer" class="dialog-footer">
            <el-button @click="dialogFormVisible = false">取 消</el-button>
            <el-button type="primary" @click="rightAddConfirm">确 定</el-button>
            <el-button type="primary" @click="rightEditConfirm">修 改</el-button>
        </div>
    </el-dialog>


    <el-dialog title="选择字幕" :visible.sync="dialogTableVisible">
        <el-table :data="gridData"  highlight-current-row @row-click="chooseRow">
            <el-table-column property="name" label="名称" width="150"></el-table-column>
            <el-table-column property="username" label="创建人" width="200"></el-table-column>
            <el-table-column property="content" label="内容"></el-table-column>
        </el-table>
        <el-pagination background @current-change="dialogCurrentChange" :current-page="dialogCurrentPage"
                       :page-size="10" :pager-count="5" layout="total, prev, pager, next, jumper"
                       :total="gridData.length">
        </el-pagination>
        <div slot="footer" class="dialog-footer">
            <el-button @click="dialogTableVisible = false">取 消</el-button>
            <el-button type="primary" @click="chooseConfirm">确 定</el-button>
        </div>
    </el-dialog>
</div>