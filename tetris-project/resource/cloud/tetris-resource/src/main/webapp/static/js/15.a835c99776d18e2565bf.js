webpackJsonp([15],{UbVS:function(e,t){},V5AO:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("BO1k"),l=a.n(n),i=a("mvHQ"),r=a.n(i),s=a("P9l9"),o={name:"ModifyBundle",data:function(){return{activeTabName:"ModifyBundle",bundleId:this.$route.query.bundleId,bundleName:this.$route.query.bundleName,deviceIp:this.$route.query.deviceIp,devicePort:this.$route.query.devicePort,extraInfos:[]}},methods:{handleTabClick:function(e,t){"ModifyBundle"!==e.name&&this.$router.push("/"+e.name)},queryBundleExtraInfo:function(){var e=this,t={bundleId:this.bundleId};Object(s.N)(t).then(function(t){t.errMsg?e.$message({message:t.errMsg,type:"error"}):e.extraInfos=t.extraInfos})},addExtraInfo:function(){this.extraInfos.push({})},remove:function(e){var t=this.extraInfos.indexOf(e);-1!==t&&this.extraInfos.splice(t,1)},submit:function(){var e=this;if(this.validateExtraInfo()){var t={bundleId:this.bundleId,bundleName:this.bundleName,deviceIp:this.deviceIp,devicePort:this.devicePort,extraInfos:r()(this.extraInfos)};Object(s.J)(t).then(function(t){t.errMsg?e.$message({message:t.errMsg,type:"error"}):e.$message({message:"修改成功",type:"success"})})}},validateExtraInfo:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=l()(this.extraInfos);!(e=(n=i.next()).done);e=!0){var r=n.value;if(!r.name||!r.value)return this.$message({message:"扩展字段不能为空",type:"error"}),!1}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}return!0}},mounted:function(){this.queryBundleExtraInfo()}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-tabs",{staticStyle:{float:"left",width:"100%"},on:{"tab-click":e.handleTabClick},model:{value:e.activeTabName,callback:function(t){e.activeTabName=t},expression:"activeTabName"}},[a("el-tab-pane",{attrs:{label:"资源列表",name:"BundleManage"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"修改资源",name:"ModifyBundle"}})],1),e._v(" "),a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{size:"small",label:"设备名称",prop:"bundleName"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"输入新的设备名称"},model:{value:e.bundleName,callback:function(t){e.bundleName=t},expression:"bundleName"}})],1),e._v(" "),a("el-form-item",{attrs:{size:"small",label:"设备IP",prop:"deviceIp"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"输入新的设备IP"},model:{value:e.deviceIp,callback:function(t){e.deviceIp=t},expression:"deviceIp"}})],1),e._v(" "),a("el-form-item",{attrs:{size:"small",label:"设备端口",prop:"devicePort"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"输入新的设备端口"},model:{value:e.devicePort,callback:function(t){e.devicePort=t},expression:"devicePort"}})],1),e._v(" "),a("el-button",{staticStyle:{"margin-top":"20px","margin-left":"30px"},attrs:{type:"info",size:"small"},on:{click:e.addExtraInfo}},[e._v("新增扩展字段")]),e._v(" "),e._l(e.extraInfos,function(t,n){return a("div",{staticStyle:{"margin-top":"10px"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{size:"small",placeholder:"扩展字段名"},model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"extraInfo.name"}}),e._v(" "),a("el-input",{staticStyle:{width:"180px","margin-left":"10px"},attrs:{size:"small",placeholder:"扩展字段值"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"extraInfo.value"}}),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"danger"},on:{click:function(a){a.preventDefault(),e.remove(t)}}},[e._v("删除")])],1)}),e._v(" "),a("div",{staticStyle:{"margin-top":"30px","margin-left":"30px"}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.submit}},[e._v("提交")])],1)],2)],1)},staticRenderFns:[]};var u=a("VU/8")(o,c,!1,function(e){a("UbVS")},"data-v-0fd897d9",null);t.default=u.exports}});
//# sourceMappingURL=15.a835c99776d18e2565bf.js.map