webpackJsonp([16],{IZ07:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l("BO1k"),n=l.n(a),o=l("P9l9"),i={data:function(){return{activeTabName:"LayernodeManage",nodes:[],typeOptions:[{value:"",label:"全部类型"},{label:"JV230接入",value:"ACCESS_JV230"},{label:"机顶盒接入",value:"ACCESS_TVOS"},{label:"混合器接入",value:"ACCESS_MIXER"},{label:"手机接入",value:"ACCESS_MOBILE"},{label:"音视频转发服务设备",value:"ACCESS_JV210"},{label:"录像存储服务单元A型",value:"ACCESS_CDN"},{label:"录像存储服务单元B型",value:"ACCESS_VOD"},{label:"监控资源汇接网关",value:"ACCESS_IPC"},{label:"流媒体管理服务设备",value:"ACCESS_STREAMMEDIA"},{label:"联网服务设备",value:"ACCESS_NETWORK"},{label:"显控汇接网关",value:"ACCESS_DISPLAYCTRL"},{label:"流转发器接入",value:"ACCESS_S100"},{label:"点播代理服务设备",value:"ACCESS_VODPROXY"}],typeObj:{ACCESS_MOBILE:"手机接入",ACCESS_JV230:"JV230接入",ACCESS_TVOS:"机顶盒接入",ACCESS_MIXER:"混合器接入",ACCESS_JV210:"音视频转发服务设备",ACCESS_CDN:"录像存储服务单元A型",ACCESS_VOD:"录像存储服务单元B型",ACCESS_IPC:"监控资源汇接网关",ACCESS_STREAMMEDIA:"流媒体管理服务设备",ACCESS_NETWORK:"联网服务设备",ACCESS_DISPLAYCTRL:"显控汇接网关",ACCESS_S100:"流转发器接入",ACCESS_VODPROXY:"点播代理服务设备"},filters:{type:"",keyword:""},nodeTableLoading:!1,multipleSelection:[]}},methods:{handleTabClick:function(e,t){"LayernodeManage"!==e.name&&this.$router.push("/"+e.name)},getNodes:function(){var e=this,t={type:this.filters.type,keyword:this.filters.keyword};this.nodeTableLoading=!0,Object(o.B)(t).then(function(t){t.errMsg?e.$message({message:t.errMsg,type:"error"}):e.nodes=t.nodes,e.nodeTableLoading=!1})},handleModify:function(e){this.$router.push({path:"/ModifyLayernode",query:{id:e.id}})},handleDelete:function(e){var t=this;this.$confirm("是否确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var l={nodeIds:e.id};Object(o.p)(l).then(function(e){e.errMsg?t.$message({message:e.errMsg,type:"error"}):(t.$message({message:"删除成功",type:"success"}),t.getNodes())})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},handleMultiDelete:function(){var e=this;this.multipleSelection.length?this.$confirm("是否确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t=[],l=!0,a=!1,i=void 0;try{for(var s,r=n()(e.multipleSelection);!(l=(s=r.next()).done);l=!0){var c=s.value;t.push(c.id)}}catch(e){a=!0,i=e}finally{try{!l&&r.return&&r.return()}finally{if(a)throw i}}var d={nodeIds:t.join(",")};Object(o.p)(d).then(function(t){t.errMsg?e.$message({message:t.errMsg,type:"error"}):(e.$message({message:"删除成功",type:"success"}),e.getNodes())})}).catch(function(){e.$message({type:"info",message:"已取消删除"})}):this.$message({message:"请至少选择一行",type:"warning"})},handleSelectionChange:function(e){this.multipleSelection=e}},mounted:function(){this.getNodes()}},s={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("section",[l("el-tabs",{staticStyle:{float:"left",width:"100%"},on:{"tab-click":e.handleTabClick},model:{value:e.activeTabName,callback:function(t){e.activeTabName=t},expression:"activeTabName"}},[l("el-tab-pane",{attrs:{label:"层节点列表",name:"LayernodeManage"}}),e._v(" "),l("el-tab-pane",{attrs:{label:"添加层节点",name:"AddLayernode"}})],1),e._v(" "),l("div",{staticStyle:{float:"left",width:"100%"}},[l("el-select",{staticStyle:{float:"left","margin-left":"10px",width:"200px"},attrs:{size:"small",placeholder:"选择层节点类型"},model:{value:e.filters.type,callback:function(t){e.$set(e.filters,"type",t)},expression:"filters.type"}},e._l(e.typeOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),l("el-input",{staticStyle:{float:"left","margin-left":"30px",width:"200px"},attrs:{size:"small",placeholder:"节点名称"},model:{value:e.filters.keyword,callback:function(t){e.$set(e.filters,"keyword",t)},expression:"filters.keyword"}}),e._v(" "),l("el-button",{staticStyle:{float:"left","margin-left":"30px"},attrs:{size:"small",type:"info"},on:{click:e.getNodes}},[e._v("查询")]),e._v(" "),l("el-button",{staticStyle:{float:"left","margin-left":"30px"},attrs:{size:"small",type:"danger"},on:{click:e.handleMultiDelete}},[e._v("批量删除")])],1),e._v(" "),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.nodeTableLoading,expression:"nodeTableLoading"}],staticStyle:{float:"left",width:"100%","margin-top":"20px"},attrs:{data:e.nodes},on:{"selection-change":e.handleSelectionChange}},[l("el-table-column",{attrs:{width:"100",type:"selection"}}),e._v(" "),l("el-table-column",{attrs:{prop:"name",label:"名称",width:"200",sortable:""}}),e._v(" "),l("el-table-column",{attrs:{prop:"type",label:"层节点类型",width:"200",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("span",{domProps:{textContent:e._s(e.typeObj[t.row.type])}})])]}}])}),e._v(" "),l("el-table-column",{attrs:{prop:"nodeUid",label:"层节点ID",width:"300",sortable:""}}),e._v(" "),l("el-table-column",{attrs:{prop:"ip",label:"层节点IP",width:"200",sortable:""}}),e._v(" "),l("el-table-column",{attrs:{width:"150",label:"在线状态"},scopedSlots:e._u([{key:"default",fn:function(e){return["ONLINE"==e.row.onlineStatus?l("div",{staticStyle:{height:"20px",width:"20px","border-radius":"50%","background-color":"#0f0"}}):l("div",{staticStyle:{height:"20px",width:"20px","border-radius":"50%","background-color":"#f00"}})]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){e.handleModify(t.row)}}},[e._v("修改")]),e._v(" "),l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1)],1)},staticRenderFns:[]};var r=l("VU/8")(i,s,!1,function(e){l("TCG0")},null,null);t.default=r.exports},TCG0:function(e,t){}});
//# sourceMappingURL=16.1e41a0623a13d831b047.js.map