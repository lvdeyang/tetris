webpackJsonp([2],{"+CLx":function(e,t){},"+H76":function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={render:function(){var e=this.$createElement;return(this._self._c||e)("p",{staticClass:"page-container"},[this._v("404 page not found")])},staticRenderFns:[]};var n=l("VU/8")(null,a,!1,function(e){l("hbAF")},"data-v-4c48d771",null);t.default=n.exports},"+b1m":function(e,t,l){"use strict";var a=l("7+uW");t.a=new a.default},"/97/":function(e,t){},"/Qkj":function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l("P9l9"),n={name:"selectLayerNode",data:function(){return{visible:!1,table:{totalData:[],filterData:[],currentRow:""},layerNodeTypes:[{value:"ACCESS_JV230",label:"JV230接入"},{value:"ACCESS_TVOS",label:"机顶盒接入"},{value:"ACCESS_MIXER",label:"混合器接入"},{value:"ACCESS_MOBILE",label:"手机终端接入"},{value:"ACCESS_JV210",label:"音视频转发服务设备"},{value:"ACCESS_CDN",label:"录像存储服务单元A型"},{value:"ACCESS_VOD",label:"录像存储服务单元B型"},{value:"ACCESS_IPC",label:"监控资源汇接网关"},{value:"ACCESS_STREAMMEDIA",label:"流媒体管理服务设备"},{value:"ACCESS_NETWORK",label:"联网服务设备"},{value:"ACCESS_DISPLAYCTRL",label:"显控汇接网关"},{value:"ACCESS_S100",label:"流转发器接入"},{value:"ACCESS_VODPROXY",label:"点播代理服务设备"},{value:"ACCESS_LIANWANG",label:"联网接入"},{label:"LDAP目录资源服务设备",value:"ACCESS_LDAP"},{label:"综合运维服务设备",value:"ACCESS_OMMS"},{label:"ws接入",value:"ACCESS_WS"}],filters:{type:"",name:"",ip:""}}},methods:{show:function(){var e=this;e.visible=!0,Object(a.F)({type:"",keyword:""}).then(function(t){if(e.table.totalData.splice(0,e.table.totalData.length),e.table.filterData.splice(0,e.table.filterData.length),t.errMsg)e.$message({type:"error",message:t.errMsg});else if(t.nodes&&t.nodes.length>0)for(var l=0;l<t.nodes.length;l++){for(var a=0;a<e.layerNodeTypes.length;a++)if(e.layerNodeTypes[a].value===t.nodes[l].type){t.nodes[l].typeName=e.layerNodeTypes[a].label;break}e.table.totalData.push(t.nodes[l]),e.table.filterData.push(t.nodes[l])}})},handleClose:function(){this.visible=!1,this.table.totalData.splice(0,this.table.totalData.length),this.table.filterData.splice(0,this.table.filterData.length),this.table.currentRow="",this.filters.type="",this.filters.name="",this.filters.ip=""},handleCommit:function(){var e=this;e.$emit("layer-node-selected",e.table.currentRow,function(){e.handleClose()})},handleFilter:function(){this.table.filterData.splice(0,this.table.filterData.length);for(var e=0;e<this.table.totalData.length;e++){var t=!0,l=this.table.totalData[e];this.filters.type&&l.type!==this.filters.type&&(t=!1),t&&this.filters.name&&l.name.toLowerCase().indexOf(this.filters.name.toLowerCase())<0&&(t=!1),t&&this.filters.ip&&l.ip.indexOf(this.filters.ip)<0&&(t=!1),t&&this.table.filterData.push(l)}},currentRowChange:function(e,t){this.table.currentRow=e}},mounted:function(){}},r={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-dialog",{attrs:{title:"选择接入层",visible:e.visible,width:"800px","before-close":e.handleClose},on:{"update:visible":function(t){e.visible=t}}},[l("div",{staticStyle:{height:"500px",position:"relative"}},[l("div",{staticStyle:{height:"50px",width:"100%"}},[l("el-select",{staticStyle:{"margin-right":"10px"},attrs:{placeholder:"接入层类型"},model:{value:e.filters.type,callback:function(t){e.$set(e.filters,"type",t)},expression:"filters.type"}},[l("el-option",{attrs:{value:""}},[e._v("全部类型")]),e._v(" "),e._l(e.layerNodeTypes,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})],2),e._v(" "),l("el-input",{staticStyle:{width:"auto","margin-right":"10px"},attrs:{placeholder:"接入层名称"},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}}),e._v(" "),l("el-input",{staticStyle:{width:"auto","margin-right":"10px"},attrs:{placeholder:"接入成ip"},model:{value:e.filters.ip,callback:function(t){e.$set(e.filters,"ip",t)},expression:"filters.ip"}}),e._v(" "),l("el-button",{on:{click:e.handleFilter}},[e._v("查询")])],1),e._v(" "),l("div",{staticStyle:{position:"absolute",left:"0",top:"50px",right:"0",bottom:"0"}},[l("el-scrollbar",{staticStyle:{height:"100%"}},[l("el-table",{staticStyle:{width:"100%"},attrs:{data:e.table.filterData,"highlight-current-row":""},on:{"current-change":e.currentRowChange}},[l("el-table-column",{attrs:{prop:"name",label:"名称"}}),e._v(" "),l("el-table-column",{attrs:{prop:"ip",label:"ip"}}),e._v(" "),l("el-table-column",{attrs:{prop:"typeName",label:"类型"}})],1)],1)],1)]),e._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:e.handleClose}},[e._v("取消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:e.handleCommit}},[e._v("确定")])],1)])},staticRenderFns:[]};var i=l("VU/8")(n,r,!1,function(e){l("zzxg")},null,null);t.default=i.exports},"0nep":function(e,t){document.location.origin;e.exports={queryRouterUrl:"/privilege/queryMenu",serviceName:"suma-venus-resource"}},"4miF":function(e,t){},"4vq3":function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l("BO1k"),n=l.n(a),r=l("nvbp"),i=l.n(r),o=l("mvHQ"),s=l.n(o),d=l("bOdI"),c=l.n(d),u=l("P9l9"),h={data:function(){var e;return e={treeData:[],folderTreeSelected:{value:"",label:""},defaultProps:{children:"children",label:"name"},defaultExpandAll:!1,expandOnClickNode:!1,activeTabName:"BindResource",deviceModelOptions:[],roles:[],currentRoleRow:null,resources:[],bindTypeOptions:[{value:"all",label:"全部"},{value:"binded",label:"已绑定"},{value:"unbinded",label:"未绑定"}]},c()(e,"deviceModelOptions",[]),c()(e,"filters",{deviceModel:"",keyword:"",bindType:"all",countPerPage:""}),c()(e,"total",0),c()(e,"pageNum",1),c()(e,"countPerPage",20),c()(e,"roleTableLoading",!1),c()(e,"resourceTableLoading",!1),c()(e,"prevReadChecks",[]),c()(e,"prevWriteChecks",[]),c()(e,"prevCloudChecks",[]),c()(e,"prevHJChecks",[]),c()(e,"prevZKChecks",[]),c()(e,"prevHYChecks",[]),c()(e,"readChecks",[]),c()(e,"writeChecks",[]),c()(e,"cloudChecks",[]),c()(e,"HJchecks",[]),c()(e,"ZKchecks",[]),c()(e,"HYchecks",[]),c()(e,"detailDialogVisible",!1),c()(e,"detailInfos",[]),c()(e,"users",[]),c()(e,"userTableLoading",!1),c()(e,"resourceTableShow",!0),c()(e,"userTableShow",!1),c()(e,"checkReadAll",!1),c()(e,"checkWriteAll",!1),c()(e,"checkCloudAll",!1),c()(e,"checkHJAll",!1),c()(e,"checkZKAll",!1),c()(e,"checkHYAll",!1),e},methods:{dataFilter:function(e){this.$refs.tree.filter(e)},filterNode:function(e,t){return!e||-1!==t.name.indexOf(e)},initTree:function(e){var t=this;Object(u.N)().then(function(e){e.errMsg?t.$message({message:e.errMsg,type:"error"}):(t.treeData=t.treeData.concat(e.tree),console.log(s()(t.treeData)))})},handleNodeClick:function(e){this.folderTreeSelected.value=e.id,this.folderTreeSelected.label=e.name,this.$refs.selectTree.blur()},clearHandle:function(){this.folderTreeSelected.value="",this.folderTreeSelected.label="",this.$refs.tree.filter("")},handleTabClick:function(e,t){"BindResource"!==e.name&&this.$router.push("/"+e.name)},handleRoleTableRowChange:function(e){this.currentRoleRow=e,this.resourceTableShow?this.getResources():this.userTableShow&&this.getUsers()},renderCheckReadHeader:function(e,t){var l=this;return e("el-checkbox",i()([{attrs:{value:l.checkReadAll},on:{input:function(e){l.checkReadAll=e}}},{directives:[{name:"model",value:l.checkReadAll}]},{on:{change:this.handleCheckReadAllChange}}]),["录制"])},renderCheckWriteHeader:function(e,t){var l=this;return e("el-checkbox",i()([{attrs:{value:l.checkWriteAll},on:{input:function(e){l.checkWriteAll=e}}},{directives:[{name:"model",value:l.checkWriteAll}]},{on:{change:this.handleCheckWriteAllChange}}]),["点播"])},renderCheckCloudHeader:function(e,t){var l=this;return e("el-checkbox",i()([{attrs:{value:l.checkCloudAll},on:{input:function(e){l.checkCloudAll=e}}},{directives:[{name:"model",value:l.checkCloudAll}]},{on:{change:this.handleCheckCloudAllChange}}]),["云台"])},renderCheckHJHeader:function(e,t){var l=this;return e("el-checkbox",i()([{attrs:{value:l.checkHJAll},on:{input:function(e){l.checkHJAll=e}}},{directives:[{name:"model",value:l.checkHJAll}]},{on:{change:this.handleCheckHJAllChange}}]),["呼叫"])},renderCheckZKHeader:function(e,t){var l=this;return e("el-checkbox",i()([{attrs:{value:l.checkZKAll},on:{input:function(e){l.checkZKAll=e}}},{directives:[{name:"model",value:l.checkZKAll}]},{on:{change:this.handleCheckZKAllChange}}]),["指挥"])},renderCheckHYHeader:function(e,t){var l=this;return e("el-checkbox",i()([{attrs:{value:l.checkHYAll},on:{input:function(e){l.checkHYAll=e}}},{directives:[{name:"model",value:l.checkHYAll}]},{on:{change:this.handleCheckHYAllChange}}]),["会议"])},handleCheckReadAllChange:function(e){if(this.resourceTableShow)if(e){var t=!0,l=!1,a=void 0;try{for(var r,i=n()(this.resources);!(t=(r=i.next()).done);t=!0){var o=r.value;this.readChecks.push(o.bundleId),o.hasReadPrivilege=!0}}catch(e){l=!0,a=e}finally{try{!t&&i.return&&i.return()}finally{if(l)throw a}}}else{this.readChecks=[];var s=!0,d=!1,c=void 0;try{for(var u,h=n()(this.resources);!(s=(u=h.next()).done);s=!0){u.value.hasReadPrivilege=!1}}catch(e){d=!0,c=e}finally{try{!s&&h.return&&h.return()}finally{if(d)throw c}}}else if(this.userTableShow)if(e){var p=!0,m=!1,f=void 0;try{for(var v,b=n()(this.users);!(p=(v=b.next()).done);p=!0){var g=v.value;this.readChecks.push(g.userNo),g.hasReadPrivilege=!0}}catch(e){m=!0,f=e}finally{try{!p&&b.return&&b.return()}finally{if(m)throw f}}}else{this.readChecks=[];var y=!0,k=!1,w=void 0;try{for(var C,S=n()(this.users);!(y=(C=S.next()).done);y=!0){C.value.hasReadPrivilege=!1}}catch(e){k=!0,w=e}finally{try{!y&&S.return&&S.return()}finally{if(k)throw w}}}},handleCheckWriteAllChange:function(e){if(this.resourceTableShow)if(e){var t=!0,l=!1,a=void 0;try{for(var r,i=n()(this.resources);!(t=(r=i.next()).done);t=!0){var o=r.value;this.writeChecks.push(o.bundleId),o.hasWritePrivilege=!0}}catch(e){l=!0,a=e}finally{try{!t&&i.return&&i.return()}finally{if(l)throw a}}}else{this.writeChecks=[];var s=!0,d=!1,c=void 0;try{for(var u,h=n()(this.resources);!(s=(u=h.next()).done);s=!0){u.value.hasWritePrivilege=!1}}catch(e){d=!0,c=e}finally{try{!s&&h.return&&h.return()}finally{if(d)throw c}}}else if(this.userTableShow)if(e){var p=!0,m=!1,f=void 0;try{for(var v,b=n()(this.users);!(p=(v=b.next()).done);p=!0){var g=v.value;this.writeChecks.push(g.userNo),g.hasWritePrivilege=!0}}catch(e){m=!0,f=e}finally{try{!p&&b.return&&b.return()}finally{if(m)throw f}}}else{this.writeChecks=[];var y=!0,k=!1,w=void 0;try{for(var C,S=n()(this.users);!(y=(C=S.next()).done);y=!0){C.value.hasWritePrivilege=!1}}catch(e){k=!0,w=e}finally{try{!y&&S.return&&S.return()}finally{if(k)throw w}}}},handleCheckCloudAllChange:function(e){if(this.resourceTableShow)if(e){var t=!0,l=!1,a=void 0;try{for(var r,i=n()(this.resources);!(t=(r=i.next()).done);t=!0){var o=r.value;this.cloudChecks.push(o.bundleId),o.hasCloudPrivilege=!0}}catch(e){l=!0,a=e}finally{try{!t&&i.return&&i.return()}finally{if(l)throw a}}}else{this.cloudChecks=[];var s=!0,d=!1,c=void 0;try{for(var u,h=n()(this.resources);!(s=(u=h.next()).done);s=!0){u.value.hasCloudPrivilege=!1}}catch(e){d=!0,c=e}finally{try{!s&&h.return&&h.return()}finally{if(d)throw c}}}else if(this.userTableShow)if(e){var p=!0,m=!1,f=void 0;try{for(var v,b=n()(this.users);!(p=(v=b.next()).done);p=!0){var g=v.value;this.cloudChecks.push(g.userNo),g.hasCloudPrivilege=!0}}catch(e){m=!0,f=e}finally{try{!p&&b.return&&b.return()}finally{if(m)throw f}}}else{this.cloudChecks=[];var y=!0,k=!1,w=void 0;try{for(var C,S=n()(this.users);!(y=(C=S.next()).done);y=!0){C.value.hasCloudPrivilege=!1}}catch(e){k=!0,w=e}finally{try{!y&&S.return&&S.return()}finally{if(k)throw w}}}},handleCheckHJAllChange:function(e){if(this.userTableShow)if(e){var t=!0,l=!1,a=void 0;try{for(var r,i=n()(this.users);!(t=(r=i.next()).done);t=!0){var o=r.value;this.HJchecks.push(o.userNo),o.hasHJPrivilege=!0}}catch(e){l=!0,a=e}finally{try{!t&&i.return&&i.return()}finally{if(l)throw a}}}else{this.HJchecks=[];var s=!0,d=!1,c=void 0;try{for(var u,h=n()(this.users);!(s=(u=h.next()).done);s=!0){u.value.hasHJPrivilege=!1}}catch(e){d=!0,c=e}finally{try{!s&&h.return&&h.return()}finally{if(d)throw c}}}},handleCheckZKAllChange:function(e){if(this.userTableShow)if(e){var t=!0,l=!1,a=void 0;try{for(var r,i=n()(this.users);!(t=(r=i.next()).done);t=!0){var o=r.value;this.ZKchecks.push(o.userNo),o.hasZKPrivilege=!0}}catch(e){l=!0,a=e}finally{try{!t&&i.return&&i.return()}finally{if(l)throw a}}}else{this.ZKchecks=[];var s=!0,d=!1,c=void 0;try{for(var u,h=n()(this.users);!(s=(u=h.next()).done);s=!0){u.value.hasZKPrivilege=!1}}catch(e){d=!0,c=e}finally{try{!s&&h.return&&h.return()}finally{if(d)throw c}}}},handleCheckHYAllChange:function(e){if(this.userTableShow)if(e){var t=!0,l=!1,a=void 0;try{for(var r,i=n()(this.users);!(t=(r=i.next()).done);t=!0){var o=r.value;this.HYchecks.push(o.userNo),o.hasHYPrivilege=!0}}catch(e){l=!0,a=e}finally{try{!t&&i.return&&i.return()}finally{if(l)throw a}}}else{this.HYchecks=[];var s=!0,d=!1,c=void 0;try{for(var u,h=n()(this.users);!(s=(u=h.next()).done);s=!0){u.value.hasHYPrivilege=!1}}catch(e){d=!0,c=e}finally{try{!s&&h.return&&h.return()}finally{if(d)throw c}}}},handleCheckReadChange:function(e){this.resourceTableShow?e.hasReadPrivilege?(this.readChecks.push(e.bundleId),this.readChecks.length===this.resources.length&&(this.checkReadAll=!0)):(this.readChecks.splice(this.readChecks.indexOf(e.bundleId),1),this.checkReadAll=!1):this.userTableShow&&(e.hasReadPrivilege?(this.readChecks.push(e.userNo),this.readChecks.length===this.users.length&&(this.checkReadAll=!0)):(this.readChecks.splice(this.readChecks.indexOf(e.userNo),1),this.checkReadAll=!1))},handleCheckWriteChange:function(e){this.resourceTableShow?e.hasWritePrivilege?(this.writeChecks.push(e.bundleId),this.writeChecks.length===this.resources.length&&(this.checkWriteAll=!0)):(this.writeChecks.splice(this.writeChecks.indexOf(e.bundleId),1),this.checkWriteAll=!1):this.userTableShow&&(e.hasWritePrivilege?(this.writeChecks.push(e.userNo),this.writeChecks.length===this.users.length&&(this.checkWriteAll=!0)):(this.writeChecks.splice(this.writeChecks.indexOf(e.userNo),1),this.checkWriteAll=!1))},handleCheckCloudChange:function(e){this.resourceTableShow?e.hasCloudPrivilege?(this.cloudChecks.push(e.bundleId),this.cloudChecks.length===this.resources.length&&(this.checkCloudAll=!0)):(this.cloudChecks.splice(this.cloudChecks.indexOf(e.bundleId),1),this.checkCloudAll=!1):this.userTableShow&&(e.hasCloudPrivilege?(this.cloudChecks.push(e.userNo),this.cloudChecks.length===this.users.length&&(this.checkCloudAll=!0)):(this.cloudChecks.splice(this.cloudChecks.indexOf(e.userNo),1),this.checkCloudAll=!1))},handleCheckHJChange:function(e){this.userTableShow&&(e.hasHJPrivilege?(this.HJchecks.push(e.userNo),this.HJchecks.length===this.users.length&&(this.checkHJAll=!0)):(this.HJchecks.splice(this.HJchecks.indexOf(e.userNo),1),this.checkHJAll=!1))},handleCheckZKChange:function(e){this.userTableShow&&(e.hasZKPrivilege?(this.ZKchecks.push(e.userNo),this.ZKchecks.length===this.users.length&&(this.checkZKAll=!0)):(this.ZKchecks.splice(this.ZKchecks.indexOf(e.userNo),1),this.checkZKAll=!1))},handleCheckHYChange:function(e){this.userTableShow&&(e.hasHYPrivilege?(this.HYchecks.push(e.userNo),this.HYchecks.length===this.users.length&&(this.checkHYAll=!0)):(this.HYchecks.splice(this.HYchecks.indexOf(e.userNo),1),this.checkHYAll=!1))},getRoles:function(){var e=this;this.roleTableLoading=!0,Object(u.v)({}).then(function(t){t.errMsg?e.$message({message:t.errMsg,type:"error"}):e.roles=t.roles,e.roleTableLoading=!1})},getDeviceModels:function(){var e=this;Object(u.C)().then(function(t){if(!t.errMsg&&t.deviceModels){e.deviceModelOptions.push({value:"",label:"全部类型"});var l=!0,a=!1,r=void 0;try{for(var i,o=n()(t.deviceModels);!(l=(i=o.next()).done);l=!0){var s=i.value,d={value:s,label:s};e.deviceModelOptions.push(d)}}catch(e){a=!0,r=e}finally{try{!l&&o.return&&o.return()}finally{if(a)throw r}}}})},getResources:function(){var e=this;if(this.resourceTableShow||(this.pageNum=1),this.currentRoleRow){this.resourceTableShow=!0,this.userTableShow=!1,this.prevReadChecks=[],this.prevWriteChecks=[],this.prevCloudChecks=[],this.readChecks=[],this.writeChecks=[],this.cloudChecks=[],this.checkReadAll=!1,this.checkWriteAll=!1,this.checkCloudAll=!1,this.checkHJAll=!1,this.checkZKAll=!1,this.checkHYAll=!1,this.countPerPage=20,/^[1-9]+[0-9]*]*$/.test(this.filters.countPerPage)&&(this.countPerPage=parseInt(this.filters.countPerPage)),this.resourceTableShow&&this.countPerPage*(this.pageNum-1)>this.total&&(this.pageNum=Math.ceil(this.total/this.countPerPage)),""==this.filters.deviceModel&&""==this.filters.keyword&&""==this.folderTreeSelected.value||(this.pageNum=1);var t={roleId:this.currentRoleRow.id,bindType:this.filters.bindType,deviceModel:this.filters.deviceModel,keyword:this.filters.keyword,folderId:this.folderTreeSelected.value,pageNum:this.pageNum,countPerPage:this.countPerPage};this.resourceTableLoading=!0,Object(u.B)(t).then(function(t){if(t.errMsg)e.$message({message:t.errMsg,type:"error"});else{e.total=t.total,e.resources=t.resources;var l=!0,a=!1,r=void 0;try{for(var i,o=n()(e.resources);!(l=(i=o.next()).done);l=!0){var s=i.value;s.hasReadPrivilege&&(e.prevReadChecks.push(s.bundleId),e.readChecks.push(s.bundleId)),s.hasWritePrivilege&&(e.prevWriteChecks.push(s.bundleId),e.writeChecks.push(s.bundleId)),s.hasCloudPrivilege&&(e.prevCloudChecks.push(s.bundleId),e.cloudChecks.push(s.bundleId))}}catch(e){a=!0,r=e}finally{try{!l&&o.return&&o.return()}finally{if(a)throw r}}e.readChecks.length===e.resources.length&&(e.checkReadAll=!0),e.writeChecks.length===e.resources.length&&(e.checkWriteAll=!0),e.cloudChecks.length===e.resources.length&&(e.checkCloudAll=!0)}e.resourceTableLoading=!1})}else this.$message({message:"请先选择角色",type:"error"})},handleCurrentPageChange:function(e){this.pageNum=e,this.resourceTableShow?this.getResources():this.getUsers()},getUsers:function(){var e=this;if(this.resourceTableShow&&(this.pageNum=1),this.currentRoleRow){this.resourceTableShow=!1,this.userTableShow=!0,this.prevReadChecks=[],this.prevWriteChecks=[],this.prevCloiudChecks=[],this.readChecks=[],this.writeChecks=[],this.cloudChecks=[],this.prevHJChecks=[],this.prevZKChecks=[],this.prevHYChecks=[],this.HJchecks=[],this.ZKchecks=[],this.HYchecks=[],this.checkReadAll=!1,this.checkWriteAll=!1,this.checkCloudAll=!1,this.checkHJAll=!1,this.checkZKAll=!1,this.checkHYAll=!1,this.countPerPage=20,/^[1-9]+[0-9]*]*$/.test(this.filters.countPerPage)&&(this.countPerPage=parseInt(this.filters.countPerPage)),this.resourceTableShow||this.countPerPage*(this.pageNum-1)>this.total&&(this.pageNum=Math.ceil(this.total/this.countPerPage)),""==this.filters.keyword&&""==this.folderTreeSelected.value||(this.pageNum=1);var t={roleId:this.currentRoleRow.id,keyword:this.filters.keyword,folderId:this.folderTreeSelected.value,pageNum:this.pageNum,countPerPage:this.countPerPage};this.userTableLoading=!0,Object(u.J)(t).then(function(t){if(t.errMsg)e.$message({message:t.errMsg,type:"error"});else{e.total=t.total,e.users=t.users;var l=!0,a=!1,r=void 0;try{for(var i,o=n()(e.users);!(l=(i=o.next()).done);l=!0){var s=i.value;s.hasReadPrivilege&&(e.prevReadChecks.push(s.userNo),e.readChecks.push(s.userNo)),s.hasWritePrivilege&&(e.prevWriteChecks.push(s.userNo),e.writeChecks.push(s.userNo)),s.hasCloudPrivilege&&(e.prevCloudChecks.push(s.userNo),e.cloudChecks.push(s.userNo)),s.hasHJPrivilege&&(e.prevHJChecks.push(s.userNo),e.HJchecks.push(s.userNo)),s.hasZKPrivilege&&(e.prevZKChecks.push(s.userNo),e.ZKchecks.push(s.userNo)),s.hasHYPrivilege&&(e.prevHYChecks.push(s.userNo),e.HYchecks.push(s.userNo))}}catch(e){a=!0,r=e}finally{try{!l&&o.return&&o.return()}finally{if(a)throw r}}e.readChecks.length===e.users.length&&(e.checkReadAll=!0),e.writeChecks.length===e.users.length&&(e.checkWriteAll=!0),e.cloudChecks.length===e.users.length&&(e.checkCloudAll=!0),e.HJchecks.length===e.users.length&&(e.checkHJAll=!0),e.ZKchecks.length===e.users.length&&(e.checkZKAll=!0),e.HYchecks.length===e.users.length&&(e.checkHYAll=!0)}e.userTableLoading=!1})}else this.$message({message:"请先选择角色",type:"error"})},submitPrivilege:function(){var e=this;if(this.resourceTableShow){var t={roleId:this.currentRoleRow.id,prevReadChecks:this.prevReadChecks.join(","),prevWriteChecks:this.prevWriteChecks.join(","),prevCloudChecks:this.prevCloudChecks.join(","),readChecks:this.readChecks.join(","),writeChecks:this.writeChecks.join(","),cloudChecks:this.cloudChecks.join(",")};this.resourceTableLoading=!0,Object(u._18)(t).then(function(t){t.errMsg?e.$message({message:t.errMsg,type:"error"}):(e.$message({message:"提交成功",type:"success"}),e.prevReadChecks=[].concat(e.readChecks),e.prevWriteChecks=[].concat(e.writeChecks),e.prevCloudChecks=[].concat(e.cloudChecks)),e.resourceTableLoading=!1})}else if(this.userTableShow){var l={roleId:this.currentRoleRow.id,prevReadChecks:this.prevReadChecks.join(","),prevWriteChecks:this.prevWriteChecks.join(","),prevCloudChecks:this.prevCloudChecks.join(","),prevHJChecks:this.prevHJChecks.join(","),prevZKChecks:this.prevZKChecks.join(","),prevHYChecks:this.prevHYChecks.join(","),readChecks:this.readChecks.join(","),writeChecks:this.writeChecks.join(","),cloudChecks:this.cloudChecks.join(","),hjChecks:this.HJchecks.join(","),zkChecks:this.ZKchecks.join(","),hyChecks:this.HYchecks.join(",")};this.userTableLoading=!0,Object(u._19)(l).then(function(t){t.errMsg?e.$message({message:t.errMsg,type:"error"}):(e.$message({message:"提交成功",type:"success"}),e.prevReadChecks=[].concat(e.readChecks),e.prevWriteChecks=[].concat(e.writeChecks),e.prevCloudChecks=[].concat(e.cloudChecks),e.prevHJChecks=[].concat(e.HJchecks),e.prevZKChecks=[].concat(e.ZKchecks),e.prevHYChecks=[].concat(e.HYchecks)),e.userTableLoading=!1})}}},mounted:function(){var e=this;e.$nextTick(function(){e.$parent.$parent.$parent.$parent.$parent.setActive("/BindResource")}),e.getRoles(),e.getDeviceModels(),e.initTree()}},p={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("section",[l("el-tabs",{staticStyle:{float:"left",width:"100%"},on:{"tab-click":e.handleTabClick},model:{value:e.activeTabName,callback:function(t){e.activeTabName=t},expression:"activeTabName"}},[l("el-tab-pane",{attrs:{label:"绑定资源用户",name:"BindResource"}}),e._v(" "),l("el-tab-pane",{attrs:{label:"绑定虚拟资源",name:"BindVirtualResource"}})],1),e._v(" "),l("el-card",{staticStyle:{float:"left","margin-top":"10px",width:"20%","font-size":"18px"},attrs:{"body-style":"padding:0px"}},[l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.roleTableLoading,expression:"roleTableLoading"}],ref:"roleTable",staticStyle:{width:"100%"},attrs:{data:e.roles,"highlight-current-row":""},on:{"current-change":e.handleRoleTableRowChange}},[l("el-table-column",{attrs:{prop:"name",label:"角色名",sortable:""}})],1)],1),e._v(" "),l("el-card",{staticStyle:{float:"left","margin-left":"50px","margin-top":"10px",width:"70%"},attrs:{"body-style":"padding:0px"}},[l("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[l("span",{staticStyle:{float:"left","font-size":"14px",height:"34px","line-height":"34px"}},[e._v("选择分组：")]),e._v(" "),l("el-select",{ref:"selectTree",staticStyle:{float:"left",width:"200px"},attrs:{size:"medium",placeholder:"选择分组",filterable:"","filter-method":e.dataFilter,clearable:""},on:{clear:e.clearHandle},model:{value:e.folderTreeSelected.label,callback:function(t){e.$set(e.folderTreeSelected,"label",t)},expression:"folderTreeSelected.label"}},[l("el-option",{staticClass:"tree-select",staticStyle:{width:"200px",height:"auto",overflow:"hidden"},attrs:{value:e.folderTreeSelected.value,label:e.folderTreeSelected.label}},[l("el-tree",{ref:"tree",attrs:{data:e.treeData,props:e.defaultProps,"default-expand-all":e.defaultExpandAll,"filter-node-method":e.filterNode,"expand-on-click-node":e.expandOnClickNode},on:{"node-click":e.handleNodeClick}})],1)],1),e._v(" "),l("el-select",{staticStyle:{float:"left","margin-left":"10px",width:"120px"},attrs:{size:"medium",placeholder:"选择资源类型"},model:{value:e.filters.deviceModel,callback:function(t){e.$set(e.filters,"deviceModel",t)},expression:"filters.deviceModel"}},e._l(e.deviceModelOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),l("el-input",{staticStyle:{float:"left","margin-left":"10px",width:"200px"},attrs:{size:"medium",placeholder:"关键字"},model:{value:e.filters.keyword,callback:function(t){e.$set(e.filters,"keyword",t)},expression:"filters.keyword"}}),e._v(" "),l("el-button",{staticStyle:{float:"left","margin-left":"10px"},attrs:{size:"small",type:"info"},on:{click:e.getResources}},[e._v("查询设备")]),e._v(" "),l("el-button",{staticStyle:{float:"left"},attrs:{size:"small",type:"info"},on:{click:e.getUsers}},[e._v("查询用户")])],1),e._v(" "),l("el-table",{directives:[{name:"show",rawName:"v-show",value:e.resourceTableShow,expression:"resourceTableShow"},{name:"loading",rawName:"v-loading",value:e.resourceTableLoading,expression:"resourceTableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.resources}},[l("el-table-column",{attrs:{type:"index",width:"100"}}),e._v(" "),l("el-table-column",{attrs:{prop:"name",label:"名称",width:"200",sortable:""}}),e._v(" "),l("el-table-column",{attrs:{prop:"deviceModel",label:"资源类型",width:"200",sortable:""}}),e._v(" "),l("el-table-column",{attrs:{prop:"username",label:"设备账号",width:"270"}}),e._v(" "),l("el-table-column",{attrs:{width:"100","render-header":e.renderCheckReadHeader},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-checkbox",{on:{change:function(l){return e.handleCheckReadChange(t.row)}},model:{value:t.row.hasReadPrivilege,callback:function(l){e.$set(t.row,"hasReadPrivilege",l)},expression:"scope.row.hasReadPrivilege"}})]}}])}),e._v(" "),l("el-table-column",{attrs:{width:"100","render-header":e.renderCheckWriteHeader},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-checkbox",{on:{change:function(l){return e.handleCheckWriteChange(t.row)}},model:{value:t.row.hasWritePrivilege,callback:function(l){e.$set(t.row,"hasWritePrivilege",l)},expression:"scope.row.hasWritePrivilege"}})]}}])}),e._v(" "),l("el-table-column",{attrs:{width:"100","render-header":e.renderCheckCloudHeader},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-checkbox",{on:{change:function(l){return e.handleCheckCloudChange(t.row)}},model:{value:t.row.hasCloudPrivilege,callback:function(l){e.$set(t.row,"hasCloudPrivilege",l)},expression:"scope.row.hasCloudPrivilege"}})]}}])})],1),e._v(" "),l("el-table",{directives:[{name:"show",rawName:"v-show",value:e.userTableShow,expression:"userTableShow"},{name:"loading",rawName:"v-loading",value:e.userTableLoading,expression:"userTableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.users}},[l("el-table-column",{attrs:{type:"index",width:"100"}}),e._v(" "),l("el-table-column",{attrs:{prop:"name",label:"名称",width:"200",sortable:""}}),e._v(" "),l("el-table-column",{attrs:{prop:"userNo",label:"用户编号",width:"270"}}),e._v(" "),l("el-table-column",{attrs:{width:"150","render-header":e.renderCheckReadHeader},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-checkbox",{on:{change:function(l){return e.handleCheckReadChange(t.row)}},model:{value:t.row.hasReadPrivilege,callback:function(l){e.$set(t.row,"hasReadPrivilege",l)},expression:"scope.row.hasReadPrivilege"}})]}}])}),e._v(" "),l("el-table-column",{attrs:{width:"150","render-header":e.renderCheckWriteHeader},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-checkbox",{on:{change:function(l){return e.handleCheckWriteChange(t.row)}},model:{value:t.row.hasWritePrivilege,callback:function(l){e.$set(t.row,"hasWritePrivilege",l)},expression:"scope.row.hasWritePrivilege"}})]}}])}),e._v(" "),l("el-table-column",{attrs:{width:"150","render-header":e.renderCheckCloudHeader},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-checkbox",{on:{change:function(l){return e.handleCheckCloudChange(t.row)}},model:{value:t.row.hasCloudPrivilege,callback:function(l){e.$set(t.row,"hasCloudPrivilege",l)},expression:"scope.row.hasCloudPrivilege"}})]}}])}),e._v(" "),l("el-table-column",{attrs:{width:"150","render-header":e.renderCheckHJHeader},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-checkbox",{on:{change:function(l){return e.handleCheckHJChange(t.row)}},model:{value:t.row.hasHJPrivilege,callback:function(l){e.$set(t.row,"hasHJPrivilege",l)},expression:"scope.row.hasHJPrivilege"}})]}}])}),e._v(" "),l("el-table-column",{attrs:{width:"150","render-header":e.renderCheckZKHeader},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-checkbox",{on:{change:function(l){return e.handleCheckZKChange(t.row)}},model:{value:t.row.hasZKPrivilege,callback:function(l){e.$set(t.row,"hasZKPrivilege",l)},expression:"scope.row.hasZKPrivilege"}})]}}])}),e._v(" "),l("el-table-column",{attrs:{width:"150","render-header":e.renderCheckHYHeader},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-checkbox",{on:{change:function(l){return e.handleCheckHYChange(t.row)}},model:{value:t.row.hasHYPrivilege,callback:function(l){e.$set(t.row,"hasHYPrivilege",l)},expression:"scope.row.hasHYPrivilege"}})]}}])})],1),e._v(" "),l("el-col",{staticClass:"toolbar",attrs:{span:24}},[l("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.submitPrivilege}},[e._v("提交")]),e._v(" "),l("el-input",{staticStyle:{float:"right","margin-right":"30px",width:"200px"},attrs:{size:"small",placeholder:"单页显示数量,默认20"},model:{value:e.filters.countPerPage,callback:function(t){e.$set(e.filters,"countPerPage",t)},expression:"filters.countPerPage"}}),e._v(" "),l("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":e.countPerPage,"current-page":e.pageNum,total:e.total},on:{"current-change":e.handleCurrentPageChange}})],1)],1)],1)},staticRenderFns:[]};var m=l("VU/8")(h,p,!1,function(e){l("oAxA")},null,null);t.default=m.exports},"51G+":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKoAAAAoCAYAAABuDmFRAAAACXBIWXMAAAsTAAALEwEAmpwYAAANNGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIiB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAxOC0xMi0yNFQxNzoxNjoyNyswODowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOS0wNS0wOVQwOTowOTo0OSswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMTktMDUtMDlUMDk6MDk6NDkrMDg6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjRjMWVkODMxLTIwMjMtYTA0NS04ZDU1LWVjMjk4YmQ0OTM2MCIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmRjN2NkOTFkLWYwN2MtMDM0Yi1hMTljLWQ3MWIwNDk5OWQ0OCIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjljZjlhYTIxLTQzMWItOWY0Zi04NDljLWE3NjQ2NmMyYjQyNSIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB0aWZmOk9yaWVudGF0aW9uPSIxIiB0aWZmOlhSZXNvbHV0aW9uPSI3MjAwMDAvMTAwMDAiIHRpZmY6WVJlc29sdXRpb249IjcyMDAwMC8xMDAwMCIgdGlmZjpSZXNvbHV0aW9uVW5pdD0iMiIgZXhpZjpDb2xvclNwYWNlPSI2NTUzNSIgZXhpZjpQaXhlbFhEaW1lbnNpb249IjE3MCIgZXhpZjpQaXhlbFlEaW1lbnNpb249IjQwIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo5Y2Y5YWEyMS00MzFiLTlmNGYtODQ5Yy1hNzY0NjZjMmI0MjUiIHN0RXZ0OndoZW49IjIwMTgtMTItMjRUMTc6MTY6MjcrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmJmYmQ0NzU2LTQ4NzctYjk0Mi05MTg1LTgxNGQwMjRiZjZlOSIgc3RFdnQ6d2hlbj0iMjAxOC0xMi0yNlQxNjowNToxNyswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6Mjc0ZTIzNzMtZTU3NS00ODRhLTlkYTYtOGQwZDFjNjYyODIwIiBzdEV2dDp3aGVuPSIyMDE4LTEyLTI5VDA5OjAyOjM4KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjb252ZXJ0ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmciLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImRlcml2ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImNvbnZlcnRlZCBmcm9tIGFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5waG90b3Nob3AgdG8gaW1hZ2UvcG5nIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpjZjc3NjA3ZC05ZTA1LTgwNDYtYTBhMS1mZGZmOWNjMTY2NjYiIHN0RXZ0OndoZW49IjIwMTgtMTItMjlUMDk6MDI6MzgrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjRjMWVkODMxLTIwMjMtYTA0NS04ZDU1LWVjMjk4YmQ0OTM2MCIgc3RFdnQ6d2hlbj0iMjAxOS0wNS0wOVQwOTowOTo0OSswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Mjc0ZTIzNzMtZTU3NS00ODRhLTlkYTYtOGQwZDFjNjYyODIwIiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6ZDEzNDgyZWItZGFkYS1iMTQ1LTk2ZDQtYTAwZWY4ZjI1MzNkIiBzdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6OWNmOWFhMjEtNDMxYi05ZjRmLTg0OWMtYTc2NDY2YzJiNDI1Ii8+IDxwaG90b3Nob3A6VGV4dExheWVycz4gPHJkZjpCYWc+IDxyZGY6bGkgcGhvdG9zaG9wOkxheWVyTmFtZT0i6KeG6aKR54K55pKt57O757ufICIgcGhvdG9zaG9wOkxheWVyVGV4dD0i6KeG6aKR54K55pKt57O757ufICIvPiA8cmRmOmxpIHBob3Rvc2hvcDpMYXllck5hbWU9IuinhumikeeCueaSreezu+e7nyAiIHBob3Rvc2hvcDpMYXllclRleHQ9IuinhumikeeCueaSreezu+e7nyAiLz4gPC9yZGY6QmFnPiA8L3Bob3Rvc2hvcDpUZXh0TGF5ZXJzPiA8cGhvdG9zaG9wOkRvY3VtZW50QW5jZXN0b3JzPiA8cmRmOkJhZz4gPHJkZjpsaT5hZG9iZTpkb2NpZDpwaG90b3Nob3A6NDFlMTBjNTEtMmJhYi0zZDQxLWIyNGUtYzE3ZWM3NWJjODc1PC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDo0QUI5REU1RkQ1OTMxMUU3ODI0M0E4MzA1QzYxNEI0RTwvcmRmOmxpPiA8L3JkZjpCYWc+IDwvcGhvdG9zaG9wOkRvY3VtZW50QW5jZXN0b3JzPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PsTrrT0AABKiSURBVHic7Zt5cB3Fncc/PTPvkGwdlmXLF8aWbIPNYRuMgRDABilUuGKKGNabZQkEpAS2kk2yQFFJNtlkQ+LdFAmESiJtcSQBisQ2bEiwiSRbvvCFjW35lCzJ1vV0n09658z0/vFmpNHTkyzvUpVV1ftWqWamp6/p/vb39+tfPwkpJUkk8f8dyt+6A0kkMREkiZrEpECSqElMCiSJmsSkQJKoSUwKJImaxKRAkqhJTAokiZrEpECSqElMCiSJmsSkgGa2vA9yKmb3i4jUfc8Ipfe76DIdVSC1qR+H/UuflDNzjode7YTKfDx3LSOw+X30Jh+upVdgtLSiZk9HmT6N/t8U41l+Hd5bbyZadY5AWTme5StwXbkYc2AQs7uH4P4K3HjJeHAdP3vyXzkzbxGZfT1IKQnrBqlujZtmuEnRBB1huTRkyOhAyKipH9DZ3RFhbqrG+gVeMj0qA7pM6Y+YC2enp7akTlN7Vv00nxm9O1EWXY8v51Z+Ovc5Qq4ppKtRguEoNX6DIIJ0Pcr2L8z9W499EpcATUbbEGoAo6/5BVnX87ycknFETlv6W63/5P10+/PF1MpjEc/D7ujZaNTtNkAIUBTH1RJlIYZrFWLkM4CIy6MoSCFQrCQJaIrARFDfF6U3pM/b5gsfmJWi7F03P/WeNk1gSEh1CY53hOkJRPGb4us1fZHvzV+YVvh1f/vbOXonIXcKXqFYNQ43G9ebJCYZlMCmQgbe2pAZ2X/seb1GEGy/sTBwbvkvQ9VzCqJ1/NAIZbxglM9WjYqoW12Y6YqRTSI0TSMadQuXipKehpKRDpjpwu1GSU9DuN2AnC40DVQV4U1BaC7AuAxklnR70T1ePAq4NYVBXSIUwVS3Shdq+uEmv7uhsavwcFXH93c1+RFuDZemzPJ6NKUnYrKrqovD5zp3NfTylPfsqfc+8/Z3UCJ9d+ma8nk0gam4MaXE41LxaCoel4KmKSiqomjqJXk8tUDhWC+FEBP6I7Zy5ETzT6QuIH8CeYutvMUXyVfrqHfcvAnK5jvKjipvjd+o/gJlVnrtxSZBMSOrUTPujBi+GU2hQxK560Apu7b9PHxMrh5c8MT3w00PfyfyyiePh5s+qQr8tfRx/UIDkapzr0ZOnTqnNzZ/KXz48OHQ3v27Au/+eatEXtCbW3eEdn1UGNy+8zQYNUZ7+w+I6lOjJ0/9MPzJx35QjunoZ1LKP/jtgppTXyjtprJzMPLDB+Z78cCUrXX9p9sHIk8owdDaUEf/s3NdZqAzwooTrYGtSiT6wSnfwGBXUP/2I1emewz/4EsG2t3PXdgZnPXuG3/sOdr5odLk3ypaqzZ7vAoZKV5OtA2+/YnPf6iyNfDd5p7g6VAgUtUX1m+bIEmLgVzrasM5oTIByi5WqZQyP1FBJybYv0uGlLJ2jPZyHdlyrbyFF+unVbYMqBPDKIprdr11LY5L3+hob0wxAFAMzxcJhT4TENPWLJODs9+MHu+fbhxs+GeOnjsY/bj/paixGr365N8ZRs8CJWNatRwMED139nE5GFwgw+FZelfT9eGqw7dFqqsvV7W0aVFf9drg3j3PCI/HBTLTaG3/ptT1BdHa2huE6v79lPz7C5TsuR2utqZ/1Cv23t7aELimpqHnkenS4Fxjz+tVdV1Le5q63j17rv0xguHrFk/zrqnz+Y+equmYeYPX+PICGX52sC/Ydaa5f01/Z2T11f6mjNveeue13rP6etE37WkzuuTX8mT3g56aA/fJQFCcqO/ZsPOY74beroE708PB2c31nYsuNPf+0wTntQios+7jCVgEDM2M9TwCUsoyay7znelCiPIE5codEz1RT6VsDO6MqVBCiDy7/4526qz7Euu+wMpbEtenckdV8f0tGqdd+/uLpJTFcQS3YSv/kCo7K1CMjgZX31+2pvTtrfbLRbc94lq1bp4546p3gi1gbtvyddG4/yqJkuvypke8t99SYbR3pBmGH9eSxVuALAOD1DvvfzRr44+ukhi9Qrjwrlq92HPzjWtMQmiL8vZp8+edVDLSf6ZkpLeb3d0bZCSYpgPemdmb6equbWro9v/HzoZry/c3rF+mRb+aHhi80N7YfUsW0VPpivlJR1N3pOdC//UVR5vfbKjvTFnpNd5o9fXMJqywomJrmlrz0WP+z65/XhQ++yvvwjVPiQsuxI5DN310uGp+oK6bXJfx4T3zPGunDgR+2XWmlVwR/eQiBHBiIzGyFlxCmTGRQHWvt651ifJfBAUiMfLGKiCltJWr2LmArPtCIDd+YVnvaxkmXIlNZgfKrLJlceVswpUTU9bcBIuxAGs74fgbsfCVwY92/7tsbGwK1zbV99V0EsnIa5bT87YEmyCctexQtKYr24z65iqe7OP6hXqCH5Q+JwAxJbXS7OzOU/Ggzcr5o1573iP1wUyheRtT190NUhaYgJKeVhX8cPurRndrqYxGW0XWtN1mf/9lqneqfzAtcx/1vrPtzV15pXtqywgEmr59c06xKxpaTXcf/o7e83M088CT16Rdf1em75lAn7+ten/9xkOnW96Wg4PL0MPk6f3bDSSh9Ax/+HQv+oHuh43KKCmXFZQH1JTPUt/E5ar+nhIIcfh0y1oG/GSrxq6xJjJu4O2VnWvdx5snW9HiTdqYsOaowFZbR51OM3tR92EiSFB/mRCihGHlLE9QrCg+Pc41KIo37Q4lLUhAYLv9TVYd+TLm+thjVsdIpU4IRc1dsW+gqj0r3NA/P1Rx6EjP23/e1vPf2zdFTU3KJasfihyvGpDSxOjruMH/m9cPmt1931FIBSEwO7oeEAikboQiH1c+ahDGtSRvh9HXT6Tm7Dc1UjDa2tMiVcceV0hThMvjixw/8XmIioAnpXZFjpcrs5V6WedLxdc+8ys3zby/o62LfYdqv0FnD6mqUf+7HdXv7Nl/blu6YnZlRQZ3M9CLJxKor69v+xptraQuy3sxlH35ycDWP7wy+MpPtvfs3fROijb7WHnuAxXVLYGf0N+ODAx+2NnRp+hd3Z8lPEBrY/vRiw0Mw6v8U1HS8dqZoPvg9AltJDL9Q4vGYc6xrhsd5M111JXLsBm2TXO+1X78IiyOb5Bh/zSe4ENqai2QfGJqXM4wgTc6izCs2iOgueYv+JORNuuLYsbcpxRF3hFub42SNu8991fu/jc1GKifkpERDnly3pWR8Gw1e8Y2vaN1p5qadbWS4j2pB3wHvatu24PbRfj8aa+C5wCa5zUZCGI0tp4SpLa4ll/1gjkwMKB3Nq4SfamPavPmnjR7encq/V2760v3Elgx9090da5ccu2crauvuexo04BOiioq0xbnuG+95YpfHDlad8+Jyo7lJ6ZmfQO9NZy3MPPh3DT1gzb0xdlzvM1L/+Hevp7Kivv1XaV/0VJn3qFo6q6BZcvv27vkMyJ6cH+tFuk/lZmT2VBluGaGapo+vnxZztE7lmSFEg3GGHjOcT9h82xNkj3oZY50adVzqaa+PIFaOdurZeSGaBQsgghHP+JRF+82WOo5tIAsApc53gtLIWUC39ruT77dnhCiKE5N7YVkp5WRIJqoGf4+XC7vlvQ77tiirr2VwAcfEm7xkRI1ce85iHrtylbR5HtQdnfjumIRekcTqAJcLkzMd93LluJavZLe3//mZU1kvEx3L9F9BxFofy8JoLhcqNOnfyPcWYs7Zwbua68mWncBj27S3tFHrx4tRY+UaosWQksbd9FPze1Xb8w9eIx1WhfnczJf6mhse2l+8xFql65iMC8P3R3g6jlTv6jkZCMiEUKh8Hlv3vKrtJVXZouo0jnY1Mod1Xt4caB/rb50FTd0nqfh48r2Pa65q1vmLuRz624ebz6dyMfhlzHaRNkTcSS+oHOCHZM7RASneXeQd2N8PZ8iCi2uHGGYFAV2v6y2i62+jFoU8QQl5gKMIJmUstZJdLsOi5iFQInDF4aR31tEbKxtdR/Rvibe/AvTuvvQNm/B3LGdqX39pIZCqBU7EPjduvBEpJBIIZDRCKCAlGCaCED3taLsPYQXgYKGaPRhNjajqRoA0c3vIzQXbjwQNTAjYZAmJjDF6wbNBbMXITq7Wffct/FWn+SphdeT3dzAnDcizMxcSNpAHyv7a/l93xp2kY9r5UqaFA+pgxEMIVCkxPS4kRnZnfJ8Leaxndx5+H12eHJFac9a+fDbFcztr+OarBtpmnITwS2D8MQ9E5lcp5oWkoCQFupIoGbWxqWYYdWw09bH5/20kYBYNophyC3AFlYhRIl1X0xMAQuttPh6SuJ9VCFEnq3olh+c0E+11NTp5xczOmQFMcIW4hg3jc5GNKYWmL2+B0VvXQt4p2iop02UuySZGzh7GlVRUaakIU2JbS8koJKBsXMPIT2ERubnkPJeiZkFMkUx9ArQciRRDd2sczPlv2RTPWZWBni9aCHoSJtGf/ZlPNT8Gj8q/xOZRpenB9djN9Z9tDiK63I/nLg30PaGRF0zQMrDT58vvfvp86W8GvwXym59hOUDPgyXB6GpuAL9pOyuwF1zFmmG6SL9rbXhxp+tPfzqqR60J/1k3Pd098EH2H4w2rL9VzpPRMacZMfgxvtL8YM6rqlleEfvxPoE9U4E+WOY64SwzbxTzSyi2BsaZ125cc8l8WrpQGEc2RL1s9gms8PMl1j9KiGmrGXExsEmfTExi7WJmECMcI0UmIoJ6yC1SJL1A0nqoyae18FVAMrnQb1TNSVaIAQnzqAgkKoKqV40NBQ9CAgkSquEp0BZAepeifiaRHaC9jSo90kEREOYlaeRoRADaGS0tfDV3W/yh5OvscToopXpYYN02UHWt3pJ222Q9jsfWcdbyHjVj7vTRxYGsGbnZma2NNK85Brmlvya7GMVZJyvwlt9BGkat0JasUC700fat3xk7Q6S/koU9S4f0/e3kLlBwT3+LMcQr3pF1kDaA+gkYRmJSWkTcpN1zbXSyhl2I2yyJ/RZhRBjhaDGwqgN2RhIFEdNVHZcX9rZMMPmulAOh7jioxrjBvaJETqPODfLPktcCdgbjJlANfBLkFtBmSdRkYaOCA2goSGDQThxBhWJxA24AFkJtMbK8T4QBrYBVcCXYxqcgogGUUNB2khnw4H3eHnTd+kkg0ay0ZDXgowCA8AyYBbwK2LO9V8BfGST23uBl19/luyuNjy7duMa9AMaBumAuw3MxUAUaAF+bH3XiyCflygVBp6LjBUQI1cJwxNVQmwi8kj804FNdugJhkx8bvyAw7DvZmHcOKq16y+z7mudymdNfG3c80RDZcWOumxFHVU20UJhjEiIpeIlWCEuB1mdBwe2Uo+7QOOhECNEHTAI7CJG2L1APVAK/NbqBhIXCiquSATZXOf42QfTrTIhYAOxST4KPAnMAx6L1SGRuNBQ8QIGGj2kEUFFxQSoBB4CpgLXAc8AWcBuYkxXFCQ+sri96zSvfO9LeFtb6CcdOcyd88CHQLr19yTwAnA3sA5omsjAYA34OO9HKYOMHTnWwpCJqyNGYKeCFlnvC6xJz3XWF0d2ezOXL0cG552KlStHxiUn6lZMVFHtNmtlgoMAR3+klDJfCDG0yRLDJ3DxcVd70wSjF7L9u4ERUIiR7GYgQEwFNxIj1+vALxJ0CwUFSHUmXgXcAmwmdhYeBDzA5cSU7Z6RNcTobaCiozlfPWr1ZTeQbf0VAVcC3wOyhVW6jWwW95xlur+VyEhT/k3rG0qAHwFXAKeAxVa9nwZsFXMqro2h0xkhRJ61IRnyxxyKYquu7QpATOWcqmZv5srjyL4+wbNNhtwJmNdLgiP0Nd5BRB2xuG7CtuVwPLiM4e8qSZTXwoi2FGAPcAy4DPicleE6hk336EZHJ+216nkOeBzoI8bFkFXvt8bpkI0MYsRKB/YBvyNGsF9b/XwI6IGYtoNJD1lE8aLE1NjGz4Eaq3wzkAK8BdxnXf+vsE9pEinuKDNumdR8YoF9J0nLsDYQDnWtI+bLFTvUFIbDOHbUId5s2s92/YmiCvERiwmZfis91+pnwt8giNhvAmy/cmixyZHn+psYDkHlE1PxRAqe0CVQiJnlPGI+4A5ipDtATBF/zMRgAtuJmep7iZnZEmAhcIaYSb8YgsAKoJ0YGX4AfM3qRwtwgpg6jwcBvAvMAb5EzP1oAD4C/pOYYv9v4TRJTjNpk6iMuDCMIyYphOPURg6fmxc5/VXHZBc6/D1bTRGj/Tt7k0bcc52jHbtP8epVlMD3jDfR9vcWiJHHvrbajajT+pZyrM2U5QYM+aZWH4oYfbBgW6Z8hhfLyBDYJUQ8kkjib4bk/0wlMSmQJGoSkwJJoiYxKZAkahKTAkmiJjEpkCRqEpMCSaImMSmQJGoSkwJJoiYxKZAkahKTAv8D9qnfjOqehuUAAAAASUVORK5CYII="},"62G/":function(e,t){},"71sA":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFwmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAxOC0xMi0yOVQwOToxODo1NCswODowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOC0xMi0yOVQwOToxODo1NCswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMTgtMTItMjlUMDk6MTg6NTQrMDg6MDAiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MDkwMTVkMWItYjZkMS0xMjQ5LWE2YmUtNjc4YTFlNDQ1ZjM4IiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6NWI1M2FiMTItMjcxNi0yNjQ2LTk1ODAtOTI1MDJmYTA3ZjlmIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NWMwNzljOGItNmIwOC0zZDRlLTliOTEtNTM4NDg1Nzg5NGU2IiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6NWMwNzljOGItNmIwOC0zZDRlLTliOTEtNTM4NDg1Nzg5NGU2IiBzdEV2dDp3aGVuPSIyMDE4LTEyLTI5VDA5OjE4OjU0KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDowOTAxNWQxYi1iNmQxLTEyNDktYTZiZS02NzhhMWU0NDVmMzgiIHN0RXZ0OndoZW49IjIwMTgtMTItMjlUMDk6MTg6NTQrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+nu0yrgAAAVRJREFUOI211b9LHGEQxvHPRRH8VSkRLCwsztZCRbDwIIWFCLEwhb19IH+HaG9vI6LY2ehhqYg2gnegRUAFKyGIIUZIsXNyt9yt60keWN7ZeWe+Ozvvu+8WDs8q3lA3RsL+iaf6ydJ4sSH4UwZoAnt4wGVcD+GbaJXU2cL/HavxwFOchH8SC5jHD6znAS5jDXdhl1PzJWxGzH3YryqketiPa3RhCq0aPIZj/MFoabz4qzaR7uEiBiWvm7ValYgZjJxXpYEzMW5nwGqqxczUO9PAzzFe5QDepHKaAgsx/s4BTOc0BX5Y/x3YaqM303OznHrgEKYlmzWPHiN2unxeHaqvqAcbmMOA5AvZzQl9kazyRfm8uo+VwuFZZRhV9OaEZFVc7MQt+tqlvOf4gg58lbSlJ+yOrIS3VnUWOxqPry84aBd4hC0sxf1W+Nqu8C++afwFZOofbqdDO4JUlzgAAAAASUVORK5CYII="},"7A6u":function(e,t){},"8tHC":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAhFBMVEUAAAAzNzw+QUVwcHBwcHBsbGxwcHBvcHBlZmdtbW1aW11fYWJdX2CxsbFDRklQVFdIS05ISk2xsbGqqqqGhoadnp+rq6uHiYqUlZaPkJJmaWxwcHCxsbF1dXWsrKylpaWbm5uQkJB7e3upqamioqKJiYl/f3+urq6VlZWBgYGNjY2CgoLBYjowAAAAG3RSTlMAI0H45+Hgy8C0lJKG5E5BYGD44cvAtJSShmDeKnc/AAABHElEQVQ4y22S2baCMAxFExFFZpy1LYMg6r3//38uBU5by37qSk4zk4aLMPA9zw/CgsllEa0EWEULsuF4KSyWMVvfN8JhYwRJ12KGdYr/8P8oxhiM+E6WoY4YBtVUj0fVKBjibwLUf2vll/aGXj5JIugrOVIiRkTEmM9dgicmxlQYAUAJY04hKpQGqCKkYHr2puA1WQPyp+fLFPxPVp88NDmbwoPArkFogT/XRSd0igDvRoI/oYsM9SZKc5JoMxcAo7wLkH9GDerBXwuwYr0sLXgKEJnrVrUcqZVetz6YvpWg7XEwOLlGWjTDyeFoVSd/6BSOlijdl9Kh3KcEsqMrOGZkwJfEdicXJpvsnBjuc0YufD0ddtvt7nC6MoE3vPJULZWJssEAAAAASUVORK5CYII="},"9TZy":function(e,t){},"9goZ":function(e,t,l){"use strict";(function(e){var t,a=l("mvHQ"),n=l.n(a),r=l("Dd8w"),i=l.n(r),o=l("//Fk"),s=l.n(o),d=l("YaEn"),c=l("mtWM"),u=l.n(c),h=l("0nep"),p=l.n(h),m=l("eqvY"),f=(l("A66B"),document.location.host.split(":")[0]),v=document.location.origin,b=p.a.queryRouterUrl,g="http://192.165.56.111:8093/vue";-1!==b.indexOf("__requestIP__")&&(b=b.replace("__requestIP__",f)),-1!==g.indexOf("__requestIP__")&&(g=g.replace("__requestIP__",f));new Array;var y=u.a.create({headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/x-www-form-urlencoded","Access-Control-Allow-Headers":"Content-Type, Content-Length, Authorization, Accept, X-Requested-With , yourHeaderFeild","Access-Control-Allow-Methods":"PUT,POST,GET,DELETE,OPTIONS"},withCredentials:!1});function k(e){try{var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),l=window.location.href.split("?")[1].match(t);if(null!=l)return unescape(l[2])}catch(e){}return null}function w(e){for(;;){var t=e.match(/(?=\{context:)/);if(!t)break;for(var l="",a=t.index;a<e.length;a++)if(l+=e[a],"}"===e[a]){a;break}var n;l.replace("{context:","").replace("}","").split(";");n=sessionStorage.getItem("token"),e=e.replace(new RegExp(l,"g"),n)}return e}y.interceptors.request.use(function(e){var t=sessionStorage.getItem("token");return t?(e.headers["tetris-001"]=t,e.headers.Authorization=t):(e.headers["tetris-001"]=k("token"),e.headers.Authorization=k("token")),e},function(e){return s.a.reject(e)}),y.interceptors.response.use(function(e){return e},function(e){console.log("error= "+e),401===e.response.status&&(alert("超时，请重新登录!"),window.location.href=v+"/web/app/login/login.html")}),d.a.beforeEach(function(l,a,r){if("/"!==l.path)if(t){var o;if(l.meta.serviceName&&l.meta.serviceName!==p.a.serviceName)o=l.meta.url,l.meta.urlSuffix&&""!==l.meta.urlSuffix&&null!==l.meta.urlSuffix?window.location.href=o+"?token="+sessionStorage.getItem("token")+l.meta.urlSuffix:window.location.href=o+"?token="+sessionStorage.getItem("token");else r()}else{var s=k("token"),c=sessionStorage.getItem("token");s&&s!==c&&sessionStorage.setItem("token",s),y.post(b).then(function(a){var o,s;408===a.data.status?(alert("超时，请重新登录!"),window.location.href=v+"/web/app/login/login.html"):200===a.data.status&&(t=a.data.vueRouters,o="router",s=t,localStorage.setItem(o,n()(s)),function(l,a){d.a.addRoutes(m.a),function e(t){if(t&&t.length>0)for(var l=0;l<t.length;l++){var a=t[l];a.link&&(a.link=w(a.link)),a.sub&&a.sub.length>0&&e(a.sub)}}(t),function e(t){if(t&&t.length>0)for(var l=0;l<t.length;l++){var a=t[l];a.path=a.title,a.link&&-1!=a.link.indexOf("?token")&&(a.path=a.link.split("#")[1].split("?")[0]),a.sub&&a.sub.length>0&&e(a.sub)}}(t),e.antRouter=t,a(i()({},l,{replace:!0}))}(l,r))})}else r()})}).call(t,l("DuR2"))},A66B:function(e,t,l){e.exports=function(e){return function(){return l("Opzk")("./"+e+".vue")}}},AJja:function(e,t){},B1Ru:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAG0WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAxOS0wMS0xNlQxNjowNzo0MiswODowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOS0wMS0xNlQxNjowNzo0MiswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMTktMDEtMTZUMTY6MDc6NDIrMDg6MDAiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NmZmMGIwNzEtMTgzYS00ZjQxLTlmM2YtNzA2MTg2MzliNWY4IiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6ODliYjFhNmYtMzMwMS1jMjQ2LTk3ZGYtNzZhMWExZjM0NDBiIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6MTA5NGI5OTMtMzQ3Mi0wNDRhLTkxMWQtZWZmOTE5Y2ZlN2MwIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MTA5NGI5OTMtMzQ3Mi0wNDRhLTkxMWQtZWZmOTE5Y2ZlN2MwIiBzdEV2dDp3aGVuPSIyMDE5LTAxLTE2VDE2OjA3OjQyKzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo2ZmYwYjA3MS0xODNhLTRmNDEtOWYzZi03MDYxODYzOWI1ZjgiIHN0RXZ0OndoZW49IjIwMTktMDEtMTZUMTY6MDc6NDIrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDxwaG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+IDxyZGY6QmFnPiA8cmRmOmxpPmFkb2JlOmRvY2lkOnBob3Rvc2hvcDo1YzBlNWJiZC0yZWI0LWYxNGQtYWY0Mi05MGEyZjBiYjM0ZTI8L3JkZjpsaT4gPHJkZjpsaT51dWlkOkFBMUZEM0ZBRTRGOEUxMTE5QTE3OTRDRjcyOEM3MzRDPC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDo0NDU5QUZGMkYwNDFFMzExODRENUMzOTBFNDdGMEY1NTwvcmRmOmxpPiA8L3JkZjpCYWc+IDwvcGhvdG9zaG9wOkRvY3VtZW50QW5jZXN0b3JzPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Ptdjv+EAAACISURBVDiN7dS7DcJQDIVh34g6M8AasAnLIHaBSa5YA2agTvHRkCa6ElFiJAqO5OpYv/yQXRCZ6lJpb2CNCElRsyss5VdmeImIvulgScAd+6m3BggDTthkAUfdsB2BtZEwVf0AhCeOc5dSZuZ1mS3vMmY44CxpKQ8cpt5S4BV9y/vK6f2/zTq9AKGkN0rEpt/lAAAAAElFTkSuQmCC"},BWhq:function(e,t){},BXv7:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l("nvbp"),n=l.n(a),r=l("BO1k"),i=l.n(r),o=l("P9l9"),s={data:function(){return{activeTabName:"BindVirtualResource",roles:[],currentRoleRow:null,roleTableLoading:!1,resources:[],filters:{keyword:"",bindType:""},bindTypeOptions:[{value:"all",label:"全部"},{value:"binded",label:"已绑定"},{value:"unbinded",label:"未绑定"}],total:0,pageNum:1,countPerPage:10,resourceTableLoading:!1,checkAll:!1,prevChecks:[],checks:[],detailDialogVisible:!1,detailInfos:[]}},methods:{handleTabClick:function(e,t){"BindVirtualResource"!==e.name&&this.$router.push("/"+e.name)},handleRoleTableRowChange:function(e){this.currentRoleRow=e,this.getResources()},handleSelectionChange:function(e){this.checks=e},getRoles:function(){var e=this;this.roleTableLoading=!0,Object(o.v)({}).then(function(t){t.errMsg?e.$message({message:t.errMsg,type:"error"}):e.roles=t.roles,e.roleTableLoading=!1})},getResources:function(){var e=this;this.prevChecks=[],this.checks=[];var t={roleId:this.currentRoleRow.id,bindType:this.filters.bindType,keyword:this.filters.keyword,pageNum:this.pageNum,countPerPage:this.countPerPage};this.resourceTableLoading=!0,Object(o.L)(t).then(function(t){if(t.errMsg)e.$message({message:t.errMsg,type:"error"});else{e.total=t.total,e.resources=t.resources;var l=!0,a=!1,n=void 0;try{for(var r,o=i()(e.resources);!(l=(r=o.next()).done);l=!0){var s=r.value;s.hasPrivilege&&(e.prevChecks.push(s.resourceId),e.checks.push(s.resourceId))}}catch(e){a=!0,n=e}finally{try{!l&&o.return&&o.return()}finally{if(a)throw n}}}e.resourceTableLoading=!1})},renderCheckHeader:function(e,t){var l=this;return e("el-checkbox",n()([{attrs:{value:l.checkAll},on:{input:function(e){l.checkAll=e}}},{directives:[{name:"model",value:l.checkAll}]},{on:{change:this.handleCheckAllChange}}]),["全选"])},handleCheckAllChange:function(e){if(e){var t=!0,l=!1,a=void 0;try{for(var n,r=i()(this.resources);!(t=(n=r.next()).done);t=!0){var o=n.value;this.checks.push(o.resourceId),o.hasPrivilege=!0}}catch(e){l=!0,a=e}finally{try{!t&&r.return&&r.return()}finally{if(l)throw a}}}else{this.checks=[];var s=!0,d=!1,c=void 0;try{for(var u,h=i()(this.resources);!(s=(u=h.next()).done);s=!0){u.value.hasPrivilege=!1}}catch(e){d=!0,c=e}finally{try{!s&&h.return&&h.return()}finally{if(d)throw c}}}},handleCheckChange:function(e){e.hasPrivilege?(this.checks.push(e.resourceId),this.checks.length===this.resources.length&&(this.checkAll=!0)):(this.checks.splice(this.checks.indexOf(e.resourceId),1),this.checkAll=!1)},handleCurrentPageChange:function(e){this.pageNum=e,this.getResources()},handleDetail:function(e){var t=this,l={resourceId:e.resourceId};Object(o.K)(l).then(function(e){e.errMsg?t.$message({message:e.errMsg,type:"error"}):(t.detailDialogVisible=!0,t.detailInfos=e.infos)})},submitPrivilege:function(){var e=this,t={roleId:this.currentRoleRow.id,prevChecks:this.prevChecks.join(","),checks:this.checks.join(",")};this.resourceTableLoading=!0,Object(o._20)(t).then(function(t){t.errMsg?e.$message({message:t.errMsg,type:"error"}):(e.$message({message:"提交成功",type:"success"}),e.prevChecks=[].concat(e.checks)),e.resourceTableLoading=!1})}},mounted:function(){var e=this;e.$nextTick(function(){e.$parent.$parent.$parent.$parent.$parent.setActive("/BindResource")}),this.getRoles()}},d={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("section",[l("el-tabs",{staticStyle:{float:"left",width:"100%"},on:{"tab-click":e.handleTabClick},model:{value:e.activeTabName,callback:function(t){e.activeTabName=t},expression:"activeTabName"}},[l("el-tab-pane",{attrs:{label:"绑定设备资源",name:"BindResource"}}),e._v(" "),l("el-tab-pane",{attrs:{label:"绑定虚拟资源",name:"BindVirtualResource"}})],1),e._v(" "),l("el-card",{staticStyle:{float:"left","margin-top":"10px",width:"20%","font-size":"18px"},attrs:{"body-style":"padding:0px"}},[l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.roleTableLoading,expression:"roleTableLoading"}],ref:"roleTable",staticStyle:{width:"100%"},attrs:{data:e.roles,"highlight-current-row":""},on:{"current-change":e.handleRoleTableRowChange}},[l("el-table-column",{attrs:{prop:"name",label:"角色名",sortable:""}})],1)],1),e._v(" "),l("el-card",{staticStyle:{float:"left","margin-left":"50px","margin-top":"10px",width:"70%"},attrs:{"body-style":"padding:0px"}},[l("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[l("span",{staticStyle:{float:"left","font-size":"18px"}},[e._v("业务资源")]),e._v(" "),l("el-select",{staticStyle:{float:"left","margin-left":"100px"},attrs:{size:"small",placeholder:"选择绑定状态"},model:{value:e.filters.bindType,callback:function(t){e.$set(e.filters,"bindType",t)},expression:"filters.bindType"}},e._l(e.bindTypeOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),l("el-input",{staticStyle:{float:"left","margin-left":"50px",width:"150px"},attrs:{size:"small",placeholder:"关键字"},model:{value:e.filters.keyword,callback:function(t){e.$set(e.filters,"keyword",t)},expression:"filters.keyword"}}),e._v(" "),l("el-button",{staticStyle:{float:"left","margin-left":"50px"},attrs:{size:"small",type:"info"},on:{click:e.getResources}},[e._v("查询")])],1),e._v(" "),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.resourceTableLoading,expression:"resourceTableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.resources},on:{"selection-change":e.handleSelectionChange}},[l("el-table-column",{attrs:{width:"150","render-header":e.renderCheckHeader},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-checkbox",{on:{change:function(l){return e.handleCheckChange(t.row)}},model:{value:t.row.hasPrivilege,callback:function(l){e.$set(t.row,"hasPrivilege",l)},expression:"scope.row.hasPrivilege"}})]}}])}),e._v(" "),l("el-table-column",{attrs:{prop:"name",label:"名称",width:"350",sortable:""}}),e._v(" "),l("el-table-column",{attrs:{prop:"resourceId",label:"资源ID",width:"350",sortable:""}}),e._v(" "),l("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){return e.handleDetail(t.row)}}},[e._v("详情")])]}}])})],1),e._v(" "),l("el-col",{staticClass:"toolbar",attrs:{span:24}},[l("el-button",{attrs:{type:"primary"},on:{click:e.submitPrivilege}},[e._v("提交")]),e._v(" "),l("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":e.countPerPage,total:e.total},on:{"current-change":e.handleCurrentPageChange}})],1)],1),e._v(" "),l("el-dialog",{attrs:{title:"详情",visible:e.detailDialogVisible},on:{"update:visible":function(t){e.detailDialogVisible=t}}},[l("ul",e._l(e.detailInfos,function(t){return l("li",[e._v("\n          "+e._s(t.attrName)+" :  "+e._s(t.attrValue)+"\n        ")])}),0)])],1)},staticRenderFns:[]};var c=l("VU/8")(s,d,!1,function(e){l("KVpF")},null,null);t.default=c.exports},Caey:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAG0WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAxOS0wMS0xNlQxNjowNjoyOSswODowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOS0wMS0xNlQxNjowNjoyOSswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMTktMDEtMTZUMTY6MDY6MjkrMDg6MDAiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MTMwNDljMzEtNzU3MC1iNTRjLWEwZDItMTkwN2Q4MzhhNWU5IiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6ODEzOWRiYWYtZTYwNi0wYzQ1LThjZGItYzRhZWZkMDVmNzg5IiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6OTM5ZmE1Y2ItODQ3OS0xZDQ0LTljNzQtMmEyNGRiMjE2M2IwIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6OTM5ZmE1Y2ItODQ3OS0xZDQ0LTljNzQtMmEyNGRiMjE2M2IwIiBzdEV2dDp3aGVuPSIyMDE5LTAxLTE2VDE2OjA2OjI5KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDoxMzA0OWMzMS03NTcwLWI1NGMtYTBkMi0xOTA3ZDgzOGE1ZTkiIHN0RXZ0OndoZW49IjIwMTktMDEtMTZUMTY6MDY6MjkrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDxwaG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+IDxyZGY6QmFnPiA8cmRmOmxpPmFkb2JlOmRvY2lkOnBob3Rvc2hvcDo1YzBlNWJiZC0yZWI0LWYxNGQtYWY0Mi05MGEyZjBiYjM0ZTI8L3JkZjpsaT4gPHJkZjpsaT51dWlkOkFBMUZEM0ZBRTRGOEUxMTE5QTE3OTRDRjcyOEM3MzRDPC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDo0NDU5QUZGMkYwNDFFMzExODRENUMzOTBFNDdGMEY1NTwvcmRmOmxpPiA8L3JkZjpCYWc+IDwvcGhvdG9zaG9wOkRvY3VtZW50QW5jZXN0b3JzPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PlLpWjMAAACHSURBVDiN7ZTBCYAwDEV/xXNn0DUcxWHELRzAUapr6AyePTwvglAKCo3gwQc5tIRPk9/EAbKkMFU7BYMkjCJYv9C5L/fQSxoFWEQDLBgIlUAH7JzkiFXARISAEF8mCJFYC2ypxKemuJvzRUbJNTCnSs41pcfIlPjbrACWk+IlDa+M3r9t8jgAzPX+YZ0j3T4AAAAASUVORK5CYII="},EUih:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l("mvHQ"),n=l.n(a),r=l("P9l9"),i={name:"AddLayernode",data:function(){var e=function(e,t,l){t&&!/^([0-9]|[1-9]\d{1,3}|[1-5]\d{4}|6[0-4]\d{4}|65[0-4]\d{2}|655[0-2]\d|6553[0-5])$/.test(t)?l(new Error("端口格式错误")):l()};return{activeTabName:"AddLayernode",typeOptions:[{label:"JV230接入",value:"ACCESS_JV230"},{label:"机顶盒接入",value:"ACCESS_TVOS"},{label:"混合器接入",value:"ACCESS_MIXER"},{label:"手机接入",value:"ACCESS_MOBILE"},{label:"音视频转发服务设备",value:"ACCESS_JV210"},{label:"录像存储服务单元A型",value:"ACCESS_CDN"},{label:"录像存储服务单元B型",value:"ACCESS_VOD"},{label:"监控资源汇接网关",value:"ACCESS_IPC"},{label:"流媒体管理服务设备",value:"ACCESS_STREAMMEDIA"},{label:"联网服务设备",value:"ACCESS_NETWORK"},{label:"显控汇接网关",value:"ACCESS_DISPLAYCTRL"},{label:"流转发器接入",value:"ACCESS_S100"},{label:"点播代理服务设备",value:"ACCESS_VODPROXY"},{label:"webrtc接入",value:"ACCESS_WEBRTC"},{label:"联网接入",value:"ACCESS_LIANWANG"},{label:"LDAP目录资源服务设备",value:"ACCESS_LDAP"},{label:"综合运维服务设备",value:"ACCESS_OMMS"},{label:"ws接入",value:"ACCESS_WS"}],nodeForm:{type:"ACCESS_JV210",name:"",ip:"",nodeUid:"",port:null,downloadPort:null,monitorUrl:"",netUrl:"",webrtcHttpPort:8088,webrtcWebsocketPort:8188},rules:{type:[{required:!0,message:"请选择节点类型",trigger:"change"}],name:[{required:!0,message:"请输入节点名称",trigger:"change"},{min:1,max:30,message:"长度在 1 到 30 个字符",trigger:"blur"}],nodeUid:[{required:!0,message:"请输入节点ID",trigger:"change"},{min:1,max:30,message:"长度在 1 到 30 个字符",trigger:"blur"}],ip:[{validator:function(e,t,l){t&&!/^((2[0-4]\d|25[0-5]|[01]?\d\d?)\.){3}(2[0-4]\d|25[0-5]|[01]?\d\d?)$/.test(t)?l(new Error("IP格式错误")):l()},trigger:"blur"}],port:[{validator:e,trigger:"blur"}],downloadPort:[{validator:e,trigger:"blur"}]}}},methods:{handleTabClick:function(e,t){"AddLayernode"!==e.name&&this.$router.push("/"+e.name)},reset:function(){this.$refs.nodeForm.resetFields()},submit:function(){var e=this;if(this.validate()){var t={json:n()(this.nodeForm)};Object(r._12)(t).then(function(t){t.errMsg?e.$message({message:t.errMsg,type:"error"}):(e.$message({message:"添加成功",type:"success"}),e.$refs.nodeForm.resetFields())})}},validate:function(){var e=!1;return this.$refs.nodeForm.validate(function(t){e=t}),e}},mounted:function(){var e=this;this.$nextTick(function(){e.$parent.$parent.$parent.$parent.$parent.setActive("/LayernodeManage")})}},o={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("section",[l("el-tabs",{staticStyle:{float:"left",width:"100%"},on:{"tab-click":e.handleTabClick},model:{value:e.activeTabName,callback:function(t){e.activeTabName=t},expression:"activeTabName"}},[l("el-tab-pane",{attrs:{label:"层节点列表",name:"LayernodeManage"}}),e._v(" "),l("el-tab-pane",{attrs:{label:"添加层节点",name:"AddLayernode"}})],1),e._v(" "),l("el-form",{ref:"nodeForm",attrs:{model:e.nodeForm,rules:e.rules,"label-width":"100px"}},[l("el-form-item",{attrs:{label:"节点类型",prop:"type"}},[l("el-select",{staticStyle:{width:"200px"},model:{value:e.nodeForm.type,callback:function(t){e.$set(e.nodeForm,"type",t)},expression:"nodeForm.type"}},e._l(e.typeOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"节点名称",prop:"name"}},[l("el-input",{staticStyle:{width:"200px"},model:{value:e.nodeForm.name,callback:function(t){e.$set(e.nodeForm,"name",t)},expression:"nodeForm.name"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"节点ID",prop:"nodeUid"}},[l("el-input",{staticStyle:{width:"200px"},model:{value:e.nodeForm.nodeUid,callback:function(t){e.$set(e.nodeForm,"nodeUid",t)},expression:"nodeForm.nodeUid"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"节点IP",prop:"ip"}},[l("el-input",{staticStyle:{width:"200px"},model:{value:e.nodeForm.ip,callback:function(t){e.$set(e.nodeForm,"ip",t)},expression:"nodeForm.ip"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"节点端口",prop:"port"}},[l("el-input",{staticStyle:{width:"200px"},model:{value:e.nodeForm.port,callback:function(t){e.$set(e.nodeForm,"port",t)},expression:"nodeForm.port"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"下载端口",prop:"downloadPort"}},[l("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"录制资源下载端口，可不填"},model:{value:e.nodeForm.downloadPort,callback:function(t){e.$set(e.nodeForm,"downloadPort",t)},expression:"nodeForm.downloadPort"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"监控地址",prop:"monitorUrl"}},[l("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"监控页面地址，可不填"},model:{value:e.nodeForm.monitorUrl,callback:function(t){e.$set(e.nodeForm,"monitorUrl",t)},expression:"nodeForm.monitorUrl"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"网管地址",prop:"netUrl"}},[l("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"网管页面地址，可不填"},model:{value:e.nodeForm.netUrl,callback:function(t){e.$set(e.nodeForm,"netUrl",t)},expression:"nodeForm.netUrl"}})],1),e._v(" "),l("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"ACCESS_WEBRTC"==e.nodeForm.type,expression:"nodeForm.type=='ACCESS_WEBRTC'"}],attrs:{label:"webrtc http端口",prop:"webrtcHttpPort"}},[l("el-input",{staticStyle:{width:"200px"},model:{value:e.nodeForm.webrtcHttpPort,callback:function(t){e.$set(e.nodeForm,"webrtcHttpPort",t)},expression:"nodeForm.webrtcHttpPort"}})],1),e._v(" "),l("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"ACCESS_WEBRTC"==e.nodeForm.type,expression:"nodeForm.type=='ACCESS_WEBRTC'"}],attrs:{label:"webrtc websocket端口",prop:"webrtcWebsocketPort"}},[l("el-input",{staticStyle:{width:"200px"},model:{value:e.nodeForm.webrtcWebsocketPort,callback:function(t){e.$set(e.nodeForm,"webrtcWebsocketPort",t)},expression:"nodeForm.webrtcWebsocketPort"}})],1),e._v(" "),l("div",{staticStyle:{"margin-top":"30px"}},[l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit()}}},[e._v("提交")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.reset()}}},[e._v("重置")])],1)],1)],1)},staticRenderFns:[]};var s=l("VU/8")(i,o,!1,function(e){l("9TZy")},"data-v-79911f92",null);t.default=s.exports},HJqi:function(e,t){},HV9H:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l("woOf"),n=l.n(a),r=l("mvHQ"),i=l.n(r),o=l("P9l9"),s={data:function(){return{gadgets:{visible:!1,url:""},filters:{},activeTab:"serInfoTab",serInfoVOs:[],total:0,page:1,listLoading:!1,ldapLoading:!1,sels:[],serInfoEditFormVisible:!1,serInfoEditBtnVisible:!1,serInfoAddBtnVisible:!1,editLoading:!1,serTypeOptions:[{value:4,label:"应用服务单元"},{value:5,label:"信令控制服务单元"},{value:6,label:"媒体处理服务单元"}],serProOptions:[{value:1,label:"TCP"},{value:2,label:"UDP"},{value:3,label:"TCP和UDP"}],serNodeEditForm:{id:0,nodeUuid:"",nodeName:"",nodeFather:"",nodeRelations:"",nodeFactInfo:"",nodePublisher:""},serInfoEditFormRules:{},serNodeVOs:[],serNodeEditFormVisible:!1,serNodeEditBtnVisible:!1,serNodeAddBtnVisible:!1,serInfoEditForm:{id:0,serUuid:"",serName:"",serAddr:"",serPort:5060,serPwd:"",serType:"",serPro:""},serNodeEditFormRules:{},fatherNodeOptions:[],relationNodeOptions:[],fatherTag:[],relationTag:[],dialog:{node:{type:"",table:{data:[]},visible:!1,selection:[]}}}},methods:{handleClick:function(e,t){this.queryList()},selsChange:function(e){this.sels=e},resetForm:function(e){void 0!=this.$refs[e]&&this.$refs[e].resetFields()},serTypeFormat:function(e,t){var l=e[t.property];if(void 0==l)return"";switch(l){case 1:return"业务控制单元";case 4:return"应用服务单元";case 5:return"信令控制服务单元";case 6:return"媒体处理服务单元"}},syncStatusFormat:function(e,t){var l=e[t.property];if(void 0==l)return"";switch(l){case"ASYNC":return"未同步";case"SYNC":return"已同步"}},sourceTypeFormat:function(e,t){var l=e[t.property];if(void 0==l)return"";switch(l){case"SYSTEM":return"BVC";case"EXTERNAL":return"LDAP"}},queryList:function(){var e=this,t={};this.listLoading=!0,"serInfoTab"===this.activeTab?Object(o._4)(t).then(function(t){null!==t.errMsg&&""!==t.errMsg?e.$message({message:t.errMsg,type:"error",duration:3e3}):e.serInfoVOs=t.serInfoVOs,e.listLoading=!1}):"serNodeTab"===this.activeTab&&Object(o._5)(t).then(function(t){null!==t.errMsg&&""!==t.errMsg?e.$message({message:t.errMsg,type:"error",duration:3e3}):e.serNodeVOs=t.serNodeVOs,e.listLoading=!1})},handleShowAddDialog:function(){var e=this;if(console.log("add"),"serInfoTab"===this.activeTab)this.resetForm("serInfoEditForm"),this.serInfoAddBtnVisible=!0,this.serInfoEditFormVisible=!0,this.serInfoEditBtnVisible=!1;else if("serNodeTab"===this.activeTab){Object(o._1)({}).then(function(t){null!==t.errMsg&&""!==t.errMsg?console.log(o._1,error):(e.fatherNodeOptions=t.serNodeVOs,e.relationNodeOptions=t.serNodeVOs,console.log("queryFatherNodeOptions, success",i()(t.serNodeVOs)))}),this.resetForm("serNodeEditForm"),this.serNodeAddBtnVisible=!0,this.serNodeEditFormVisible=!0,this.serNodeEditBtnVisible=!1}},handleShowEditDialog:function(e,t){var l=this;if(console.log("edit"),"serInfoTab"===this.activeTab)this.resetForm("serInfoEditForm"),this.serInfoAddBtnVisible=!1,this.serInfoEditBtnVisible=!1,this.serInfoEditFormVisible=!0,this.serInfoEditBtnVisible=!0,this.serInfoEditForm=n()({},t);else if("serNodeTab"===this.activeTab){Object(o._1)({}).then(function(e){null!==e.errMsg&&""!==e.errMsg?console.log(o._1,error):l.fatherNodeOptions=e.serNodeVOs});var a=this.serNodeVOs;if("NULL"!=t.nodeFather)for(var r=t.nodeFather.split(","),i=0;i<r.length;i++)for(var s=0;s<a.length;s++)if(a[s].nodeUuid===r[i]){this.fatherTag.push(a[s]),console.log(this.fatherTag);break}if("NULL"!=t.nodeRelations){var d=t.nodeRelations.split(",");console.log(d);for(i=0;i<d.length;i++)for(s=0;s<a.length;s++)if(a[s].nodeUuid===d[i]){this.relationTag.push(a[s]);break}}this.resetForm("serNodeEditForm"),this.serNodeAddBtnVisible=!1,this.serNodeEditBtnVisible=!1,this.serNodeEditFormVisible=!0,this.serNodeEditBtnVisible=!0,this.serNodeEditForm=n()({},t)}},handleAddSerInfo:function(){var e=this;this.$refs.serInfoEditForm.validate(function(t){t&&e.$confirm("确认新增服务设备信息吗？","提示",{}).then(function(){e.editLoading=!0;var t={serNo:e.serInfoEditForm.serNo,serName:e.serInfoEditForm.serName,serAddr:e.serInfoEditForm.serAddr,serPort:e.serInfoEditForm.serPort,serPwd:e.serInfoEditForm.serPwd,serType:e.serInfoEditForm.serType,serPro:e.serInfoEditForm.serPro};console.log(i()(t)),Object(o.c)(t).then(function(t){null!==t.errMsg&&""!==t.errMsg?e.$message({message:t.errMsg,type:"error",duration:3e3}):(e.$message({message:"新增成功",type:"success"}),e.$refs.serInfoEditForm.resetFields(),e.serInfoEditFormVisible=!1,e.addSerInfoBtnVisibale=!1,e.queryList())}),e.editLoading=!1})})},handleEditSerInfo:function(){var e=this;this.$refs.serInfoEditForm.validate(function(t){t&&e.$confirm("确认修改服务设备信息吗？","提示",{}).then(function(){e.editLoading=!0;var t={id:e.serInfoEditForm.id,serUuid:e.serInfoEditForm.serUuid,serNo:e.serInfoEditForm.serNo,serName:e.serInfoEditForm.serName,serAddr:e.serInfoEditForm.serAddr,serPort:e.serInfoEditForm.serPort,serPwd:e.serInfoEditForm.serPwd,serType:e.serInfoEditForm.serType,serPro:e.serInfoEditForm.serPro};console.log(i()(t)),Object(o.U)(t).then(function(t){null!==t.errMsg&&""!==t.errMsg?e.$message({message:t.errMsg,type:"error",duration:3e3}):(e.$message({message:"修改成功",type:"success"}),e.$refs.serInfoEditForm.resetFields(),e.serInfoEditFormVisible=!1,e.serInfoEditBtnVisibale=!1,e.queryList())}),e.editLoading=!1})})},handleAddSerNode:function(){var e=this;this.$refs.serNodeEditForm.validate(function(t){t&&e.$confirm("确认新增服务节点信息吗？","提示",{}).then(function(){e.editLoading=!0;var t={nodeName:e.serNodeEditForm.nodeName,nodeFather:e.serNodeEditForm.nodeFather,nodeRelations:e.serNodeEditForm.nodeRelations,nodeFactInfo:e.serNodeEditForm.nodeFactInfo};console.log(i()(t)),Object(o.d)(t).then(function(t){null!==t.errMsg&&""!==t.errMsg?e.$message({message:t.errMsg,type:"error",duration:3e3}):(e.$message({message:"新增成功",type:"success"}),e.$refs.serNodeEditForm.resetFields(),e.serNodeEditFormVisible=!1,e.serNodeAddBtnVisibale=!1,e.queryList())}),e.editLoading=!1})})},handleEditSerNode:function(){var e=this;this.$refs.serNodeEditForm.validate(function(t){t&&e.$confirm("确认修改服务节点信息吗？","提示",{}).then(function(){e.editLoading=!0;for(var t=[],l=[],a=0;a<e.fatherTag.length;a++)t.push(e.fatherTag[a].nodeUuid);for(a=0;a<e.relationTag.length;a++)l.push(e.relationTag[a].nodeUuid);var n={nodeUuid:e.serNodeEditForm.nodeUuid,nodeName:e.serNodeEditForm.nodeName,nodeFather:t.join(","),nodeRelations:l.join(","),nodeFactInfo:e.serNodeEditForm.nodeFactInfo,nodePublisher:e.serNodeEditForm.nodePublisher};Object(o.V)(n).then(function(t){null!==t.errMsg&&""!==t.errMsg?e.$message({message:t.errMsg,type:"error",duration:3e3}):(e.$message({message:"修改成功",type:"success"}),e.$refs.serNodeEditForm.resetFields(),e.serNodeEditFormVisible=!1,e.serNodeEditBtnVisible=!1,e.queryList())}),e.editLoading=!1,e.fatherTag=[],e.relationTag=[]})})},handleEditSerNodeClose:function(){this.serNodeEditFormVisible=!1,this.fatherTag=[],this.relationTag=[]},beforeClose:function(e){this.fatherTag=[],this.relationTag=[],e()},handleDelSerInfo:function(e,t){var l=this;this.$confirm("删除此服务设备信息，确认？","提示",{}).then(function(){var e={serUuid:t.serUuid};Object(o.m)(e).then(function(e){null!==e.errMsg&&""!==e.errMsg?l.$message({message:e.errMsg,type:"error",duration:3e3}):l.queryList()})})},handleDelSerNode:function(e,t){var l=this;this.$confirm("删除此服务节点信息，确认？","提示",{}).then(function(){var e={nodeUuid:t.nodeUuid};Object(o.n)(e).then(function(e){null!==e.errMsg&&""!==e.errMsg?l.$message({message:e.errMsg,type:"error",duration:3e3}):l.queryList()})})},handleGotoGadgets:function(e,t){window.location.protocol.indexOf("https")>=0?this.gadgets.url="https://"+t.serAddr+":8912/":this.gadgets.url="http://"+t.serAddr+":8910/",this.gadgets.visible=!0},exitGadgets:function(){this.gadgets.url="",this.gadgets.visible=!1},handleSyncToLdap:function(){var e=this;this.$confirm("确认将本地未同步信息同步到LDAP服务器么？","提示",{}).then(function(){e.editLoading=!0;var t={};"serInfoTab"===e.activeTab?Object(o._26)(t).then(function(t){null!==t.errMsg&&""!==t.errMsg?e.$message({message:t.errMsg,type:"error",duration:3e3}):(e.$message({message:"同步成功, 共上传"+t.successCnt+"条信息",type:"success"}),e.queryList())}):"serNodeTab"===e.activeTab&&Object(o._28)(t).then(function(t){null!==t.errMsg&&""!==t.errMsg?e.$message({message:t.errMsg,type:"error",duration:3e3}):(e.$message({message:"同步成功, 共上传"+t.successCnt+"条信息",type:"success"}),e.queryList())}),e.editLoading=!1})},handleSyncFromLdap:function(){var e=this;this.$confirm("确认将从LDAP服务器同步下载信息么？","提示",{}).then(function(){e.editLoading=!0;var t={};"serInfoTab"===e.activeTab?Object(o._25)(t).then(function(t){null!==t.errMsg&&""!==t.errMsg?e.$message({message:t.errMsg,type:"error",duration:3e3}):(e.$message({message:"同步成功, 共下载"+t.successCnt+"条信息",type:"success"}),e.queryList())}):"serNodeTab"===e.activeTab&&Object(o._27)(t).then(function(t){null!==t.errMsg&&""!==t.errMsg?e.$message({message:t.errMsg,type:"error",duration:3e3}):(e.$message({message:"同步成功, 共下载"+t.successCnt+"条信息",type:"success"}),e.queryList())}),e.editLoading=!1})},handleCleanUpLdap:function(){var e=this;this.$confirm("确认清空上传到LDAP何从LDAP下载的所有信息么？","提示",{}).then(function(){e.editLoading=!0;var t={};"serInfoTab"===e.activeTab?Object(o.h)(t).then(function(t){null!==t.errMsg&&""!==t.errMsg?e.$message({message:t.errMsg,type:"error",duration:3e3}):(e.$message({message:"重置成功",type:"success"}),e.queryList())}):"serNodeTab"===e.activeTab&&Object(o.i)(t).then(function(t){null!==t.errMsg&&""!==t.errMsg?e.$message({message:t.errMsg,type:"error",duration:3e3}):(e.$message({message:"重置成功",type:"success"}),e.queryList())}),e.editLoading=!1})},handleClose:function(e){var t=this.fatherNodeOptions;this.dialog.node.selection;t.push(e);for(var l=this.relationTag.length-1;l>=0;l--)if(this.relationTag[l].nodeUuid===e.nodeUuid){this.relationTag.splice(l,1);break}},handleFatherClose:function(e){var t=this.fatherNodeOptions;this.dialog.node.selection;t.push(e);for(var l=this.fatherTag.length-1;l>=0;l--)if(this.fatherTag[l].nodeUuid===e.nodeUuid){this.fatherTag.splice(l,1);break}e.nodeUuid==this.serNodeEditForm.nodePublisher&&(this.serNodeEditForm.nodePublisher="")},handleDialogCommit:function(){for(var e=this.dialog.node.table.data,t=0;t<this.dialog.node.selection.length;t++)for(var l=e.length-1;l>=0;l--)if(e[l].nodeUuid===this.dialog.node.selection[t].nodeUuid){e.splice(l,1);break}if("relation"===this.dialog.node.type)for(t=0;t<this.dialog.node.selection.length;t++)this.relationTag.push(this.dialog.node.selection[t]);if("father"===this.dialog.node.type)for(t=0;t<this.dialog.node.selection.length;t++)this.fatherTag.push(this.dialog.node.selection[t]);this.dialog.node.visible=!1},handleSelectionChange:function(e){this.dialog.node.selection=e},handleDialogClose:function(){this.$refs.selectNodeTable.clearSelection(),this.dialog.node.visible=!1},addRelationNode:function(){this.dialog.node.type="relation",this.dialog.node.table.data=this.fatherNodeOptions,this.dialog.node.visible=!0},addFatherNode:function(){this.dialog.node.type="father",this.dialog.node.table.data=this.fatherNodeOptions,this.dialog.node.visible=!0},handleLdapBackUp:function(){var e=this;this.ldapLoading=!0,Object(o.O)(null).then(function(t){console.log(t),200!==t.status?(e.$message({message:response.message,type:"error"}),e.ldapLoading=!1):(e.$message({message:"备份成功",type:"success"}),e.ldapLoading=!1)})},handleLdapResume:function(){var e=this;this.ldapLoading=!0,Object(o.P)(null).then(function(t){200!==t.status?(e.$message({message:response.message,type:"error"}),e.ldapLoading=!1):(e.$message({message:"恢复成功",type:"success"}),e.ldapLoading=!1)})}},mounted:function(){this.queryList()}},d={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("section",[l("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[l("el-tab-pane",{attrs:{label:"服务设备信息",name:"serInfoTab"}}),e._v(" "),l("el-tab-pane",{attrs:{label:"服务节点信息",name:"serNodeTab"}})],1),e._v(" "),l("el-form",{ref:"filters",attrs:{inline:!0,model:e.filters,"label-width":"80px",size:"mini"}},[l("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px",margin:"0px"},attrs:{span:24}},[l("el-form-item",{attrs:{span:3}},[l("el-button",{on:{click:function(t){return e.queryList()}}},[e._v("查询")])],1),e._v(" "),l("el-form-item",{attrs:{span:3}},[l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleShowAddDialog()}}},[e._v("新增")])],1),e._v(" "),l("el-form-item",{attrs:{span:3}},[l("el-dropdown",[l("el-button",{attrs:{type:"primary"}},[e._v("\n                    LDAP操作"),l("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),l("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[l("el-dropdown-item",{nativeOn:{click:function(t){return e.handleSyncToLdap()}}},[e._v("上传到LDAP")]),e._v(" "),l("el-dropdown-item",{nativeOn:{click:function(t){return e.handleSyncFromLdap()}}},[e._v("从LDAP下载")]),e._v(" "),l("el-dropdown-item",{nativeOn:{click:function(t){return e.handleCleanUpLdap()}}},[e._v("重置LDAP数据")])],1)],1)],1),e._v(" "),l("el-form-item",{attrs:{span:3}},["serNodeTab"===e.activeTab?l("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.ldapLoading,expression:"ldapLoading"}],attrs:{type:"primary"},on:{click:function(t){return e.handleLdapBackUp()}}},[e._v("LDAP备份")]):e._e()],1),e._v(" "),l("el-form-item",{attrs:{span:3}},["serNodeTab"===e.activeTab?l("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.ldapLoading,expression:"ldapLoading"}],attrs:{type:"primary"},on:{click:function(t){return e.handleLdapResume()}}},[e._v("LDAP恢复")]):e._e()],1)],1)],1),e._v(" "),"serInfoTab"===e.activeTab?l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.serInfoVOs,"highlight-current-row":""},on:{"selection-change":e.selsChange}},[l("el-table-column",{attrs:{prop:"serNo",label:"设备编号",width:"180"}}),e._v(" "),l("el-table-column",{attrs:{prop:"serName",label:"设备名称",width:"200"}}),e._v(" "),l("el-table-column",{attrs:{prop:"serAddr",label:"IP地址",width:"180"}}),e._v(" "),l("el-table-column",{attrs:{prop:"serPort",label:"端口",width:"100"}}),e._v(" "),l("el-table-column",{attrs:{prop:"serType",label:"设备类型",formatter:e.serTypeFormat,width:"180",sortable:""}}),e._v(" "),l("el-table-column",{attrs:{prop:"sourceType",label:"来源",formatter:e.sourceTypeFormat,width:"100"}}),e._v(" "),l("el-table-column",{attrs:{prop:"syncStatus",label:"同步状态",formatter:e.syncStatusFormat,width:"100"}}),e._v(" "),l("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return["SYSTEM"===t.row.sourceType?l("el-button",{attrs:{size:"small"},on:{click:function(l){return e.handleShowEditDialog(t.$index,t.row)}}},[e._v("编辑")]):e._e(),e._v(" "),"SYSTEM"===t.row.sourceType?l("el-button",{attrs:{size:"small"},on:{click:function(l){return e.handleDelSerInfo(t.$index,t.row)}}},[e._v("删除")]):e._e(),e._v(" "),"SYSTEM"===t.row.sourceType?l("el-button",{attrs:{size:"small"},on:{click:function(l){return e.handleGotoGadgets(t.$index,t.row)}}},[e._v("小工具")]):e._e()]}}],null,!1,3261597134)})],1):e._e(),e._v(" "),l("el-dialog",{attrs:{title:"服务设备信息编辑",visible:e.serInfoEditFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.serInfoEditFormVisible=t}}},[l("el-form",{ref:"serInfoEditForm",attrs:{model:e.serInfoEditForm,"label-width":"160px",rules:e.serInfoEditFormRules}},[e._e(),e._v(" "),e.serInfoEditBtnVisible?l("el-form-item",{attrs:{label:"设备UUID",prop:"serUuid"}},[l("el-input",{attrs:{"auto-complete":"off",readonly:""},model:{value:e.serInfoEditForm.serUuid,callback:function(t){e.$set(e.serInfoEditForm,"serUuid",t)},expression:"serInfoEditForm.serUuid"}})],1):e._e(),e._v(" "),l("el-form-item",{attrs:{label:"设备编号",prop:"serNo"}},[l("el-input",{attrs:{"auto-complete":"off"},model:{value:e.serInfoEditForm.serNo,callback:function(t){e.$set(e.serInfoEditForm,"serNo",t)},expression:"serInfoEditForm.serNo"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"设备名称",prop:"serName"}},[l("el-input",{attrs:{"auto-complete":"off"},model:{value:e.serInfoEditForm.serName,callback:function(t){e.$set(e.serInfoEditForm,"serName",t)},expression:"serInfoEditForm.serName"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"IP地址",prop:"serAddr"}},[l("el-input",{attrs:{"auto-complete":"off"},model:{value:e.serInfoEditForm.serAddr,callback:function(t){e.$set(e.serInfoEditForm,"serAddr",t)},expression:"serInfoEditForm.serAddr"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"端口",prop:"serPort"}},[l("el-input",{attrs:{"auto-complete":"off"},model:{value:e.serInfoEditForm.serPort,callback:function(t){e.$set(e.serInfoEditForm,"serPort",t)},expression:"serInfoEditForm.serPort"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"密码",prop:"serPwd"}},[l("el-input",{attrs:{"auto-complete":"off"},model:{value:e.serInfoEditForm.serPwd,callback:function(t){e.$set(e.serInfoEditForm,"serPwd",t)},expression:"serInfoEditForm.serPwd"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"设备类型",prop:"serType"}},[[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.serInfoEditForm.serType,callback:function(t){e.$set(e.serInfoEditForm,"serType",t)},expression:"serInfoEditForm.serType"}},e._l(e.serTypeOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)]],2),e._v(" "),l("el-form-item",{attrs:{label:"协议类型",prop:"serPro"}},[[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.serInfoEditForm.serPro,callback:function(t){e.$set(e.serInfoEditForm,"serPro",t)},expression:"serInfoEditForm.serPro"}},e._l(e.serProOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)]],2)],1),e._v(" "),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e.serInfoEditBtnVisible?l("el-button",{attrs:{size:"small"},on:{click:function(t){return e.handleEditSerInfo()}}},[e._v("修改")]):e._e(),e._v(" "),e.serInfoAddBtnVisible?l("el-button",{attrs:{size:"small"},on:{click:function(t){return e.handleAddSerInfo()}}},[e._v("新增")]):e._e(),e._v(" "),l("el-button",{attrs:{size:"small"},nativeOn:{click:function(t){e.serInfoEditFormVisible=!1}}},[e._v("关闭")])],1)],1),e._v(" "),"serNodeTab"===e.activeTab?l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.serNodeVOs,"highlight-current-row":""},on:{"selection-change":e.selsChange}},[e._e(),e._v(" "),l("el-table-column",{attrs:{prop:"nodeName",label:"节点名称",width:"160"}}),e._v(" "),l("el-table-column",{attrs:{prop:"nodeUuid",label:"节点UUID",width:"280"}}),e._v(" "),l("el-table-column",{attrs:{prop:"nodeFather",label:"上级服务节点ID",width:"280",sortable:""}}),e._v(" "),l("el-table-column",{attrs:{prop:"nodeRelations",label:"关联服务节点ID",width:"160",sortable:""}}),e._v(" "),l("el-table-column",{attrs:{prop:"nodeFactInfo",label:"厂商名称",width:"160"}}),e._v(" "),l("el-table-column",{attrs:{prop:"sourceType",label:"来源",formatter:e.sourceTypeFormat,width:"100"}}),e._v(" "),l("el-table-column",{attrs:{prop:"syncStatus",label:"同步状态",formatter:e.syncStatusFormat,width:"100"}}),e._v(" "),l("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return["SYSTEM"===t.row.sourceType?l("el-button",{attrs:{size:"small"},on:{click:function(l){return e.handleShowEditDialog(t.$index,t.row)}}},[e._v("编辑")]):e._e(),e._v(" "),"SYSTEM"===t.row.sourceType?l("el-button",{attrs:{size:"small"},on:{click:function(l){return e.handleDelSerNode(t.$index,t.row)}}},[e._v("删除")]):e._e()]}}],null,!1,4020406125)})],1):e._e(),e._v(" "),l("el-dialog",{attrs:{title:"服务节点信息编辑",visible:e.serNodeEditFormVisible,"close-on-click-modal":!1,"before-close":e.beforeClose},on:{"update:visible":function(t){e.serNodeEditFormVisible=t}}},[l("el-form",{ref:"serNodeEditForm",attrs:{model:e.serNodeEditForm,"label-width":"160px",rules:e.serNodeEditFormRules}},[e._e(),e._v(" "),e.serNodeEditBtnVisible?l("el-form-item",{attrs:{label:"服务节点UUID",prop:"nodeUuid"}},[l("el-input",{attrs:{"auto-complete":"off",readonly:""},model:{value:e.serNodeEditForm.nodeUuid,callback:function(t){e.$set(e.serNodeEditForm,"nodeUuid",t)},expression:"serNodeEditForm.nodeUuid"}})],1):e._e(),e._v(" "),l("el-form-item",{attrs:{label:"服务节点名称",prop:"nodeName"}},[l("el-input",{attrs:{"auto-complete":"off"},model:{value:e.serNodeEditForm.nodeName,callback:function(t){e.$set(e.serNodeEditForm,"nodeName",t)},expression:"serNodeEditForm.nodeName"}})],1),e._v(" "),e.serNodeEditBtnVisible?l("el-form-item",{attrs:{label:"上级服务节点",prop:"nodeFather"}},[e._l(e.fatherTag,function(t){return l("el-tag",{key:t.nodeUuid,attrs:{closable:""},on:{close:function(l){return e.handleFatherClose(t)}}},[e._v("\n            "+e._s(t.nodeName)+"\n          ")])}),e._v(" "),l("el-button",{staticClass:"button-new-tag-father",attrs:{icon:"el-icon-plus",size:"small"},on:{click:e.addFatherNode}})],2):e._e(),e._v(" "),e.serNodeEditBtnVisible?l("el-form-item",{attrs:{label:"订阅节点",prop:"nodePublish"}},[l("el-select",{attrs:{placeholder:"请先选择上级服务节点"},model:{value:e.serNodeEditForm.nodePublisher,callback:function(t){e.$set(e.serNodeEditForm,"nodePublisher",t)},expression:"serNodeEditForm.nodePublisher"}},e._l(e.fatherTag,function(e){return l("el-option",{key:e.nodeUuid,attrs:{label:e.nodeName,value:e.nodeUuid}})}),1)],1):e._e(),e._v(" "),e.serNodeEditBtnVisible?l("el-form-item",{attrs:{label:"关联服务节点",prop:"nodeRelations"}},[e._l(e.relationTag,function(t){return l("el-tag",{key:t.nodeUuid,attrs:{closable:""},on:{close:function(l){return e.handleClose(t)}}},[e._v("\n              "+e._s(t.nodeName)+"\n            ")])}),e._v(" "),l("el-button",{staticClass:"button-new-tag-relation",attrs:{icon:"el-icon-plus",size:"small"},on:{click:e.addRelationNode}})],2):e._e(),e._v(" "),l("el-form-item",{attrs:{label:"厂商信息",prop:"nodeFactInfo"}},[l("el-input",{attrs:{type:"textarea","auto-complete":"off"},model:{value:e.serNodeEditForm.nodeFactInfo,callback:function(t){e.$set(e.serNodeEditForm,"nodeFactInfo",t)},expression:"serNodeEditForm.nodeFactInfo"}})],1)],1),e._v(" "),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e.serNodeEditBtnVisible?l("el-button",{attrs:{size:"small"},on:{click:function(t){return e.handleEditSerNode()}}},[e._v("修改")]):e._e(),e._v(" "),e.serNodeAddBtnVisible?l("el-button",{attrs:{size:"small"},on:{click:function(t){return e.handleAddSerNode()}}},[e._v("新增")]):e._e(),e._v(" "),l("el-button",{attrs:{size:"small"},on:{click:function(t){return e.handleEditSerNodeClose()}}},[e._v("关闭")])],1)],1),e._v(" "),l("el-dialog",{attrs:{title:"选择节点",visible:e.dialog.node.visible,width:"800px","before-close":e.handleDialogClose},on:{"update:visible":function(t){return e.$set(e.dialog.node,"visible",t)}}},[l("div",{staticStyle:{height:"450px",position:"relative"}},[l("div",{staticStyle:{position:"absolute",left:"-20px",top:"-20px",right:"-20px",bottom:"-20px"}},[l("div",{staticStyle:{width:"100%",height:"100%",position:"relative"}},[l("div",{staticStyle:{width:"100%",position:"absolute",left:"0",top:"0px",right:"0",bottom:"0",padding:"0 10px","box-sizing":"border-box"}},[l("el-table",{ref:"selectNodeTable",staticStyle:{width:"100%"},attrs:{data:e.dialog.node.table.data,height:"100%"},on:{"selection-change":e.handleSelectionChange}},[l("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),l("el-table-column",{attrs:{prop:"nodeName",width:"300",label:"节点名称"}}),e._v(" "),l("el-table-column",{attrs:{prop:"nodeUuid",label:"节点Uuid"}})],1)],1)])])]),e._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{size:"small"},on:{click:e.handleDialogClose}},[e._v("取消")]),e._v(" "),l("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleDialogCommit}},[e._v("确定")])],1)]),e._v(" "),e.gadgets.visible?l("div",{staticStyle:{position:"fixed",left:"0",top:"0",right:"0",bottom:"0","z-index":"5000"}},[l("div",{staticStyle:{width:"100%",height:"100%",position:"relative"}},[l("el-button",{staticStyle:{position:"absolute",right:"10px",top:"25px","z-index":"100"},attrs:{size:"mini",type:"primary",icon:"el-icon-d-arrow-left"},on:{click:e.exitGadgets}},[e._v("返回")]),e._v(" "),l("iframe",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.gadgets.url,frameborder:"0"}})],1)]):e._e()],1)},staticRenderFns:[]},c=l("VU/8")(s,d,!1,null,null,null);t.default=c.exports},"ILV/":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFwmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAxOC0xMi0yOVQwOToyMDoyOSswODowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOC0xMi0yOVQwOToyMDoyOSswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMTgtMTItMjlUMDk6MjA6MjkrMDg6MDAiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OWEyM2EyN2UtNjRiNC1iYjQxLThhNzYtMmQ0MWU1NTlkNmQ1IiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6OTcxMzAwOGEtMTA1NS1kYTQzLWI3ZjktZDQ4OTRkNWQ5ODk0IiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YzVkNTI1OTktMzM3NS01OTQ2LThmNzEtZGQ5YzMwZGZiOGU0IiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YzVkNTI1OTktMzM3NS01OTQ2LThmNzEtZGQ5YzMwZGZiOGU0IiBzdEV2dDp3aGVuPSIyMDE4LTEyLTI5VDA5OjIwOjI5KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo5YTIzYTI3ZS02NGI0LWJiNDEtOGE3Ni0yZDQxZTU1OWQ2ZDUiIHN0RXZ0OndoZW49IjIwMTgtMTItMjlUMDk6MjA6MjkrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+iH+ljQAAAZ9JREFUOI2t1E+ITlEcxvHPKw3jX1PDQix1y8qdsFQX+2l2ShYWkig12fhTkqWwsZqEvYVSshA62bI4GqtjQTSSPxuKms1rcc9r7rzeed9Lfptf95zf8+05nefcTrfbNapCTJNQlcXXUbOrR9LqepT77v8FnGw5Z1XbwX8GhpgOhJgmRglDTBMhpv1DgSGmWTzBbAszZ/A0xHR6IDDEtBNX8Am3WgBv4jOuhZiKQQ4vqi/peFUW70bR8syJrLm0DBhiWocZzFdlcb+Fux70Hl5hJsQ03nS4B2vxoC2sUQ8xjimWcrg197dDRCvVm9y3N4E/cx8bpKjK4uQQ4Jrcf7B05N4llEOEK9WuJqMHfImPmA4xrW9LCjFtwDQ+YP43sCqLLuawBef+wt1Z9Tufy4xlObyKBZwPMR1u4e4ILuA9rvfWO83/YYhpLx5jE27gclUWX/pAm9VBPoVvOFiVxYuBwCyYwl3swCKe4XXeLrBPnYaEQ1VZxKb+D2CGjuEYjqpD38lbXTzHHdyuymKxXzsQ2AffiG35c6Eqi+/D5n8BOquBtE8Bz40AAAAASUVORK5CYII="},IZ07:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l("BO1k"),n=l.n(a),r=l("P9l9"),i={data:function(){return{activeTabName:"LayernodeManage",nodes:[],typeOptions:[{value:"",label:"全部类型"},{label:"JV230接入",value:"ACCESS_JV230"},{label:"机顶盒接入",value:"ACCESS_TVOS"},{label:"混合器接入",value:"ACCESS_MIXER"},{label:"手机接入",value:"ACCESS_MOBILE"},{label:"音视频转发服务设备",value:"ACCESS_JV210"},{label:"录像存储服务单元A型",value:"ACCESS_CDN"},{label:"录像存储服务单元B型",value:"ACCESS_VOD"},{label:"监控资源汇接网关",value:"ACCESS_IPC"},{label:"流媒体管理服务设备",value:"ACCESS_STREAMMEDIA"},{label:"联网服务设备",value:"ACCESS_NETWORK"},{label:"显控汇接网关",value:"ACCESS_DISPLAYCTRL"},{label:"流转发器接入",value:"ACCESS_S100"},{label:"点播代理服务设备",value:"ACCESS_VODPROXY"},{label:"webrtc接入",value:"ACCESS_WEBRTC"},{label:"联网接入",value:"ACCESS_LIANWANG"},{label:"LDAP目录资源服务设备",value:"ACCESS_LDAP"},{label:"综合运维服务设备",value:"ACCESS_OMMS"},{label:"ws接入",value:"ACCESS_WS"}],typeObj:{ACCESS_MOBILE:"手机接入",ACCESS_JV230:"JV230接入",ACCESS_TVOS:"机顶盒接入",ACCESS_MIXER:"混合器接入",ACCESS_JV210:"音视频转发服务设备",ACCESS_CDN:"录像存储服务单元A型",ACCESS_VOD:"录像存储服务单元B型",ACCESS_IPC:"监控资源汇接网关",ACCESS_STREAMMEDIA:"流媒体管理服务设备",ACCESS_NETWORK:"联网服务设备",ACCESS_DISPLAYCTRL:"显控汇接网关",ACCESS_S100:"流转发器接入",ACCESS_VODPROXY:"点播代理服务设备",ACCESS_WEBRTC:"webrtc接入",ACCESS_LIANWANG:"联网接入",ACCESS_LDAP:"LDAP目录资源服务设备",ACCESS_OMMS:"综合运维服务设备",ACCESS_WS:"ws接入"},filters:{type:"",keyword:""},nodeTableLoading:!1,multipleSelection:[]}},methods:{gotoMonitor:function(e){window.open(e.monitorUrl)},gotoAdmin:function(e){window.open(e.netUrl)},handleTabClick:function(e,t){"LayernodeManage"!==e.name&&this.$router.push("/"+e.name)},getNodes:function(){var e=this,t={type:this.filters.type,keyword:this.filters.keyword};this.nodeTableLoading=!0,Object(r.F)(t).then(function(t){t.errMsg?e.$message({message:t.errMsg,type:"error"}):e.nodes=t.nodes,e.nodeTableLoading=!1})},handleModify:function(e){this.$router.push({path:"/ModifyLayernode",query:{id:e.id}})},handleDelete:function(e){var t=this;this.$confirm("是否确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var l={nodeIds:e.id};Object(r.q)(l).then(function(e){e.errMsg?t.$message({message:e.errMsg,type:"error"}):(t.$message({message:"删除成功",type:"success"}),t.getNodes())})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},handleMultiDelete:function(){var e=this;this.multipleSelection.length?this.$confirm("是否确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t=[],l=!0,a=!1,i=void 0;try{for(var o,s=n()(e.multipleSelection);!(l=(o=s.next()).done);l=!0){var d=o.value;t.push(d.id)}}catch(e){a=!0,i=e}finally{try{!l&&s.return&&s.return()}finally{if(a)throw i}}var c={nodeIds:t.join(",")};Object(r.q)(c).then(function(t){t.errMsg?e.$message({message:t.errMsg,type:"error"}):(e.$message({message:"删除成功",type:"success"}),e.getNodes())})}).catch(function(){e.$message({type:"info",message:"已取消删除"})}):this.$message({message:"请至少选择一行",type:"warning"})},handleSelectionChange:function(e){this.multipleSelection=e}},mounted:function(){var e=this;this.$nextTick(function(){e.$parent.$parent.$parent.$parent.$parent.setActive("/LayernodeManage")}),this.getNodes()}},o={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("section",[l("el-tabs",{staticStyle:{float:"left",width:"100%"},on:{"tab-click":e.handleTabClick},model:{value:e.activeTabName,callback:function(t){e.activeTabName=t},expression:"activeTabName"}},[l("el-tab-pane",{attrs:{label:"层节点列表",name:"LayernodeManage"}}),e._v(" "),l("el-tab-pane",{attrs:{label:"添加层节点",name:"AddLayernode"}})],1),e._v(" "),l("div",{staticStyle:{float:"left",width:"100%"}},[l("el-select",{staticStyle:{float:"left","margin-left":"10px",width:"200px"},attrs:{size:"small",placeholder:"选择层节点类型"},model:{value:e.filters.type,callback:function(t){e.$set(e.filters,"type",t)},expression:"filters.type"}},e._l(e.typeOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),l("el-input",{staticStyle:{float:"left","margin-left":"30px",width:"200px"},attrs:{size:"small",placeholder:"节点名称"},model:{value:e.filters.keyword,callback:function(t){e.$set(e.filters,"keyword",t)},expression:"filters.keyword"}}),e._v(" "),l("el-button",{staticStyle:{float:"left","margin-left":"30px"},attrs:{size:"small",type:"info"},on:{click:e.getNodes}},[e._v("查询")]),e._v(" "),l("el-button",{staticStyle:{float:"left","margin-left":"30px"},attrs:{size:"small",type:"danger"},on:{click:e.handleMultiDelete}},[e._v("批量删除")])],1),e._v(" "),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.nodeTableLoading,expression:"nodeTableLoading"}],staticStyle:{float:"left",width:"100%","margin-top":"20px"},attrs:{data:e.nodes},on:{"selection-change":e.handleSelectionChange}},[l("el-table-column",{attrs:{width:"100",type:"selection"}}),e._v(" "),l("el-table-column",{attrs:{prop:"name",label:"名称",width:"200",sortable:""}}),e._v(" "),l("el-table-column",{attrs:{prop:"type",label:"层节点类型",width:"200",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("span",{domProps:{textContent:e._s(e.typeObj[t.row.type])}})])]}}])}),e._v(" "),l("el-table-column",{attrs:{prop:"nodeUid",label:"层节点ID",width:"300",sortable:""}}),e._v(" "),l("el-table-column",{attrs:{prop:"ip",label:"层节点IP",width:"200",sortable:""}}),e._v(" "),l("el-table-column",{attrs:{width:"150",label:"在线状态"},scopedSlots:e._u([{key:"default",fn:function(e){return["ONLINE"==e.row.onlineStatus?l("div",{staticStyle:{height:"20px",width:"20px","border-radius":"50%","background-color":"#0f0"}}):l("div",{staticStyle:{height:"20px",width:"20px","border-radius":"50%","background-color":"#f00"}})]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){return e.handleModify(t.row)}}},[e._v("修改")]),e._v(" "),l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){return e.handleDelete(t.row)}}},[e._v("删除")]),e._v(" "),t.row.monitorUrl?l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){return e.gotoMonitor(t.row)}}},[e._v("监控")]):l("el-button",{attrs:{type:"text",size:"small",disabled:""}},[e._v("监控")]),e._v(" "),t.row.netUrl?l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){return e.gotoAdmin(t.row)}}},[e._v("网管")]):l("el-button",{attrs:{type:"text",size:"small",disabled:""}},[e._v("网管")])]}}])})],1)],1)},staticRenderFns:[]};var s=l("VU/8")(i,o,!1,function(e){l("cC03")},null,null);t.default=s.exports},"J/7U":function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l("+b1m"),n={name:"sidebar",components:{sidebarItem:l("XvCJ").default},props:{routes:{type:Array},active:{type:String},menurouter:{type:Boolean,required:!0}},data:function(){return{isCollapse:!1,logo:{img:"~assets/bvclogo.png"}}},methods:{handleopen:function(){},handleclose:function(){},handleselect:function(e,t){}},mounted:function(){var e=this;a.a.$on("collapseMenuEvent",function(t){e.isCollapse=t})}},r={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("aside",{class:[e.isCollapse?"collapseMenu":"unCollapseMenu"]},[e.menurouter?l("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{collapse:e.isCollapse,"default-active":e.active,router:"","background-color":"#37404f","text-color":"#fff","active-text-color":"#ffd04b"},on:{open:e.handleopen,close:e.handleclose,select:e.handleselect}},[e._v(">\n    "),e._l(e.routes,function(t){return l("sidebarItem",{key:t.path,attrs:{item:t,menurouter:e.menurouter}})})],2):l("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{collapse:e.isCollapse,"default-active":e.active,"background-color":"#37404f","text-color":"#fff","active-text-color":"#ffd04b"},on:{open:e.handleopen,close:e.handleclose,select:e.handleselect}},e._l(e.routes,function(t){return l("sidebarItem",{key:t.path,attrs:{item:t,menurouter:e.menurouter}})}),1)],1)},staticRenderFns:[]};var i=l("VU/8")(n,r,!1,function(e){l("T2qo")},null,null);t.default=i.exports},KGOO:function(e,t){},KLRY:function(e,t){},KVpF:function(e,t){},LKA7:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});l("0nep");var a=l("+b1m"),n=l("P9l9"),r={name:"headerbar",props:{sysUserName:{type:String},routes:{type:Array},active:{type:String}},data:function(){return{isCollapsed:!1,userimg:"~assets/user.png",showRemindHover:!1,showExitHover:!1}},methods:{logout:function(){this.$confirm("确认退出吗?","提示",{}).then(function(){Object(n.Q)(null).then(function(e){window.location.href="/web/app/login/login.html"})}).catch(function(){})},remindHover:function(e){this.showRemindHover=e},exitHover:function(e){this.showExitHover=e},collapseMenu:function(){this.isCollapsed?this.isCollapsed=!1:this.isCollapsed=!0,a.a.$emit("collapseMenuEvent",this.isCollapsed)}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header"},[a("el-col",{staticClass:"header-col",attrs:{span:6}},[a("div",{staticClass:"collapsed-icon-wrapper",on:{click:function(t){return e.collapseMenu()}}},[e.isCollapsed?e._e():a("img",{staticClass:"collapsed-icon",attrs:{src:l("Caey")}}),e._v(" "),e.isCollapsed?a("img",{staticClass:"collapsed-icon",attrs:{src:l("B1Ru")}}):e._e()]),e._v(" "),a("div",{staticClass:"logo-wrapper"},[a("img",{staticClass:"logo-img",attrs:{src:l("51G+")}})])]),e._v(" "),a("el-col",{staticClass:"header-col",attrs:{span:12}}),e._v(" "),a("el-col",{staticClass:"header-col",attrs:{span:6}},[a("div",{staticStyle:{float:"right","margin-right":"10px"}},[e._v("\n        Version：1.3.0_95731\n      ")]),e._v(" "),a("div",{staticClass:"logout-icon-wrapper notice-wrapper",on:{click:e.logout,mouseenter:function(t){return e.exitHover(!0)},mouseleave:function(t){return e.exitHover(!1)}}},[e.showExitHover?e._e():a("img",{staticClass:"logout-icon",attrs:{src:l("ILV/")}}),e._v(" "),e.showExitHover?a("img",{staticClass:"logout-icon",attrs:{src:l("RH6s")}}):e._e()]),e._v(" "),a("div",{staticClass:"reminder-icon-wrapper notice-wrapper",on:{mouseenter:function(t){return e.remindHover(!0)},mouseleave:function(t){return e.remindHover(!1)}}},[e.showRemindHover?e._e():a("img",{staticClass:"reminder-icon",attrs:{src:l("71sA")}}),e._v(" "),e.showRemindHover?a("img",{staticClass:"reminder-icon",attrs:{src:l("Lo3N")}}):e._e()]),e._v(" "),a("div",{staticClass:"notice-wrapper"},[a("span",[a("img",{staticClass:"userinfo-icon",attrs:{src:l("8tHC")}}),e._v(" "+e._s(e.sysUserName))])])])],1)},staticRenderFns:[]};var o=l("VU/8")(r,i,!1,function(e){l("riik")},"data-v-c9bc0b84",null);t.default=o.exports},LQK2:function(e,t){},Lo3N:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAIf2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMTgtMTItMjlUMTA6MTA6NDIrMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTgtMTItMjlUMTA6MTE6MDQrMDg6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDE4LTEyLTI5VDEwOjExOjA0KzA4OjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo3N2NkM2VkMi00M2E0LWUxNDMtYTVmOC1kNGIzMWRjOGE5MTgiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo0YmJiMzE1MS0xZTZiLWE1NDMtYTAzOS01NTEyZTFiOWEwZDIiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDozNmIyMDhkNS03MjgxLTU4NDgtOWQ0NC1mYjRjMjZhOGNmMGYiIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjM2YjIwOGQ1LTcyODEtNTg0OC05ZDQ0LWZiNGMyNmE4Y2YwZiIgc3RFdnQ6d2hlbj0iMjAxOC0xMi0yOVQxMDoxMDo0MiswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MjRhYWNiNDktNzMxMS01MzQ5LWFkNmUtNzE3NmFmNDA0OWEzIiBzdEV2dDp3aGVuPSIyMDE4LTEyLTI5VDEwOjExOjA0KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjb252ZXJ0ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmciLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImRlcml2ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImNvbnZlcnRlZCBmcm9tIGFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5waG90b3Nob3AgdG8gaW1hZ2UvcG5nIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo3N2NkM2VkMi00M2E0LWUxNDMtYTVmOC1kNGIzMWRjOGE5MTgiIHN0RXZ0OndoZW49IjIwMTgtMTItMjlUMTA6MTE6MDQrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjI0YWFjYjQ5LTczMTEtNTM0OS1hZDZlLTcxNzZhZjQwNDlhMyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozNmIyMDhkNS03MjgxLTU4NDgtOWQ0NC1mYjRjMjZhOGNmMGYiIHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDozNmIyMDhkNS03MjgxLTU4NDgtOWQ0NC1mYjRjMjZhOGNmMGYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4pT+gOAAABJklEQVQ4jbWVsUoDQRRFz7ppjFgJChaWprBNlybY2FpbpLP3C/IbFv5BQBA7f0HSphFsBBVJZSEaZLkWuZJh2ZkdUS885vHm3TPsPIYtJNGidWDP+QPwnuyWFIu+pGtJC620cK0f88VgZ5IqQ6aSzh1T1yr3ZAFPbHqSNGzYH3pP7k0CNyXNJb1K6iWuo+eeuT1R4MgnjxOw7xi7dxTW12ozGni9bBt90DMIi3Xgttf7DOBjzdMILLx+ZADrnkbgr/XvwM4PvJ9NniJ4yzvADKic5+gFKIED53SALnABHAFbwDNwlQmsWE55BtwAp4WkXeAO2MiExPQG7Ief/Cdqm3IJHLO8lq7zMuloea+Hfq+3DrkW9bQBO5ImWmniWtSTe4fhLyCpL/OK6D1IVzbiAAAAAElFTkSuQmCC"},"M28+":function(e,t){},MMPW:function(e,t){},MQH7:function(e,t){},NHnr:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l("7+uW"),n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("transition",{attrs:{name:"fade",mode:"out-in"}},[t("router-view")],1)],1)},staticRenderFns:[]};var r=l("VU/8")({name:"app"},n,!1,function(e){l("w+vs")},null,null).exports,i=l("YaEn"),o=l("zL8q"),s=l.n(o),d=(l("9goZ"),l("tvR6"),l("KLRY"),l("wdO+"),l("XLwt")),c=l.n(d);a.default.prototype.$echarts=c.a,a.default.config.productionTip=!1,a.default.use(s.a),new a.default({el:"#app",router:i.a,components:{app:r},template:"<app/>",mounted:function(){if((l=function(e){var t=window.location.href.split("?")[1];if(t){t=t.split("&");for(var l=0;l<t.length;l++)if(t[l].startsWith(e))return t[l].split("=")[1]}return null}("params"))&&l.indexOf("qt-terminal")>=0){var e=document.querySelector("head"),t=document.createElement("style");t.type="text/css";var l=[".header{background-color:#0f2A4a!important;}","ul[role=menubar]{background-color:#0f2A4a!important;}","li[role=menuitem]{background-color:#0f2A4a!important;}","div.el-submenu__title{background-color:#0f2A4a!important;}","li[role=menuitem],li[role=menuitem]>i,li[role=menuitem]>div,li[role=menuitem]>div>i{color:#fff!important;}","li.is-active[role=menuitem],li.is-active[role=menuitem]>i,li.is-active[role=menuitem]>div,li.is-active[role=menuitem]>div>i{color:rgb(195,176,145)!important;}"];t.appendChild(document.createTextNode(l.join(" "))),e.appendChild(t)}}})},Opzk:function(e,t,l){var a={"./404.vue":["+H76"],"./Home.vue":["j7e0"],"./Main.vue":["VZrM"],"./bind/UserBindBundle.vue":["r1Id"],"./bundle/AddBundle.vue":["ifcc"],"./bundle/BundleManage.vue":["dLi2"],"./bundle/ConfigBundle.vue":["PPfX"],"./bundle/ModifyBundle.vue":["V5AO"],"./folder/FolderManage.vue":["kCLY"],"./frame/headerbar.vue":["LKA7"],"./frame/sidebar.vue":["J/7U"],"./frame/sidebarItem.vue":["XvCJ"],"./layernode/AddLayerNode.vue":["EUih"],"./layernode/LayerNodeManage.vue":["IZ07"],"./layernode/ModifyLayerNode.vue":["snKp"],"./layernode/SelectLayerNode.vue":["/Qkj"],"./middleLayer.vue":["345n",0],"./privilege/BindResource.vue":["4vq3"],"./privilege/BindVirtualResource.vue":["BXv7"],"./serInfo/SerInfoAndNode.vue":["HV9H"],"./template/BundleTemplateManage.vue":["qoXU"],"./template/ChannelTemplateManage.vue":["Pu6j"]};function n(e){var t=a[e];return t?Promise.all(t.slice(1).map(l.e)).then(function(){return l(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}n.keys=function(){return Object.keys(a)},n.id="Opzk",e.exports=n},P9l9:function(e,t,l){"use strict";l.d(t,"D",function(){return h}),l.d(t,"C",function(){return p}),l.d(t,"I",function(){return m}),l.d(t,"H",function(){return f}),l.d(t,"r",function(){return v}),l.d(t,"w",function(){return b}),l.d(t,"A",function(){return g}),l.d(t,"o",function(){return y}),l.d(t,"a",function(){return k}),l.d(t,"W",function(){return w}),l.d(t,"S",function(){return C}),l.d(t,"y",function(){return S}),l.d(t,"x",function(){return x}),l.d(t,"l",function(){return A}),l.d(t,"B",function(){return I}),l.d(t,"J",function(){return N}),l.d(t,"L",function(){return T}),l.d(t,"_18",function(){return _}),l.d(t,"_19",function(){return M}),l.d(t,"_20",function(){return F}),l.d(t,"z",function(){return L}),l.d(t,"v",function(){return E}),l.d(t,"K",function(){return R}),l.d(t,"F",function(){return D}),l.d(t,"q",function(){return O}),l.d(t,"_12",function(){return P}),l.d(t,"_31",function(){return Z}),l.d(t,"E",function(){return z}),l.d(t,"_2",function(){return B}),l.d(t,"b",function(){return j}),l.d(t,"p",function(){return U}),l.d(t,"M",function(){return W}),l.d(t,"e",function(){return Y}),l.d(t,"N",function(){return G}),l.d(t,"T",function(){return $}),l.d(t,"_14",function(){return V}),l.d(t,"_9",function(){return H}),l.d(t,"X",function(){return J}),l.d(t,"_7",function(){return Q}),l.d(t,"_15",function(){return X}),l.d(t,"_10",function(){return q}),l.d(t,"_3",function(){return K}),l.d(t,"_16",function(){return ee}),l.d(t,"_11",function(){return te}),l.d(t,"_8",function(){return le}),l.d(t,"f",function(){return ae}),l.d(t,"R",function(){return ne}),l.d(t,"k",function(){return re}),l.d(t,"_13",function(){return ie}),l.d(t,"_24",function(){return oe}),l.d(t,"_23",function(){return se}),l.d(t,"j",function(){return de}),l.d(t,"_4",function(){return ce}),l.d(t,"_5",function(){return ue}),l.d(t,"c",function(){return he}),l.d(t,"d",function(){return pe}),l.d(t,"U",function(){return me}),l.d(t,"V",function(){return fe}),l.d(t,"m",function(){return ve}),l.d(t,"n",function(){return be}),l.d(t,"h",function(){return ge}),l.d(t,"i",function(){return ye}),l.d(t,"_27",function(){return ke}),l.d(t,"_28",function(){return we}),l.d(t,"_25",function(){return Ce}),l.d(t,"_26",function(){return Se}),l.d(t,"_1",function(){return xe}),l.d(t,"O",function(){return Ae}),l.d(t,"P",function(){return Ie}),l.d(t,"_22",function(){return Ne}),l.d(t,"_21",function(){return Te}),l.d(t,"g",function(){return _e}),l.d(t,"_6",function(){return Me}),l.d(t,"_17",function(){return Fe}),l.d(t,"_0",function(){return Le}),l.d(t,"Z",function(){return Ee}),l.d(t,"_30",function(){return Re}),l.d(t,"Q",function(){return De}),l.d(t,"t",function(){return Oe}),l.d(t,"s",function(){return Pe}),l.d(t,"u",function(){return Ze}),l.d(t,"_29",function(){return ze}),l.d(t,"G",function(){return Be}),l.d(t,"Y",function(){return je});var a=l("//Fk"),n=l.n(a),r=l("mtWM"),i=l.n(r),o=l("mw3O"),s=document.location.host.split(":")[0],d=document.location.origin,c="http://192.165.56.111:8093/vue";-1!==d.indexOf("__requestIP__")&&(d=d.replace("__requestIP__",s)),-1!==c.indexOf("__requestIP__")&&(c=c.replace("__requestIP__",s));var u=i.a.create({headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/x-www-form-urlencoded","Access-Control-Allow-Headers":"Content-Type, Content-Length, Authorization, Accept, X-Requested-With , yourHeaderFeild","Access-Control-Allow-Methods":"PUT,POST,GET,DELETE,OPTIONS"},withCredentials:!1});u.interceptors.request.use(function(e){var t=sessionStorage.getItem("token"),l=localStorage.getItem("tetris-001");return e.headers["tetris-001"]=t||l,e.headers.Authorization=t||l,e},function(e){return n.a.reject(e)}),u.interceptors.response.use(function(e){if(408!==e.data.status)return e;alert("超时，请重新登录!"),window.location.href=d+"/web/app/login/login.html"},function(e){401===e.response.status&&alert("超时，请重新登录!")});var h=function(e){return u.post(d+"/user/getLoginUserName",o.stringify(e)).then(function(e){return e.data})},p=function(e){return u.post(d+"/template/getDeviceModels",o.stringify(e)).then(function(e){return e.data})},m=function(e){return u.post(d+"/template/abilityTemplates",o.stringify(e)).then(function(e){return e.data})},f=function(e){return u.post(d+"/template/tree",o.stringify(e)).then(function(e){return e.data})},v=function(e){return u.post(d+"/template/delete",o.stringify(e)).then(function(e){return e.data})},b=function(e){return u.post(d+"/user/getAllUser",o.stringify(e)).then(function(e){return e.data})},g=function(e){return u.post(d+"/bundle/query",o.stringify(e)).then(function(e){return e.data})},y=function(e){return u.post(d+"/bundle/delete",o.stringify(e)).then(function(e){return e.data})},k=function(e){return u.post(d+"/bundle/add",o.stringify(e)).then(function(e){return e.data})},w=function(e){return u.post(d+"/bundle/queryExtraInfo",o.stringify(e)).then(function(e){return e.data})},C=function(e){return u.post(d+"/bundle/modifyExtraInfo",o.stringify(e)).then(function(e){return e.data})},S=function(e){return u.post(d+"/bundle/getBundleChannels",o.stringify(e)).then(function(e){return e.data})},x=function(e){return u.post(d+"/ability/getBundleAbility",o.stringify(e)).then(function(e){return e.data})},A=function(e){return u.post(d+"/ability/configBundle",o.stringify(e)).then(function(e){return e.data})},I=function(e){return u.post(d+"/resource/queryBundlesOfRole",o.stringify(e)).then(function(e){return e.data})},N=function(e){return u.post(d+"/resource/queryUsersOfRole",o.stringify(e)).then(function(e){return e.data})},T=function(e){return u.post(d+"/resource/queryVirtualResourcesOfRole",o.stringify(e)).then(function(e){return e.data})},_=function(e){return u.post(d+"/resource/submitBundlePrivilege",o.stringify(e)).then(function(e){return e.data})},M=function(e){return u.post(d+"/resource/submitUserresPrivilege",o.stringify(e)).then(function(e){return e.data})},F=function(e){return u.post(d+"/resource/submitVirtualResourcePrivilege",o.stringify(e)).then(function(e){return e.data})},L=function(e){return u.post(d+"/bundle/queryExtraInfo",o.stringify(e)).then(function(e){return e.data})},E=function(e){return u.post(d+"/user/getAllRoles",o.stringify(e)).then(function(e){return e.data})},R=function(e){return u.post(d+"/resource/queryVirtualResourceInfo",o.stringify(e)).then(function(e){return e.data})},D=function(e){return u.post(d+"/layernode/query",o.stringify(e)).then(function(e){return e.data})},O=function(e){return u.post(d+"/layernode/delete",o.stringify(e)).then(function(e){return e.data})},P=function(e){return u.post(d+"/layernode/save",o.stringify(e)).then(function(e){return e.data})},Z=function(e){return u.post(d+"/layernode/update",o.stringify(e)).then(function(e){return e.data})},z=function(e){return u.post(d+"/layernode/getNode",o.stringify(e)).then(function(e){return e.data})},B=function(e){return u.post(d+"/folder/query/tree",o.stringify(e)).then(function(e){return e.data})},j=function(e){return u.post(d+"/folder/add",o.stringify(e)).then(function(e){return e.data})},U=function(e){return u.post(d+"/folder/delete",o.stringify(e)).then(function(e){return e.data})},W=function(e){return u.post(d+"/folder/initTree",o.stringify(e)).then(function(e){return e.data})},Y=function(e){return u.post(d+"/folder/changeFolderIndex",o.stringify(e)).then(function(e){return e.data})},G=function(e){return u.post(d+"/folder/initTreeWithOutMember",o.stringify(e)).then(function(e){return e.data})},$=function(e){return u.post(d+"/folder/modify",o.stringify(e)).then(function(e){return e.data})},V=function(e){return u.post(d+"/folder/setFolderOfBundles",o.stringify(e)).then(function(e){return e.data})},H=function(e){return u.post(d+"/folder/resetFolderOfBundles",o.stringify(e)).then(function(e){return e.data})},J=function(e){return u.post(d+"/folder/queryBundlesWithoutFolder",o.stringify(e)).then(function(e){return e.data})},Q=function(e){return u.post(d+"/folder/queryUsersWithoutFolder",o.stringify(e)).then(function(e){return e.data})},X=function(e){return u.post(d+"/folder/setFolderToUsers",o.stringify(e)).then(function(e){return e.data})},q=function(e){return u.post(d+"/folder/resetFolderOfUsers",o.stringify(e)).then(function(e){return e.data})},K=function(e){return u.post(d+"/folder/queryRootOptions",o.stringify(e)).then(function(e){return e.data})},ee=function(e){return u.post(d+"/folder/setRoot",o.stringify(e)).then(function(e){return e.data})},te=function(e){return u.post(d+"/folder/resetRootNode",o.stringify(e)).then(function(e){return e.data})},le=function(e){return u.post(d+"/folder/releaseRootNode",o.stringify(e)).then(function(e){return e.data})},ae=function(e){return u.post(d+"/folder/changeNodePosition",o.stringify(e)).then(function(e){return e.data})},ne=function(e){return u.post(d+"/bundle/logout",o.stringify(e)).then(function(e){return e.data})},re=function(e){return u.post(d+"/bundle/clear",o.stringify(e)).then(function(e){return e.data})},ie=function(e){return u.post(d+"/bundle/setAccessLayer",o.stringify(e)).then(function(e){return e.data})},oe=function(e){return u.post(d+"/folder/syncToLdap",o.stringify(e)).then(function(e){return e.data})},se=function(e){return u.post(d+"/folder/syncFromLdap",o.stringify(e)).then(function(e){return e.data})},de=function(e){return u.post(d+"/folder/cleanUpLdap",o.stringify(e)).then(function(e){return e.data})},ce=function(e){return u.post(d+"/serInfo/querySerInfo",o.stringify(e)).then(function(e){return e.data})},ue=function(e){return u.post(d+"/serInfo/querySerNode",o.stringify(e)).then(function(e){return e.data})},he=function(e){return u.post(d+"/serInfo/addSerInfo",o.stringify(e)).then(function(e){return e.data})},pe=function(e){return u.post(d+"/serInfo/addSerNode",o.stringify(e)).then(function(e){return e.data})},me=function(e){return u.post(d+"/serInfo/modifySerInfo",o.stringify(e)).then(function(e){return e.data})},fe=function(e){return u.post(d+"/serInfo/modifySerNode",o.stringify(e)).then(function(e){return e.data})},ve=function(e){return u.post(d+"/serInfo/delSerInfo",o.stringify(e)).then(function(e){return e.data})},be=function(e){return u.post(d+"/serInfo/delSerNode",o.stringify(e)).then(function(e){return e.data})},ge=function(e){return u.post(d+"/serInfo/cleanUpSerInfo",o.stringify(e)).then(function(e){return e.data})},ye=function(e){return u.post(d+"/serInfo/cleanUpSerNode",o.stringify(e)).then(function(e){return e.data})},ke=function(e){return u.post(d+"/serInfo/syncSerNodeFromLdap",o.stringify(e)).then(function(e){return e.data})},we=function(e){return u.post(d+"/serInfo/syncSerNodeToLdap",o.stringify(e)).then(function(e){return e.data})},Ce=function(e){return u.post(d+"/serInfo/syncSerInfoFromLdap",o.stringify(e)).then(function(e){return e.data})},Se=function(e){return u.post(d+"/serInfo/syncSerInfoToLdap",o.stringify(e)).then(function(e){return e.data})},xe=function(e){return u.post(d+"/serInfo/queryFatherNodeOptions",o.stringify(e)).then(function(e){return e.data})},Ae=function(e){return u.post(d+"/serInfo/ldap/backup",o.stringify(e)).then(function(e){return e.data})},Ie=function(e){return u.post(d+"/serInfo/ldap/resume",o.stringify(e)).then(function(e){return e.data})},Ne=function(e){return u.post(d+"/bundle/syncFromLdap",o.stringify(e)).then(function(e){return e.data})},Te=function(e){return u.post(d+"/bundle/syncToLdap",o.stringify(e)).then(function(e){return e.data})},_e=function(e){return u.post(d+"/bundle/cleanUpLdap",o.stringify(e)).then(function(e){return e.data})},Me=function(e){return u.post(d+"/user/bind/bundle/query",o.stringify(e)).then(function(e){return e.data})},Fe=function(e){return u.post(d+"/user/bind/bundle/bind",o.stringify(e)).then(function(e){return e.data})},Le=function(e){return u.post(d+"/user/bind/bundle/query/encoders",o.stringify(e)).then(function(e){return e.data})},Ee=function(e){return u.post(d+"/user/bind/bundle/query/decoders",o.stringify(e)).then(function(e){return e.data})},Re=function(e){return u.post(d+"/user/bind/bundle/unbind",o.stringify(e)).then(function(e){return e.data})},De=function(e){return u.post(d+"/do/logout",o.stringify(e)).then(function(e){return e.data})},Oe=function(e){return u.post(d+"/folder/export",e,{responseType:"blob"})},Pe=function(e){return u.post(d+"/bundle/export",e,{responseType:"blob"})},Ze=function(e){return u.post(d+"/folder/user/export",e,{responseType:"blob"})},ze=function(e){return u.post(d+"/bundle/syncUser",o.stringify(e)).then(function(e){return e.data})},Be=function(e){return u.get("../../static/data/record.json",o.stringify(e)).then(function(e){return e.data})},je=function(e){return u.post(d+"/vedioCapacity/query",o.stringify(e)).then(function(e){return e.data})}},PPfX:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l("mvHQ"),n=l.n(a),r=l("P9l9"),i={name:"ConfigBundle",data:function(){return{activeTabName:"ConfigBundle",bundleId:this.$route.query.bundleId,templateTree:[],treeProps:{children:"children",label:"label"},configChannels:[],configEditableAttrs:[]}},methods:{handleTabClick:function(e,t){"ConfigBundle"!==e.name&&this.$router.push("/"+e.name)},displayBundleAbility:function(e){var t=this,l={bundleId:this.bundleId};Object(r.x)(l).then(function(e){e.errMsg?t.$message({message:e.errMsg,type:"error"}):(t.templateTree=e.tree,t.configChannels=e.configChannels,t.configEditableAttrs=e.configEditableAttrs)})},submit:function(){var e=this,t={bundleId:this.bundleId,configChannels:n()(this.configChannels),configEditableAttrs:n()(this.configEditableAttrs)};Object(r.l)(t).then(function(t){t.errMsg?e.$message({message:t.errMsg,type:"error"}):e.$message({message:"配置成功",type:"success"})})}},mounted:function(){this.displayBundleAbility()}},o={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("section",[l("el-tabs",{staticStyle:{float:"left",width:"100%"},on:{"tab-click":e.handleTabClick},model:{value:e.activeTabName,callback:function(t){e.activeTabName=t},expression:"activeTabName"}},[l("el-tab-pane",{attrs:{label:"资源列表",name:"BundleManage"}}),e._v(" "),l("el-tab-pane",{attrs:{label:"能力配置",name:"ConfigBundle"}})],1),e._v(" "),l("el-card",{staticStyle:{float:"left","margin-left":"50px","margin-top":"10px",width:"40%","min-height":"700px"},attrs:{"body-style":"padding:0px"}},[l("div",{staticStyle:{height:"15px"},attrs:{slot:"header"},slot:"header"},[l("span",{staticStyle:{float:"left","font-size":"18px"}},[e._v("模板属性")])]),e._v(" "),l("el-tree",{attrs:{data:e.templateTree,props:e.treeProps,"node-key":"label","default-expanded-keys":["channels"]}})],1),e._v(" "),l("el-card",{staticStyle:{float:"left","margin-top":"10px",width:"50%","min-height":"700px"},attrs:{"body-style":"padding:0px"}},[l("div",{staticStyle:{height:"15px"},attrs:{slot:"header"},slot:"header"},[l("span",{staticStyle:{float:"left","font-size":"18px"}},[e._v("配置")])]),e._v(" "),e._l(e.configChannels,function(t,a){return l("div",{staticStyle:{"margin-top":"10px"}},[l("el-input",{attrs:{placeholder:"请输入整数"},model:{value:t.channelCnt,callback:function(l){e.$set(t,"channelCnt",l)},expression:"channel.channelCnt"}},[l("template",{slot:"prepend"},[e._v(e._s(t.channelName)+" 通道数")])],2)],1)}),e._v(" "),e._l(e.configEditableAttrs,function(t,a){return l("div",{staticStyle:{"margin-top":"10px"}},[l("el-input",{attrs:{placeholder:"请输入字段值"},model:{value:t.value,callback:function(l){e.$set(t,"value",l)},expression:"editableAttr.value"}},[l("template",{slot:"prepend"},[e._v(e._s(t.name))])],2)],1)}),e._v(" "),l("div",{staticStyle:{"margin-top":"50px"}},[l("el-button",{staticStyle:{"margin-left":"300px"},attrs:{type:"primary"},on:{click:e.submit}},[e._v("提交")])],1)],2)],1)},staticRenderFns:[]};var s=l("VU/8")(i,o,!1,function(e){l("HJqi")},"data-v-5ad18075",null);t.default=s.exports},Pu6j:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var n=l("VU/8")({name:"channelTemplateManage"},a,!1,function(e){l("s6yH")},"data-v-95a0e250",null);t.default=n.exports},QggA:function(e,t){},QlFH:function(e,t){},RH6s:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAIf2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMTgtMTItMjlUMTA6MTA6NDIrMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTgtMTItMjlUMTA6MTA6NTQrMDg6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDE4LTEyLTI5VDEwOjEwOjU0KzA4OjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoyY2VlOWQ5NS1jODAxLWRkNGMtYTBkMi03ZjIzYTY0NjNiOWMiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpkMDEyZTllMS1hMGY0LTcxNDYtODYyYy02NmMxZGE2MTYyZjciIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDozNmIyMDhkNS03MjgxLTU4NDgtOWQ0NC1mYjRjMjZhOGNmMGYiIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjM2YjIwOGQ1LTcyODEtNTg0OC05ZDQ0LWZiNGMyNmE4Y2YwZiIgc3RFdnQ6d2hlbj0iMjAxOC0xMi0yOVQxMDoxMDo0MiswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6NTU5MzgyOTktYThjYi1iOTQ0LTllMmUtZGFiMTM2YWZhMjU0IiBzdEV2dDp3aGVuPSIyMDE4LTEyLTI5VDEwOjEwOjU0KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjb252ZXJ0ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmciLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImRlcml2ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImNvbnZlcnRlZCBmcm9tIGFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5waG90b3Nob3AgdG8gaW1hZ2UvcG5nIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDoyY2VlOWQ5NS1jODAxLWRkNGMtYTBkMi03ZjIzYTY0NjNiOWMiIHN0RXZ0OndoZW49IjIwMTgtMTItMjlUMTA6MTA6NTQrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjU1OTM4Mjk5LWE4Y2ItYjk0NC05ZTJlLWRhYjEzNmFmYTI1NCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozNmIyMDhkNS03MjgxLTU4NDgtOWQ0NC1mYjRjMjZhOGNmMGYiIHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDozNmIyMDhkNS03MjgxLTU4NDgtOWQ0NC1mYjRjMjZhOGNmMGYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz431U1NAAABeElEQVQ4jaWUvUodURSFvxuDUVEQ1EIiQkAEK5WYMoW+gGAjhDyAWARCGvMaksYXULAWOy3sDAhiulh4ERUMpBCJooJfitnjnXu98xOy4LCGfdZanLPZZ2oqFTAQ/LtMWKsYeBD8tkz4skoajROW4kVV4f8EzgH9Fbz9wGxZ4GdgJ7gMX4Bd4FNTVU3XhPqgXqqjmTpqPVa2Nqr+Cs94Ws8KNkww32LMC0RdCM96a2CPeqsetTEVBaL+UG/UbvWphzNAF7BVoXet2Aa6gWlozOFwcL3AlIeT4JFs4G1wZ45puSDwVfANNMbmNHiqwJiHyWxG+pZrwAXQAbwB/lQM6yVp0x3JlU1PKLAGDAFf/+F0KyTvfC0ymuawVz1TH9UPOSOSXR9jBk/D+2ywUd+pVyFcVQfbBA2q30Jzpc5k99v9D6eBTWAMuAf2gOPYGwfek0zDT2AROGxy51ynU11Wv0cLUjyq++pSaJ55q/yx+4DX8X0OXBeJ/wJjhre8ye9X2AAAAABJRU5ErkJggg=="},T2qo:function(e,t){},UI6s:function(e,t){},UOlw:function(e,t,l){"use strict";(function(e){var a=l("P9l9"),n=l("LKA7"),r=l("J/7U");t.a={components:{headerbar:n.default,sidebar:r.default},computed:{routes:function(){return e.antRouter},shortCutsRoutes:function(){return e.shortCutsRouter}},data:function(){return{sysName:"告警与操作日志",active:"",collapsed:!1,sysUserName:"",sysUserAvatar:"",menurouter:!1,form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""}}},methods:{setActive:function(e){this.active=e},onSubmit:function(){console.log("submit!")},getLoginUserName:function(){var e=this;Object(a.D)().then(function(t){return e.sysUserName=t.userName,t.userName})},storeToken:function(){this.$route.query.token&&sessionStorage.setItem("token",this.$route.query.token)}},mounted:function(){this.active=this.$route.path,this.storeToken(),this.getLoginUserName()}}}).call(t,l("DuR2"))},V0kJ:function(e,t){},V5AO:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l("BO1k"),n=l.n(a),r=l("mvHQ"),i=l.n(r),o=l("P9l9"),s={name:"ModifyBundle",data:function(){return{activeTabName:"ModifyBundle",bundleId:this.$route.query.bundleId,bundleName:this.$route.query.bundleName,deviceIp:this.$route.query.deviceIp,devicePort:this.$route.query.devicePort,multicastEncode:this.$route.query.multicastEncode,multicastEncodeAddr:this.$route.query.multicastEncodeAddr,multicastDecode:this.$route.query.multicastDecode,extraInfos:[]}},methods:{handleTabClick:function(e,t){"ModifyBundle"!==e.name&&this.$router.push("/"+e.name)},queryBundleExtraInfo:function(){var e=this,t={bundleId:this.bundleId};Object(o.W)(t).then(function(t){t.errMsg?e.$message({message:t.errMsg,type:"error"}):e.extraInfos=t.extraInfos})},addExtraInfo:function(){this.extraInfos.push({})},remove:function(e){var t=this.extraInfos.indexOf(e);-1!==t&&this.extraInfos.splice(t,1)},submit:function(){var e=this;if(this.validateExtraInfo()){var t={bundleId:this.bundleId,bundleName:this.bundleName,deviceIp:this.deviceIp,devicePort:this.devicePort,multicastEncode:this.multicastEncode,multicastEncodeAddr:this.multicastEncodeAddr,multicastDecode:this.multicastDecode,extraInfos:i()(this.extraInfos)};Object(o.S)(t).then(function(t){t.errMsg?e.$message({message:t.errMsg,type:"error"}):e.$message({message:"修改成功",type:"success"})})}},validateExtraInfo:function(){var e=!0,t=!1,l=void 0;try{for(var a,r=n()(this.extraInfos);!(e=(a=r.next()).done);e=!0){var i=a.value;if(!i.name||!i.value)return this.$message({message:"扩展字段不能为空",type:"error"}),!1}}catch(e){t=!0,l=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw l}}return!0}},mounted:function(){this.queryBundleExtraInfo()}},d={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("section",[l("el-tabs",{staticStyle:{float:"left",width:"100%"},on:{"tab-click":e.handleTabClick},model:{value:e.activeTabName,callback:function(t){e.activeTabName=t},expression:"activeTabName"}},[l("el-tab-pane",{attrs:{label:"资源列表",name:"BundleManage"}}),e._v(" "),l("el-tab-pane",{attrs:{label:"修改资源",name:"ModifyBundle"}})],1),e._v(" "),l("el-form",{attrs:{"label-width":"100px"}},[l("el-form-item",{attrs:{size:"small",label:"设备名称",prop:"bundleName"}},[l("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"输入新的设备名称"},model:{value:e.bundleName,callback:function(t){e.bundleName=t},expression:"bundleName"}})],1),e._v(" "),l("el-form-item",{attrs:{size:"small",label:"设备IP",prop:"deviceIp"}},[l("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"输入新的设备IP"},model:{value:e.deviceIp,callback:function(t){e.deviceIp=t},expression:"deviceIp"}})],1),e._v(" "),l("el-form-item",{attrs:{size:"small",label:"设备端口",prop:"devicePort"}},[l("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"输入新的设备端口"},model:{value:e.devicePort,callback:function(t){e.devicePort=t},expression:"devicePort"}})],1),e._v(" "),l("el-form-item",{attrs:{size:"small",label:"编码组播"}},[l("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.multicastEncode,callback:function(t){e.multicastEncode=t},expression:"multicastEncode"}})],1),e._v(" "),l("el-form-item",{attrs:{size:"small",label:"编码组播地址"}},[e.multicastEncode?l("el-input",{staticStyle:{width:"200px"},model:{value:e.multicastEncodeAddr,callback:function(t){e.multicastEncodeAddr=t},expression:"multicastEncodeAddr"}}):l("el-input",{staticStyle:{width:"200px"},attrs:{disabled:""},model:{value:e.multicastEncodeAddr,callback:function(t){e.multicastEncodeAddr=t},expression:"multicastEncodeAddr"}})],1),e._v(" "),l("el-form-item",{attrs:{size:"small",label:"解码组播"}},[l("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.multicastDecode,callback:function(t){e.multicastDecode=t},expression:"multicastDecode"}})],1),e._v(" "),l("el-button",{staticStyle:{"margin-top":"20px","margin-left":"30px"},attrs:{type:"info",size:"small"},on:{click:e.addExtraInfo}},[e._v("新增扩展字段")]),e._v(" "),e._l(e.extraInfos,function(t,a){return l("div",{staticStyle:{"margin-top":"10px"}},[l("el-input",{staticStyle:{width:"180px"},attrs:{size:"small",placeholder:"扩展字段名"},model:{value:t.name,callback:function(l){e.$set(t,"name",l)},expression:"extraInfo.name"}}),e._v(" "),l("el-input",{staticStyle:{width:"180px","margin-left":"10px"},attrs:{size:"small",placeholder:"扩展字段值"},model:{value:t.value,callback:function(l){e.$set(t,"value",l)},expression:"extraInfo.value"}}),e._v(" "),l("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"danger"},on:{click:function(l){return l.preventDefault(),e.remove(t)}}},[e._v("删除")])],1)}),e._v(" "),l("div",{staticStyle:{"margin-top":"30px","margin-left":"30px"}},[l("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.submit}},[e._v("提交")])],1)],2)],1)},staticRenderFns:[]};var c=l("VU/8")(s,d,!1,function(e){l("BWhq")},"data-v-1f76b9de",null);t.default=c.exports},VZrM:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={render:function(){var e=this.$createElement;return(this._self._c||e)("section",[this._v("\n\tmain\n")])},staticRenderFns:[]};var n=l("VU/8")({},a,!1,function(e){l("MMPW")},"data-v-8cd4d830",null);t.default=n.exports},X6aP:function(e,t){},XPeh:function(e,t){},XvCJ:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});l("0nep");var a={name:"sidebarItem",props:{item:{type:Object,required:!0},menurouter:{type:Boolean,required:!0}},methods:{menuClick:function(e){window.location.href=e.link}}},n={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return e.menurouter?l("div",[e.item.children?l("div",{staticClass:"aaa"},[0==e.item.children.length?[l("el-menu-item",{attrs:{index:e.item.path}},[l("i",{class:e.item.meta.icon}),e._v(" "),l("span",{staticStyle:{"padding-left":"4px"},attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.item.name))])])]:l("el-submenu",{attrs:{index:e.item.path}},[l("template",{slot:"title"},[l("i",{class:e.item.meta.icon}),e._v(" "),l("span",{staticStyle:{"padding-left":"4px"},attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.item.name))])]),e._v(" "),e._l(e.item.children,function(t){return t.hidden?e._e():[t.children&&t.children.length>0?l("sidebar-item",{attrs:{item:t,menurouter:e.menurouter}}):l("el-menu-item",{attrs:{index:t.path}},[l("i",{class:t.meta.icon}),e._v(" "),l("span",{staticStyle:{"padding-left":"4px"},attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])])]})],2)],2):l("el-menu-item",{attrs:{index:e.item.path}},[l("i",{class:e.item.meta.icon}),e._v(" "),l("span",{staticStyle:{"padding-left":"4px"},attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.item.name))])])],1):l("div",[e.item.sub?l("div",{staticClass:"bbb"},[0==e.item.sub.length?[l("el-menu-item",{attrs:{index:e.item.path},on:{click:function(t){return e.menuClick(e.item)}}},[l("i",{class:e.item.icon,style:e.item.style}),e._v(" "),l("span",{staticStyle:{"padding-left":"4px"},attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.item.title))])])]:l("el-submenu",{attrs:{index:e.item.path}},[l("template",{slot:"title"},[l("i",{class:e.item.icon,style:e.item.style}),e._v(" "),l("span",{staticStyle:{"padding-left":"4px"},attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.item.title))])]),e._v(" "),e._l(e.item.sub,function(t){return[t.sub&&t.sub.length>0?l("sidebar-item",{attrs:{item:t,menurouter:e.menurouter}}):l("el-menu-item",{attrs:{index:t.path},on:{click:function(l){return e.menuClick(t)}}},[l("i",{class:t.icon,style:e.item.style}),e._v(" "),l("span",{staticStyle:{"padding-left":"4px"},attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.title))])])]})],2)],2):l("el-menu-item",{attrs:{index:e.item.path},on:{click:function(t){return e.menuClick(e.item)}}},[l("i",{class:e.item.icon,style:e.item.style}),e._v(" "),l("span",{staticStyle:{"padding-left":"4px"},attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.item.title))])])],1)},staticRenderFns:[]},r=l("VU/8")(a,n,!1,null,null,null);t.default=r.exports},YaEn:function(e,t,l){"use strict";var a=l("7+uW"),n=l("/ocq");a.default.use(n.a);t.a=new n.a({routes:[]})},btfY:function(e,t){},cC03:function(e,t){},cYRx:function(e,t){},dLi2:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l("mvHQ"),n=l.n(a),r=l("BO1k"),i=l.n(r),o=l("P9l9"),s=l("/Qkj"),d=document.location.origin,c={components:{selectLayerNode:s.default},data:function(){return{activeTabName:"BundleManage",resources:[],deviceModelOptions:[],filters:{deviceModel:"",keyword:"",userId:"",sourceType:"",countPerPage:""},users:[],resourceTableLoading:!1,detailDialogVisible:!1,abilityDetailDialogVisible:!1,setAccessLayerVisible:!1,confirmSyncToLdapVisible:!1,detailInfos:[],channelSchemes:[],total:0,pageNum:1,countPerPage:20,currentRow:{},bundleId:"",newAccessNodeUid:"",uploadUrl:d+"/bundle/import",myHeaders:{"tetris-001":sessionStorage.getItem("token")},sourceTypeOptions:[{value:"",label:"全部来源"},{value:"SYSTEM",label:"BVC"},{value:"EXTERNAL",label:"LDAP"}],multipleSelection:[]}},methods:{pageChange:function(){this.getResources(this.pageNum)},handleSelectLayerNode:function(){this.$refs.selectLayerNode.show()},layerNodeSelected:function(e,t){this.newAccessNodeUid=e.nodeUid,t()},handleTabClick:function(e,t){"BundleManage"!==e.name&&this.$router.push("/"+e.name)},getAllUsers:function(){var e=this;Object(o.w)().then(function(t){t.errMsg?e.$message({message:t.errMsg,type:"error"}):(e.users=[],e.users.push({id:-1,name:"全部用户"}),e.users=e.users.concat(t.users))})},getDeviceModels:function(){var e=this;Object(o.C)().then(function(t){if(!t.errMsg&&t.deviceModels){e.deviceModelOptions.push({value:"",label:"全部类型"});var l=!0,a=!1,n=void 0;try{for(var r,o=i()(t.deviceModels);!(l=(r=o.next()).done);l=!0){var s=r.value,d={value:s,label:s};e.deviceModelOptions.push(d)}}catch(e){a=!0,n=e}finally{try{!l&&o.return&&o.return()}finally{if(a)throw n}}}})},getResources:function(e){var t=this;this.countPerPage=20,/^[1-9]+[0-9]*]*$/.test(this.filters.countPerPage)&&(this.countPerPage=parseInt(this.filters.countPerPage)),this.countPerPage*(e-1)>this.total&&(e=Math.ceil(this.total/this.countPerPage));var l={deviceModel:this.filters.deviceModel,keyword:this.filters.keyword,sourceType:this.filters.sourceType,userId:this.filters.userId,pageNum:e,countPerPage:this.countPerPage};this.resourceTableLoading=!0,Object(o.A)(l).then(function(l){l.errMsg?t.$message({message:l.errMsg,type:"error"}):(t.pageNum=e,t.total=l.total,t.resources=l.resources),t.resourceTableLoading=!1})},handleCurrentPageChange:function(e){this.pageNum=e,this.getResources(this.pageNum)},handleDetail:function(e){var t=this;this.resourceTableLoading=!0;var l={bundleId:e.bundleId};Object(o.z)(l).then(function(l){l.errMsg?t.$message({message:l.errMsg,type:"error"}):(t.detailDialogVisible=!0,t.detailInfos=l.extraInfos,t.detailInfos.push({name:"bundle_id",value:e.bundleId})),t.resourceTableLoading=!1})},handleModify:function(e){console.log(n()(e)),this.$router.push({path:"/ModifyBundle",query:{bundleId:e.bundleId,bundleName:e.bundleName,deviceIp:e.deviceAddr.deviceIp,devicePort:e.deviceAddr.devicePort,multicastEncode:e.multicastEncode,multicastEncodeAddr:e.multicastEncodeAddr,multicastDecode:e.multicastDecode}})},handleLogout:function(e){var t=this;this.resourceTableLoading=!0;var l={bundleId:e.bundleId};Object(o.R)(l).then(function(l){l.errMsg?t.$message({message:l.errMsg,type:"error"}):(e.onlineStatus="OFFLINE",t.$message({message:"踢出账号成功",type:"success"})),t.resourceTableLoading=!1})},handleClear:function(e){var t=this;this.$confirm("重置资源将会清空资源上的能力占用，是否确认?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.resourceTableLoading=!0;var l={bundleId:e.bundleId};Object(o.k)(l).then(function(e){e.errMsg?t.$message({message:e.errMsg,type:"error"}):t.$message({message:"重置成功",type:"success"}),t.resourceTableLoading=!1})}).catch(function(){t.$message({type:"info",message:"已取消重置"})})},handleDelete:function(e){var t=this;this.$confirm("是否确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.resourceTableLoading=!0;var l={bundleIds:e.bundleId};Object(o.o)(l).then(function(e){t.resourceTableLoading=!1,e.errMsg?t.$message({message:e.errMsg,type:"error"}):(t.$message({message:"删除成功",type:"success"}),t.getResources(1))})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},abilityConfig:function(e){this.$router.push({path:"/ConfigBundle",query:{bundleId:e.bundleId}})},abilityDetail:function(e){var t=this,l={bundleId:e.bundleId};this.resourceTableLoading=!0,Object(o.y)(l).then(function(e){e.errMsg?t.$message({message:e.errMsg,type:"error"}):(t.abilityDetailDialogVisible=!0,t.channelSchemes=e.channelSchemes),t.resourceTableLoading=!1})},handleSetLayerId:function(e){this.currentRow=e,this.bundleId=e.bundleId,this.newAccessNodeUid=e.accessNodeUid,this.setAccessLayerVisible=!0},submitSetAccessLayer:function(){var e=this,t={bundleId:this.bundleId,accessLayerId:this.newAccessNodeUid};Object(o._13)(t).then(function(t){t.errMsg?e.$message({message:t.errMsg,type:"error"}):(e.currentRow.accessNodeUid=e.newAccessNodeUid,e.$message({message:"设置接入成功",type:"success"})),e.setAccessLayerVisible=!1})},showMultiSetAccessLayerDialog:function(){if(this.multipleSelection.length){var e=[],t=!0,l=!1,a=void 0;try{for(var n,r=i()(this.multipleSelection);!(t=(n=r.next()).done);t=!0){var o=n.value;e.push(o.bundleId)}}catch(e){l=!0,a=e}finally{try{!t&&r.return&&r.return()}finally{if(l)throw a}}this.bundleId=e.join(","),console.log("bundleIds=="+this.bundleId),this.newAccessNodeUid="",this.setAccessLayerVisible=!0}else this.$message({message:"请至少选择一行",type:"warning"})},exportBundle:function(){var e=this;Object(o.s)(null).then(function(e){var t=new Blob([e.data],{type:"application/octet-stream;charset=utf-8"}),l=document.createElement("a");l.download="folder.csv",l.style.display="none",l.href=URL.createObjectURL(t),document.body.appendChild(l),l.click(),URL.revokeObjectURL(l.href),document.body.removeChild(l)}).catch(function(t){e.$message({message:t,type:"error"})})},uploadSuccess:function(e){e.errMsg?this.$message({message:e.errMsg,type:"error"}):(e.successCnt?this.$message({message:"成功导入的设备数量："+e.successCnt,type:"success"}):this.$message({message:"导入失败",type:"error"}),this.getResources(1))},uploadError:function(e){this.$message({message:"上传文件错误: "+n()(e),type:"error"})},onprogress:function(){this.resourceTableLoading=!0},handleMultiDelete:function(){var e=this;this.multipleSelection.length?this.$confirm("是否确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.resourceTableLoading=!0;var t=[],l=!0,a=!1,n=void 0;try{for(var r,s=i()(e.multipleSelection);!(l=(r=s.next()).done);l=!0){var d=r.value;t.push(d.bundleId)}}catch(e){a=!0,n=e}finally{try{!l&&s.return&&s.return()}finally{if(a)throw n}}var c={bundleIds:t.join(",")};Object(o.o)(c).then(function(t){e.resourceTableLoading=!1,t.errMsg?e.$message({message:t.errMsg,type:"error"}):(e.$message({message:"删除成功",type:"success"}),e.getResources(1))})}).catch(function(){e.$message({type:"info",message:"已取消删除"})}):this.$message({message:"请至少选择一行",type:"warning"})},syncUser:function(){var e=this;this.$confirm("是否确认同步用户资源?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.resourceTableLoading=!0,Object(o._29)(null).then(function(t){e.resourceTableLoading=!1,t.errMsg?e.$message({message:t.errMsg,type:"error"}):(e.$message({message:"同步成功",type:"success"}),e.getResources(1))})}).catch(function(){e.$message({type:"info",message:"已取消同步"})})},handleSelectionChange:function(e){this.multipleSelection=e},handleSyncFromLdap:function(){var e=this;this.$confirm("确认将从LDAP服务器同步下载信息么？","提示",{}).then(function(){e.resourceTableLoading=!0;Object(o._22)({}).then(function(t){null!==t.errMsg&&""!==t.errMsg?e.$message({message:t.errMsg,type:"error",duration:3e3}):(e.$message({message:"同步成功, 共下载"+t.successCnt+"条信息",type:"success"}),e.getResources(1))}),e.resourceTableLoading=!1})},showHandleSyncToLdapDialog:function(){this.confirmSyncToLdapVisible=!0},handleSyncToLdap:function(e){var t=this;this.resourceTableLoading=!0;var l={syncAll:e};Object(o._21)(l).then(function(e){null!==e.errMsg&&""!==e.errMsg?t.$message({message:e.errMsg,type:"error",duration:3e3}):(t.$message({message:"同步成功, 共上传"+e.successCnt+"条信息",type:"success"}),t.getResources(1)),t.confirmSyncToLdapVisible=!1}),this.resourceTableLoading=!1},handleCleanUpLdap:function(){var e=this;this.$confirm("确认清空所有上传到LDAP和从LDAP下载的信息么？","提示",{}).then(function(){e.resourceTableLoading=!0;Object(o.g)({}).then(function(t){null!==t.errMsg&&""!==t.errMsg?e.$message({message:t.errMsg,type:"error",duration:3e3}):(e.$message({message:"重置成功",type:"success"}),e.getResources(1))}),e.resourceTableLoading=!1})}},mounted:function(){var e=this;if(this.$nextTick(function(){e.$parent.$parent.$parent.$parent.$parent.setActive("/BundleManage")}),this.getDeviceModels(),this.getAllUsers(),this.getResources(1),-1!==this.uploadUrl.indexOf("__requestIP__")){var t=document.location.host.split(":")[0];this.uploadUrl=this.uploadUrl.replace("__requestIP__",t)}}},u={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("section",[l("el-tabs",{staticStyle:{float:"left",width:"100%"},on:{"tab-click":e.handleTabClick},model:{value:e.activeTabName,callback:function(t){e.activeTabName=t},expression:"activeTabName"}},[l("el-tab-pane",{attrs:{label:"资源列表",name:"BundleManage"}}),e._v(" "),l("el-tab-pane",{attrs:{label:"添加资源",name:"AddBundle"}})],1),e._v(" "),l("div",{staticStyle:{float:"left",width:"100%"}},[l("el-select",{staticStyle:{float:"left","margin-left":"5px",width:"180px"},attrs:{size:"small",placeholder:"选择类型"},model:{value:e.filters.deviceModel,callback:function(t){e.$set(e.filters,"deviceModel",t)},expression:"filters.deviceModel"}},e._l(e.deviceModelOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),l("el-select",{staticStyle:{float:"left","margin-left":"10px",width:"180px"},attrs:{size:"small",placeholder:"选择来源"},model:{value:e.filters.sourceType,callback:function(t){e.$set(e.filters,"sourceType",t)},expression:"filters.sourceType"}},e._l(e.sourceTypeOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),l("el-select",{staticStyle:{float:"left","margin-left":"10px",width:"200px"},attrs:{size:"small",filterable:"",placeholder:"选择用户"},model:{value:e.filters.userId,callback:function(t){e.$set(e.filters,"userId",t)},expression:"filters.userId"}},e._l(e.users,function(e){return l("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1),e._v(" "),l("el-input",{staticStyle:{float:"left","margin-left":"15px",width:"200px"},attrs:{size:"small",placeholder:"关键字"},model:{value:e.filters.keyword,callback:function(t){e.$set(e.filters,"keyword",t)},expression:"filters.keyword"}}),e._v(" "),l("el-button",{staticStyle:{float:"left","margin-left":"10px"},attrs:{size:"small"},on:{click:function(t){return e.getResources(1)}}},[e._v("查询")]),e._v(" "),l("el-dropdown",{staticStyle:{float:"left","margin-left":"20px"}},[l("el-button",{attrs:{type:"primary",size:"small"}},[e._v("\n        LDAP操作"),l("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),l("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[l("el-dropdown-item",{nativeOn:{click:function(t){return e.showHandleSyncToLdapDialog()}}},[e._v("上传到LDAP")]),e._v(" "),l("el-dropdown-item",{nativeOn:{click:function(t){return e.handleSyncFromLdap()}}},[e._v("从LDAP下载")]),e._v(" "),l("el-dropdown-item",{nativeOn:{click:function(t){return e.handleCleanUpLdap()}}},[e._v("重置LDAP数据")])],1)],1),e._v(" "),l("el-upload",{staticClass:"upload-demo",staticStyle:{float:"left","margin-left":"10px"},attrs:{action:e.uploadUrl,name:"filePoster",headers:e.myHeaders,"show-file-list":!1,"on-success":e.uploadSuccess,"on-error":e.uploadError,"on-progress":e.onprogress}},[l("el-button",{attrs:{type:"primary",size:"small"}},[e._v("导入")])],1),e._v(" "),l("el-button",{staticStyle:{float:"left","margin-left":"10px"},attrs:{type:"primary",size:"small"},on:{click:e.exportBundle}},[e._v("导出\n    ")]),e._v(" "),l("el-button",{staticStyle:{float:"left","margin-left":"10px"},attrs:{type:"primary",size:"small"},on:{click:e.showMultiSetAccessLayerDialog}},[e._v("批量设置接入\n    ")]),e._v(" "),l("el-button",{staticStyle:{float:"left","margin-left":"10px"},attrs:{type:"danger",size:"small"},on:{click:e.handleMultiDelete}},[e._v("\n      批量删除\n    ")]),e._v(" "),l("el-button",{staticStyle:{float:"left","margin-left":"10px"},attrs:{type:"danger",size:"small"},on:{click:e.syncUser}},[e._v("\n      同步用户\n    ")])],1),e._v(" "),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.resourceTableLoading,expression:"resourceTableLoading"}],staticStyle:{float:"left",width:"100%","margin-top":"20px"},attrs:{data:e.resources},on:{"selection-change":e.handleSelectionChange}},[l("el-table-column",{attrs:{width:"50",type:"selection"}}),e._v(" "),l("el-table-column",{attrs:{prop:"bundleName",label:"名称",width:"200",sortable:""}}),e._v(" "),l("el-table-column",{attrs:{prop:"deviceModel",label:"类型",width:"120",sortable:""}}),e._v(" "),l("el-table-column",{attrs:{prop:"bundleAlias",label:"别名",width:"130",sortable:""}}),e._v(" "),l("el-table-column",{attrs:{prop:"username",label:"设备账号",width:"200"}}),e._v(" "),l("el-table-column",{attrs:{prop:"accessNodeUid",label:"所属接入层",width:"220",sortable:""}}),e._v(" "),l("el-table-column",{attrs:{width:"100",label:"在线状态"},scopedSlots:e._u([{key:"default",fn:function(e){return["ONLINE"==e.row.onlineStatus?l("div",{staticStyle:{height:"20px",width:"20px","border-radius":"50%","background-color":"#0f0"}}):l("div",{staticStyle:{height:"20px",width:"20px","border-radius":"50%","background-color":"#f00"}})]}}])}),e._v(" "),l("el-table-column",{attrs:{width:"100",label:"锁定状态"},scopedSlots:e._u([{key:"default",fn:function(t){return["IDLE"==t.row.lockStatus?l("div",[e._v("空闲")]):"BUSY"==t.row.lockStatus?l("div",[e._v("锁定")]):e._e()]}}])}),e._v(" "),l("el-table-column",{attrs:{width:"100",label:"来源"},scopedSlots:e._u([{key:"default",fn:function(t){return["EXTERNAL"==t.row.sourceType?l("div",[e._v("LDAP")]):l("div",[e._v("BVC")])]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"操作",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){return e.handleDetail(t.row)}}},[e._v("详情")]),e._v(" "),"EXTERNAL"!=t.row.sourceType?l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){return e.handleModify(t.row)}}},[e._v("修改")]):e._e(),e._v(" "),"EXTERNAL"!=t.row.sourceType?l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){return e.handleSetLayerId(t.row)}}},[e._v("设置接入")]):e._e(),e._v(" "),"EXTERNAL"!=t.row.sourceType?l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){return e.handleClear(t.row)}}},[e._v("重置")]):e._e(),e._v(" "),"EXTERNAL"!=t.row.sourceType?l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){return e.handleDelete(t.row)}}},[e._v("删除")]):e._e()]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"能力",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return["EXTERNAL"!=t.row.sourceType?l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){return e.abilityConfig(t.row)}}},[e._v("配置")]):e._e(),e._v(" "),"EXTERNAL"!=t.row.sourceType?l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){return e.abilityDetail(t.row)}}},[e._v("通道信息")]):e._e()]}}])})],1),e._v(" "),l("el-col",{staticClass:"toolbar",attrs:{span:24}},[l("el-input",{staticStyle:{float:"right","margin-right":"30px",width:"200px"},attrs:{size:"small",placeholder:"单页显示数量,默认20"},on:{change:e.pageChange},model:{value:e.filters.countPerPage,callback:function(t){e.$set(e.filters,"countPerPage",t)},expression:"filters.countPerPage"}}),e._v(" "),l("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","current-page":e.pageNum,"page-size":e.countPerPage,total:e.total},on:{"current-change":e.handleCurrentPageChange}})],1),e._v(" "),l("el-dialog",{attrs:{title:"详情",visible:e.detailDialogVisible,width:"30%"},on:{"update:visible":function(t){e.detailDialogVisible=t}}},[l("ul",e._l(e.detailInfos,function(t){return l("li",[e._v("\n        "+e._s(t.name)+" : "+e._s(t.value)+"\n      ")])}),0)]),e._v(" "),l("el-dialog",{attrs:{title:"能力详情",visible:e.abilityDetailDialogVisible,width:"40%"},on:{"update:visible":function(t){e.abilityDetailDialogVisible=t}}},[l("el-table",{attrs:{data:e.channelSchemes}},[l("el-table-column",{attrs:{property:"channelId",label:"通道ID",width:"250"}}),e._v(" "),l("el-table-column",{attrs:{property:"channelName",label:"通道类型",width:"250"}}),e._v(" "),l("el-table-column",{attrs:{width:"150",label:"通道状态"},scopedSlots:e._u([{key:"default",fn:function(t){return["IDLE"==t.row.channelStatus?l("div",[e._v("空闲")]):"BUSY"==t.row.channelStatus?l("div",[e._v("锁定")]):"OFFLINE"==t.row.channelStatus?l("div",[e._v("掉线")]):l("div",[e._v("未知")])]}}])})],1)],1),e._v(" "),l("el-dialog",{attrs:{title:"设置接入",visible:e.setAccessLayerVisible,width:"30%"},on:{"update:visible":function(t){e.setAccessLayerVisible=t}}},[l("div",{staticStyle:{"margin-top":"10px"}},[l("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"输入接入层ID",readOnly:""},nativeOn:{click:function(t){return e.handleSelectLayerNode(t)}},model:{value:e.newAccessNodeUid,callback:function(t){e.newAccessNodeUid=t},expression:"newAccessNodeUid"}},[l("template",{slot:"prepend"},[e._v("接入层ID")])],2)],1),e._v(" "),l("div",{staticStyle:{"margin-top":"30px"}},[l("el-button",{staticStyle:{"margin-left":"150px"},attrs:{type:"primary"},on:{click:function(t){return e.submitSetAccessLayer()}}},[e._v("提交")])],1)]),e._v(" "),l("el-dialog",{staticStyle:{"margin-top":"260px"},attrs:{title:"提示",visible:e.confirmSyncToLdapVisible,width:"500px"},on:{"update:visible":function(t){e.confirmSyncToLdapVisible=t}}},[l("div",[e._v("\n      确认上传信息到LDAP服务器上么？\n    ")]),e._v(" "),l("div",{staticStyle:{"margin-top":"40px"}},[l("el-button",{staticStyle:{"margin-left":"130px"},attrs:{size:"small"},on:{click:function(t){e.confirmSyncToLdapVisible=!1}}},[e._v("取 消\n      ")]),e._v(" "),l("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"small"},on:{click:function(t){return e.handleSyncToLdap("false")}}},[e._v("\n        只上传未同步信息\n      ")]),e._v(" "),l("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"small"},on:{click:function(t){return e.handleSyncToLdap("true")}}},[e._v("\n        上传全部信息\n      ")])],1)]),e._v(" "),[l("selectLayerNode",{ref:"selectLayerNode",on:{"layer-node-selected":e.layerNodeSelected}})]],2)},staticRenderFns:[]};var h=l("VU/8")(c,u,!1,function(e){l("QlFH")},null,null);t.default=h.exports},eqvY:function(e,t,l){"use strict";var a=l("+H76"),n=l("j7e0"),r=l("VZrM"),i=l("4vq3"),o=l("BXv7"),s=l("qoXU"),d=l("Pu6j"),c=l("dLi2"),u=l("ifcc"),h=l("V5AO"),p=l("PPfX"),m=l("IZ07"),f=l("EUih"),v=l("snKp"),b=l("kCLY"),g=l("HV9H"),y=l("r1Id"),k=l("bOdI"),w=l.n(k),C=l("P9l9"),S={data:function(){var e;return e={filterText:"",recordMode:"",date:"",currentPage:1,tasks:[],filterDatas:[],pageSize:5,total:0,stopId:"",Mode:"手动",activeName:"0",inputName:"",inputDevice:""},w()(e,"date",""),w()(e,"startMonth",""),w()(e,"endMonth",""),w()(e,"inputBit",""),w()(e,"dialogFormVisible",!1),w()(e,"treeLoading",!1),w()(e,"tree",[]),w()(e,"defaultProps",{children:"children",label:"name"}),w()(e,"defaultExpandKeys",[]),w()(e,"currentSelectNode",null),w()(e,"expandNodeKeysArr",[]),e},computed:{pageData:function(){return this.filterDatas.slice((this.currentPage-1)*this.pageSize,this.currentPage*this.pageSize)}},methods:{handleCurrentChange:function(e){this.currentPage=e},handleDeviceDia:function(){this.initTree(),this.dialogFormVisible=!0},search:function(){var e=this.recordMode,t=this.filterText,l=this.date;this.currentPage;this.filterData(this.tasks,e,t,l)},filterData:function(e,t,l,a){var n,r=this,i=this.format(a[0]),o=this.format(a[1]);(t||l||a)&&(t&&(n=e.filter(function(e){return e.type.indexOf(t)>-1})),l&&(n=e.filter(function(e){return e.fileName.indexOf(l)>-1})),a&&(n=e.filter(function(e){return r.nowInDateBetwen(i,o,e.date)})),r.filterDatas=n)},nowInDateBetwen:function(e,t,l){if(e&&t&&l){var a=new Date(e.replace(/-/g,"/")),n=new Date(t.replace(/-/g,"/")),r=new Date(l.replace(/-/g,"/")),i=r.getTime()-a.getTime(),o=Math.floor(i/864e5),s=n.getTime()-r.getTime(),d=Math.floor(s/864e5);return!(d<0)&&!(o<0)}},submit:function(){var e,t;this.inputName?("定时"===this.Mode||"循环"===this.Mode?(e=this.format(this.startMonth),t=this.format(this.endMonth)):"排期"===this.Mode&&(e=this.format(this.date[0]),t=this.format(this.date[1])),this.filterDatas.push({type:this.Mode,fileName:this.inputName,startTime:e,endTime:t,mode:this.Mode,videoSource:"buzhiddao",audioSource:"kdsdfks",size:this.inputBit}),this.$message("创建录制任务成功,请到录制列表查看"),this.Mode="",this.inputName="",this.date="",this.startMonth="",this.endMonth="",this.inputBit=""):this.$message.warning("名称不能为空！")},delTask:function(e){this.filterDatas=this.filterDatas.filter(function(t){return t.id!=e.id})},stopTask:function(e){e.status="未开始"},startTask:function(e){e.status="录制中"},downLoadTask:function(e){alert("该任务下无导出数据！")},refreshRecord:function(){var e=this;e.tasks.splice(0,e.tasks.length),Object(C.G)().then(function(t){var l=t.rows,a=t.total;if(l&&l.length>0){for(var n=0;n<l.length;n++)e.tasks.push(l[n]),e.filterDatas.push(l[n]);e.total=a}})},format:function(e){if(e){e=(e=e.toString()).replace(/ GMT.+$/,"");for(var t=new Date(e),l=[t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()],a=0,n=l.length;a<n;a++)l[a]<10&&(l[a]="0"+l[a]);return e=l[0]+"-"+l[1]+"-"+l[2]+" "+l[3]+":"+l[4]+":"+l[5]}},initTree:function(e){var t=this;this.treeLoading=!0,Object(C.M)().then(function(e){e.errMsg?(t.$message({message:e.errMsg,type:"error"}),t.treeLoading=!1):(t.tree=e.tree,t.treeLoading=!1)})},handleNodeClick:function(e){console.log(e),e.children||(console.log(e.name),this.inputDevice=e.name,this.dialogFormVisible=!1)}},mounted:function(){this.refreshRecord()}},x={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"record"},[l("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[l("el-tab-pane",{attrs:{label:"录制列表",name:"0"}},[l("div",{staticClass:"search"},[l("el-input",{staticStyle:{width:"300px",border:"0"},attrs:{placeholder:"输入录制任务名"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),e._v(" "),l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.recordMode,callback:function(t){e.recordMode=t},expression:"recordMode"}},[l("el-option",{attrs:{value:"",label:""}}),e._v(" "),l("el-option",{attrs:{value:"手动",label:"手动录制"}},[e._v("手动录制")]),e._v(" "),l("el-option",{attrs:{value:"排期",label:"排期录制"}},[e._v("排期录制")]),e._v(" "),l("el-option",{attrs:{value:"定时",label:"定时录制"}},[e._v("定时录制")]),e._v(" "),l("el-option",{attrs:{value:"循环",label:"循环录制"}},[e._v("循环录制")])],1),e._v(" "),"手动"!=e.recordMode?l("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}}):e._e(),e._v(" "),l("el-button",{attrs:{type:"default"},on:{click:e.search}},[e._v("搜索")])],1),e._v(" "),[l("el-table",{attrs:{data:e.pageData}},[l("el-table-column",{attrs:{prop:"fileName",label:"录制任务名"}}),e._v(" "),l("el-table-column",{attrs:{prop:"type",label:"录制模式"}},[void 0],2),e._v(" "),l("el-table-column",{attrs:{prop:"videoSource",label:"录制设备"}}),e._v(" "),l("el-table-column",{attrs:{prop:"startTime",label:"开始时间"}}),e._v(" "),l("el-table-column",{attrs:{prop:"endTime",label:"结束时间"}}),e._v(" "),l("el-table-column",{attrs:{prop:"status",label:"状态"}}),e._v(" "),l("el-table-column",{attrs:{label:"操作",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{staticStyle:{padding:"0","font-size":"20px"},attrs:{type:"text",title:"导出"}},[l("span",{staticClass:"feather-icon-log-out",on:{click:function(l){return e.downLoadTask(t.row)}}})]),e._v(" "),"录制中"==t.row.status?l("el-button",{staticStyle:{padding:"0","font-size":"20px"},attrs:{type:"text",title:"停止"}},[l("span",{staticClass:"feather-icon-pause-circle",on:{click:function(l){return e.stopTask(t.row)}}})]):[l("el-button",{staticStyle:{padding:"0","font-size":"20px"},attrs:{type:"text",title:"开始录制"}},[l("span",{staticClass:"feather-icon-youtube",on:{click:function(l){return e.startTask(t.row)}}})]),e._v(" "),l("el-button",{staticStyle:{padding:"0","font-size":"20px"},attrs:{type:"text",title:"删除"}},[l("span",{staticClass:"icon-trash",on:{click:function(l){return e.delTask(t.row)}}})])]]}}])})],1)],e._v(" "),l("div",{staticStyle:{"text-align":"right","background-color":"#f2f2f2"}},[l("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-size":e.pageSize,"pager-count":5,layout:"total, prev, pager, next",total:e.filterDatas.length},on:{"current-change":e.handleCurrentChange}})],1)],2),e._v(" "),l("el-tab-pane",{attrs:{label:"添加录制任务",name:"1"}},[l("div",{staticStyle:{height:"50px"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.Mode,callback:function(t){e.Mode=t},expression:"Mode"}},[l("el-option",{attrs:{value:"手动",label:"手动录制"}},[e._v("手动录制")]),e._v(" "),l("el-option",{attrs:{value:"排期",label:"排期录制"}},[e._v("排期录制")]),e._v(" "),l("el-option",{attrs:{value:"定时",label:"排期录制"}},[e._v("定时录制")]),e._v(" "),l("el-option",{attrs:{value:"循环",label:"排期录制"}},[e._v("循环录制")])],1)],1),e._v(" "),l("el-input",{staticStyle:{margin:"10px 0"},attrs:{placeholder:"请选择录制设备"},nativeOn:{click:function(t){return e.handleDeviceDia(t)}},model:{value:e.inputDevice,callback:function(t){e.inputDevice=t},expression:"inputDevice"}}),e._v(" "),l("el-input",{staticStyle:{margin:"10px 0"},attrs:{placeholder:"请输入录制任务名"},model:{value:e.inputName,callback:function(t){e.inputName=t},expression:"inputName"}}),e._v(" "),"循环"===e.Mode?l("el-input",{staticStyle:{margin:"10px 0"},attrs:{placeholder:"请输入磁盘大小"},model:{value:e.inputBit,callback:function(t){e.inputBit=t},expression:"inputBit"}}):e._e(),e._v(" "),"排期"===e.Mode?l("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}}):e._e(),e._v(" "),"定时"==e.Mode||"循环"===e.Mode?l("div",[l("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间","default-time":"12:00:00"},model:{value:e.startMonth,callback:function(t){e.startMonth=t},expression:"startMonth"}}),e._v(" "),l("span",[e._v("至")]),e._v(" "),l("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间","default-time":"12:00:00"},model:{value:e.endMonth,callback:function(t){e.endMonth=t},expression:"endMonth"}})],1):e._e(),e._v(" "),l("div",{staticStyle:{margin:"10px 0",height:"50px",width:"95%","box-sizing":"border-box"}},[l("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.submit}},[e._v("确定提交")])],1)],1)],1),e._v(" "),l("el-dialog",{attrs:{title:"录像设备",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[l("div",{directives:[{name:"loading",rawName:"v-loading",value:e.treeLoading,expression:"treeLoading"}],staticClass:"custom-tree-container"},[l("div",[l("el-tree",{ref:"tree",attrs:{data:e.tree,"default-expand-all":"","node-key":"id","highlight-current":"","expand-on-click-node":!1,props:e.defaultProps},on:{"node-click":e.handleNodeClick}})],1)]),e._v(" "),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"})])],1)},staticRenderFns:[]};var A=l("VU/8")(S,x,!1,function(e){l("LQK2")},"data-v-190eb80a",null).exports,I={data:function(){return{tableData:[{id:1,date:"2020-05-02",name:"联试联调",address:"上海市普陀区金沙江路 1518 弄"},{id:2,date:"2020-08-04",name:"05-XXX",address:"上海市普陀区金沙江路 1517 弄"}],formLabelAlign:{name:"",time:"",address:""},activeName:"0",showBtn:!0,row:"",curTask:"05-XXX",curId:2}},methods:{createTask:function(){var e=this;e.showBtn?(this.tableData.push({date:e.formLabelAlign.time,name:e.formLabelAlign.name,address:e.formLabelAlign.address}),this.$message("创建任务成功,请到任务列表查看")):(console.log(e.row),console.log("xiugai"),this.tableData.forEach(function(t,l){t.id==e.row.id&&(console.log(t),t.name=e.formLabelAlign.name,t.date=e.formLabelAlign.time,t.address=e.formLabelAlign.address)}),console.log(e.tableData)),e.formLabelAlign.time="",e.formLabelAlign.name="",e.formLabelAlign.address=""},cancel:function(){self.formLabelAlign.time="",self.formLabelAlign.name="",self.formLabelAlign.address=""},handleEdit:function(e){this.activeName="1",this.row=e,this.formLabelAlign.time=e.date,this.formLabelAlign.name=e.name,this.formLabelAlign.address=e.address,this.showBtn=!1},setCur:function(e){this.curTask=e.name,this.curId=e.id},tableRowClass:function(e){var t=e.row;e.rowIndex;if(t.id==this.curId)return"success-row"},deleteRow:function(e){this.tableData=this.tableData.filter(function(t){return t.id!=e.id})}}},N={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"curTask"},[l("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[l("el-tab-pane",{attrs:{label:"任务列表",name:"0"}},[l("p",[e._v("当前任务："+e._s(e.curTask))]),e._v(" "),l("el-table",{attrs:{data:e.tableData,"row-class-name":e.tableRowClass}},[l("el-table-column",{attrs:{prop:"name",label:"任务名称",width:"180"}}),e._v(" "),l("el-table-column",{attrs:{prop:"date",label:"开始时间",width:"180"}}),e._v(" "),l("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.id!=e.curId?l("el-button",{attrs:{type:"text"},on:{click:function(l){return e.setCur(t.row)}}},[e._v("设为当前任务")]):l("el-tag",{attrs:{type:"success"}},[e._v("这条数据是当前任务")]),e._v(" "),l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){return e.handleEdit(t.row)}}},[e._v("修改")]),e._v(" "),l("el-button",{directives:[{name:"show",rawName:"v-show",value:t.row.id!=e.curId,expression:"scope.row.id!=curId"}],attrs:{type:"text",size:"small"},on:{click:function(l){return e.deleteRow(t.row)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),l("el-tab-pane",{attrs:{label:"添加任务",name:"1"}},[l("el-form",{attrs:{"label-width":"80px",model:e.formLabelAlign}},[l("el-form-item",{attrs:{label:"任务名称"}},[l("el-input",{model:{value:e.formLabelAlign.name,callback:function(t){e.$set(e.formLabelAlign,"name",t)},expression:"formLabelAlign.name"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"开始时间"}},[l("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:e.formLabelAlign.time,callback:function(t){e.$set(e.formLabelAlign,"time",t)},expression:"formLabelAlign.time"}})],1),e._v(" "),l("el-form-item",[l("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showBtn,expression:"showBtn"}],attrs:{type:"primary"},on:{click:e.createTask}},[e._v("创建任务")]),e._v(" "),l("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.showBtn,expression:"!showBtn"}],attrs:{type:"primary"},on:{click:e.createTask}},[e._v("修改任务")]),e._v(" "),l("el-button",{on:{click:e.cancel}},[e._v("取消创建")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var T=l("VU/8")(I,N,!1,function(e){l("XPeh")},null,null).exports,_={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("section",[l("el-tabs",{staticStyle:{float:"left",width:"100%"},on:{"tab-click":e.handleTabClick},model:{value:e.activeTabName,callback:function(t){e.activeTabName=t},expression:"activeTabName"}},[l("el-tab-pane",{attrs:{label:"层节点列表",name:"LwLayernodeManage"}}),e._v(" "),l("el-tab-pane",{attrs:{label:"网管",name:"LwNetIframe"}})],1),e._v(" "),l("iframe",{attrs:{src:e.netUrl,frameborder:"0",width:"100%",height:"100%"}})],1)},staticRenderFns:[]};var M=l("VU/8")({name:"NetIframe",data:function(){return{netUrl:"",activeTabName:"LwNetIframe"}},created:function(){this.netUrl=this.$route.query.netUrl},methods:{handleTabClick:function(e,t){"NetIframe"!==e.name&&this.$router.push("/"+e.name)}},mounted:function(){var e=this;this.$nextTick(function(){e.$parent.$parent.$parent.$parent.$parent.setActive("/LwLayernodeManage")})}},_,!1,function(e){l("UI6s")},null,null).exports,F=l("BO1k"),L=l.n(F),E={data:function(){return{activeTabName:"LwLayernodeManage",nodes:[],typeOptions:[{value:"",label:"全部类型"},{label:"JV230接入",value:"ACCESS_JV230"},{label:"机顶盒接入",value:"ACCESS_TVOS"},{label:"混合器接入",value:"ACCESS_MIXER"},{label:"手机接入",value:"ACCESS_MOBILE"},{label:"音视频转发服务设备",value:"ACCESS_JV210"},{label:"录像存储服务单元A型",value:"ACCESS_CDN"},{label:"录像存储服务单元B型",value:"ACCESS_VOD"},{label:"监控资源汇接网关",value:"ACCESS_IPC"},{label:"流媒体管理服务设备",value:"ACCESS_STREAMMEDIA"},{label:"联网服务设备",value:"ACCESS_NETWORK"},{label:"显控汇接网关",value:"ACCESS_DISPLAYCTRL"},{label:"流转发器接入",value:"ACCESS_S100"},{label:"点播代理服务设备",value:"ACCESS_VODPROXY"},{label:"webrtc接入",value:"ACCESS_WEBRTC"},{label:"联网接入",value:"ACCESS_LIANWANG"},{label:"LDAP目录资源服务设备",value:"ACCESS_LDAP"},{label:"综合运维服务设备",value:"ACCESS_OMMS"},{label:"ws接入",value:"ACCESS_WS"}],typeObj:{ACCESS_MOBILE:"手机接入",ACCESS_JV230:"JV230接入",ACCESS_TVOS:"机顶盒接入",ACCESS_MIXER:"混合器接入",ACCESS_JV210:"音视频转发服务设备",ACCESS_CDN:"录像存储服务单元A型",ACCESS_VOD:"录像存储服务单元B型",ACCESS_IPC:"监控资源汇接网关",ACCESS_STREAMMEDIA:"流媒体管理服务设备",ACCESS_NETWORK:"联网服务设备",ACCESS_DISPLAYCTRL:"显控汇接网关",ACCESS_S100:"流转发器接入",ACCESS_VODPROXY:"点播代理服务设备",ACCESS_WEBRTC:"webrtc接入",ACCESS_LIANWANG:"联网接入",ACCESS_LDAP:"LDAP目录资源服务设备",ACCESS_OMMS:"综合运维服务设备",ACCESS_WS:"ws接入"},filters:{type:"",keyword:""},nodeTableLoading:!1,multipleSelection:[]}},methods:{gotoMonitor:function(e){window.open(e.monitorUrl)},gotoAdmin:function(e){this.$router.push({path:"/NetIframe",query:{netUrl:e.netUrl}})},handleTabClick:function(e,t){"LwLayernodeManage"!==e.name&&this.$router.push("/"+e.name)},getNodes:function(){var e=this,t={type:this.filters.type,keyword:this.filters.keyword};this.nodeTableLoading=!0,Object(C.F)(t).then(function(t){t.errMsg?e.$message({message:t.errMsg,type:"error"}):e.nodes=t.nodes,e.nodeTableLoading=!1})},handleModify:function(e){this.$router.push({path:"/ModifyLayernode",query:{id:e.id}})},handleDelete:function(e){var t=this;this.$confirm("是否确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var l={nodeIds:e.id};Object(C.q)(l).then(function(e){e.errMsg?t.$message({message:e.errMsg,type:"error"}):(t.$message({message:"删除成功",type:"success"}),t.getNodes())})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},handleMultiDelete:function(){var e=this;this.multipleSelection.length?this.$confirm("是否确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t=[],l=!0,a=!1,n=void 0;try{for(var r,i=L()(e.multipleSelection);!(l=(r=i.next()).done);l=!0){var o=r.value;t.push(o.id)}}catch(e){a=!0,n=e}finally{try{!l&&i.return&&i.return()}finally{if(a)throw n}}var s={nodeIds:t.join(",")};Object(C.q)(s).then(function(t){t.errMsg?e.$message({message:t.errMsg,type:"error"}):(e.$message({message:"删除成功",type:"success"}),e.getNodes())})}).catch(function(){e.$message({type:"info",message:"已取消删除"})}):this.$message({message:"请至少选择一行",type:"warning"})},handleSelectionChange:function(e){this.multipleSelection=e}},mounted:function(){var e=this;this.$nextTick(function(){e.$parent.$parent.$parent.$parent.$parent.setActive("/LwLayernodeManage")}),this.getNodes()}},R={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("section",[l("el-tabs",{staticStyle:{float:"left",width:"100%"},on:{"tab-click":e.handleTabClick},model:{value:e.activeTabName,callback:function(t){e.activeTabName=t},expression:"activeTabName"}},[l("el-tab-pane",{attrs:{label:"层节点列表",name:"LwLayernodeManage"}}),e._v(" "),l("el-tab-pane",{attrs:{label:"添加层节点",name:"LwAddLayernode"}})],1),e._v(" "),l("div",{staticStyle:{float:"left",width:"100%"}},[l("el-select",{staticStyle:{float:"left","margin-left":"10px",width:"200px"},attrs:{size:"small",placeholder:"选择层节点类型"},model:{value:e.filters.type,callback:function(t){e.$set(e.filters,"type",t)},expression:"filters.type"}},e._l(e.typeOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),l("el-input",{staticStyle:{float:"left","margin-left":"30px",width:"200px"},attrs:{size:"small",placeholder:"节点名称"},model:{value:e.filters.keyword,callback:function(t){e.$set(e.filters,"keyword",t)},expression:"filters.keyword"}}),e._v(" "),l("el-button",{staticStyle:{float:"left","margin-left":"30px"},attrs:{size:"small",type:"info"},on:{click:e.getNodes}},[e._v("查询")]),e._v(" "),l("el-button",{staticStyle:{float:"left","margin-left":"30px"},attrs:{size:"small",type:"danger"},on:{click:e.handleMultiDelete}},[e._v("批量删除")])],1),e._v(" "),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.nodeTableLoading,expression:"nodeTableLoading"}],staticStyle:{float:"left",width:"100%","margin-top":"20px"},attrs:{data:e.nodes},on:{"selection-change":e.handleSelectionChange}},[l("el-table-column",{attrs:{width:"100",type:"selection"}}),e._v(" "),l("el-table-column",{attrs:{prop:"name",label:"名称",width:"200",sortable:""}}),e._v(" "),l("el-table-column",{attrs:{prop:"type",label:"层节点类型",width:"200",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("span",{domProps:{textContent:e._s(e.typeObj[t.row.type])}})])]}}])}),e._v(" "),l("el-table-column",{attrs:{prop:"nodeUid",label:"层节点ID",width:"300",sortable:""}}),e._v(" "),l("el-table-column",{attrs:{prop:"ip",label:"层节点IP",width:"200",sortable:""}}),e._v(" "),l("el-table-column",{attrs:{width:"150",label:"在线状态"},scopedSlots:e._u([{key:"default",fn:function(e){return["ONLINE"==e.row.onlineStatus?l("div",{staticStyle:{height:"20px",width:"20px","border-radius":"50%","background-color":"#0f0"}}):l("div",{staticStyle:{height:"20px",width:"20px","border-radius":"50%","background-color":"#f00"}})]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){return e.handleModify(t.row)}}},[e._v("修改")]),e._v(" "),l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){return e.handleDelete(t.row)}}},[e._v("删除")]),e._v(" "),t.row.monitorUrl?l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){return e.gotoMonitor(t.row)}}},[e._v("监控")]):l("el-button",{attrs:{type:"text",size:"small",disabled:""}},[e._v("监控")]),e._v(" "),t.row.netUrl?l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){return e.gotoAdmin(t.row)}}},[e._v("网管")]):l("el-button",{attrs:{type:"text",size:"small",disabled:""}},[e._v("网管")])]}}])})],1)],1)},staticRenderFns:[]};var D=l("VU/8")(E,R,!1,function(e){l("QggA")},null,null).exports,O=l("mvHQ"),P=l.n(O),Z={name:"LwAddLayernode",data:function(){var e=function(e,t,l){t&&!/^([0-9]|[1-9]\d{1,3}|[1-5]\d{4}|6[0-4]\d{4}|65[0-4]\d{2}|655[0-2]\d|6553[0-5])$/.test(t)?l(new Error("端口格式错误")):l()};return{activeTabName:"AddLayernode",typeOptions:[{label:"JV230接入",value:"ACCESS_JV230"},{label:"机顶盒接入",value:"ACCESS_TVOS"},{label:"混合器接入",value:"ACCESS_MIXER"},{label:"手机接入",value:"ACCESS_MOBILE"},{label:"音视频转发服务设备",value:"ACCESS_JV210"},{label:"录像存储服务单元A型",value:"ACCESS_CDN"},{label:"录像存储服务单元B型",value:"ACCESS_VOD"},{label:"监控资源汇接网关",value:"ACCESS_IPC"},{label:"流媒体管理服务设备",value:"ACCESS_STREAMMEDIA"},{label:"联网服务设备",value:"ACCESS_NETWORK"},{label:"显控汇接网关",value:"ACCESS_DISPLAYCTRL"},{label:"流转发器接入",value:"ACCESS_S100"},{label:"点播代理服务设备",value:"ACCESS_VODPROXY"},{label:"webrtc接入",value:"ACCESS_WEBRTC"},{label:"联网接入",value:"ACCESS_LIANWANG"},{label:"LDAP目录资源服务设备",value:"ACCESS_LDAP"},{label:"综合运维服务设备",value:"ACCESS_OMMS"},{label:"ws接入",value:"ACCESS_WS"}],nodeForm:{type:"ACCESS_JV210",name:"",ip:"",nodeUid:"",port:null,downloadPort:null,monitorUrl:"",netUrl:"",webrtcHttpPort:8088,webrtcWebsocketPort:8188},rules:{type:[{required:!0,message:"请选择节点类型",trigger:"change"}],name:[{required:!0,message:"请输入节点名称",trigger:"change"},{min:1,max:30,message:"长度在 1 到 30 个字符",trigger:"blur"}],nodeUid:[{required:!0,message:"请输入节点ID",trigger:"change"},{min:1,max:30,message:"长度在 1 到 30 个字符",trigger:"blur"}],ip:[{validator:function(e,t,l){t&&!/^((2[0-4]\d|25[0-5]|[01]?\d\d?)\.){3}(2[0-4]\d|25[0-5]|[01]?\d\d?)$/.test(t)?l(new Error("IP格式错误")):l()},trigger:"blur"}],port:[{validator:e,trigger:"blur"}],downloadPort:[{validator:e,trigger:"blur"}]}}},methods:{handleTabClick:function(e,t){"LwAddLayernode"!==e.name&&this.$router.push("/"+e.name)},reset:function(){this.$refs.nodeForm.resetFields()},submit:function(){var e=this;if(this.validate()){var t={json:P()(this.nodeForm)};Object(C._12)(t).then(function(t){t.errMsg?e.$message({message:t.errMsg,type:"error"}):(e.$message({message:"添加成功",type:"success"}),e.$refs.nodeForm.resetFields())})}},validate:function(){var e=!1;return this.$refs.nodeForm.validate(function(t){e=t}),e}},mounted:function(){var e=this;this.$nextTick(function(){e.$parent.$parent.$parent.$parent.$parent.setActive("/LayernodeManage")})}},z={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("section",[l("el-tabs",{staticStyle:{float:"left",width:"100%"},on:{"tab-click":e.handleTabClick},model:{value:e.activeTabName,callback:function(t){e.activeTabName=t},expression:"activeTabName"}},[l("el-tab-pane",{attrs:{label:"层节点列表",name:"LwLayernodeManage"}}),e._v(" "),l("el-tab-pane",{attrs:{label:"添加层节点",name:"LwAddLayernode"}})],1),e._v(" "),l("el-form",{ref:"nodeForm",attrs:{model:e.nodeForm,rules:e.rules,"label-width":"100px"}},[l("el-form-item",{attrs:{label:"节点类型",prop:"type"}},[l("el-select",{staticStyle:{width:"200px"},model:{value:e.nodeForm.type,callback:function(t){e.$set(e.nodeForm,"type",t)},expression:"nodeForm.type"}},e._l(e.typeOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"节点名称",prop:"name"}},[l("el-input",{staticStyle:{width:"200px"},model:{value:e.nodeForm.name,callback:function(t){e.$set(e.nodeForm,"name",t)},expression:"nodeForm.name"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"节点ID",prop:"nodeUid"}},[l("el-input",{staticStyle:{width:"200px"},model:{value:e.nodeForm.nodeUid,callback:function(t){e.$set(e.nodeForm,"nodeUid",t)},expression:"nodeForm.nodeUid"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"节点IP",prop:"ip"}},[l("el-input",{staticStyle:{width:"200px"},model:{value:e.nodeForm.ip,callback:function(t){e.$set(e.nodeForm,"ip",t)},expression:"nodeForm.ip"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"节点端口",prop:"port"}},[l("el-input",{staticStyle:{width:"200px"},model:{value:e.nodeForm.port,callback:function(t){e.$set(e.nodeForm,"port",t)},expression:"nodeForm.port"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"下载端口",prop:"downloadPort"}},[l("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"录制资源下载端口，可不填"},model:{value:e.nodeForm.downloadPort,callback:function(t){e.$set(e.nodeForm,"downloadPort",t)},expression:"nodeForm.downloadPort"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"监控地址",prop:"monitorUrl"}},[l("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"监控页面地址，可不填"},model:{value:e.nodeForm.monitorUrl,callback:function(t){e.$set(e.nodeForm,"monitorUrl",t)},expression:"nodeForm.monitorUrl"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"网管地址",prop:"netUrl"}},[l("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"网管页面地址，可不填"},model:{value:e.nodeForm.netUrl,callback:function(t){e.$set(e.nodeForm,"netUrl",t)},expression:"nodeForm.netUrl"}})],1),e._v(" "),l("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"ACCESS_WEBRTC"==e.nodeForm.type,expression:"nodeForm.type=='ACCESS_WEBRTC'"}],attrs:{label:"webrtc http端口",prop:"webrtcHttpPort"}},[l("el-input",{staticStyle:{width:"200px"},model:{value:e.nodeForm.webrtcHttpPort,callback:function(t){e.$set(e.nodeForm,"webrtcHttpPort",t)},expression:"nodeForm.webrtcHttpPort"}})],1),e._v(" "),l("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"ACCESS_WEBRTC"==e.nodeForm.type,expression:"nodeForm.type=='ACCESS_WEBRTC'"}],attrs:{label:"webrtc websocket端口",prop:"webrtcWebsocketPort"}},[l("el-input",{staticStyle:{width:"200px"},model:{value:e.nodeForm.webrtcWebsocketPort,callback:function(t){e.$set(e.nodeForm,"webrtcWebsocketPort",t)},expression:"nodeForm.webrtcWebsocketPort"}})],1),e._v(" "),l("div",{staticStyle:{"margin-top":"30px"}},[l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit()}}},[e._v("提交")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.reset()}}},[e._v("重置")])],1)],1)],1)},staticRenderFns:[]};var B=l("VU/8")(Z,z,!1,function(e){l("cYRx")},"data-v-25562512",null).exports,j={name:"LwModifyLayernode",data:function(){var e=function(e,t,l){t&&!/^([0-9]|[1-9]\d{1,3}|[1-5]\d{4}|6[0-4]\d{4}|65[0-4]\d{2}|655[0-2]\d|6553[0-5])$/.test(t)?l(new Error("端口格式错误")):l()};return{activeTabName:"ModifyLayernode",typeOptions:[{label:"JV230接入",value:"ACCESS_JV230"},{label:"机顶盒接入",value:"ACCESS_TVOS"},{label:"混合器接入",value:"ACCESS_MIXER"},{label:"手机接入",value:"ACCESS_MOBILE"},{label:"音视频转发服务设备",value:"ACCESS_JV210"},{label:"录像存储服务单元A型",value:"ACCESS_CDN"},{label:"录像存储服务单元B型",value:"ACCESS_VOD"},{label:"监控资源汇接网关",value:"ACCESS_IPC"},{label:"流媒体管理服务设备",value:"ACCESS_STREAMMEDIA"},{label:"联网服务设备",value:"ACCESS_NETWORK"},{label:"显控汇接网关",value:"ACCESS_DISPLAYCTRL"},{label:"流转发器接入",value:"ACCESS_S100"},{label:"webrtc接入",value:"ACCESS_WEBRTC"},{label:"联网接入",value:"ACCESS_LIANWANG"},{label:"LDAP目录资源服务设备",value:"ACCESS_LDAP"},{label:"综合运维服务设备",value:"ACCESS_OMMS"},{label:"ws接入",value:"ACCESS_WS"}],id:this.$route.query.id,nodeForm:{type:"",name:"",ip:"",nodeUid:"",monitorUrl:"",netUrl:""},rules:{type:[{required:!0,message:"请选择节点类型",trigger:"change"}],name:[{required:!0,message:"请输入节点名称",trigger:"change"},{min:1,max:30,message:"长度在 1 到 30 个字符",trigger:"blur"}],ip:[{validator:function(e,t,l){t&&!/^((2[0-4]\d|25[0-5]|[01]?\d\d?)\.){3}(2[0-4]\d|25[0-5]|[01]?\d\d?)$/.test(t)?l(new Error("IP格式错误")):l()},trigger:"blur"}],port:[{validator:e,trigger:"blur"}],downloadPort:[{validator:e,trigger:"blur"}]}}},methods:{handleTabClick:function(e,t){"LwModifyLayernode"!==e.name&&this.$router.push("/"+e.name)},reset:function(){this.$refs.nodeForm.resetFields()},getNode:function(){var e=this,t={id:this.id};Object(C.E)(t).then(function(t){t.errmsg?e.$message({message:t.errMsg,type:"error"}):e.nodeForm=t.node})},submit:function(){var e=this;if(this.validate()){var t={json:P()(this.nodeForm)};Object(C._31)(t).then(function(t){t.errMsg?e.$message({message:t.errMsg,type:"error"}):e.$message({message:"修改成功",type:"success"})})}},validate:function(){var e=!1;return this.$refs.nodeForm.validate(function(t){e=t}),e}},mounted:function(){this.getNode()}},U={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("section",[l("el-tabs",{staticStyle:{float:"left",width:"100%"},on:{"tab-click":e.handleTabClick},model:{value:e.activeTabName,callback:function(t){e.activeTabName=t},expression:"activeTabName"}},[l("el-tab-pane",{attrs:{label:"层节点列表",name:"LwLayernodeManage"}}),e._v(" "),l("el-tab-pane",{attrs:{label:"修改层节点",name:"LwModifyLayernode"}})],1),e._v(" "),l("el-form",{ref:"nodeForm",attrs:{model:e.nodeForm,rules:e.rules,"label-width":"100px"}},[l("el-form-item",{attrs:{label:"节点类型",prop:"type"}},[l("el-select",{staticStyle:{width:"200px"},model:{value:e.nodeForm.type,callback:function(t){e.$set(e.nodeForm,"type",t)},expression:"nodeForm.type"}},e._l(e.typeOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"节点名称",prop:"name"}},[l("el-input",{staticStyle:{width:"200px"},model:{value:e.nodeForm.name,callback:function(t){e.$set(e.nodeForm,"name",t)},expression:"nodeForm.name"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"节点ID",prop:"nodeUid"}},[l("el-input",{staticStyle:{width:"200px"},model:{value:e.nodeForm.nodeUid,callback:function(t){e.$set(e.nodeForm,"nodeUid",t)},expression:"nodeForm.nodeUid"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"节点IP",prop:"ip"}},[l("el-input",{staticStyle:{width:"200px"},model:{value:e.nodeForm.ip,callback:function(t){e.$set(e.nodeForm,"ip",t)},expression:"nodeForm.ip"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"节点端口",prop:"port"}},[l("el-input",{staticStyle:{width:"200px"},model:{value:e.nodeForm.port,callback:function(t){e.$set(e.nodeForm,"port",t)},expression:"nodeForm.port"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"下载端口",prop:"downloadPort"}},[l("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"录制资源下载端口，可不填"},model:{value:e.nodeForm.downloadPort,callback:function(t){e.$set(e.nodeForm,"downloadPort",t)},expression:"nodeForm.downloadPort"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"监控地址",prop:"monitorUrl"}},[l("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"监控页面地址，可不填"},model:{value:e.nodeForm.monitorUrl,callback:function(t){e.$set(e.nodeForm,"monitorUrl",t)},expression:"nodeForm.monitorUrl"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"网管地址",prop:"netUrl"}},[l("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"网管页面地址，可不填"},model:{value:e.nodeForm.netUrl,callback:function(t){e.$set(e.nodeForm,"netUrl",t)},expression:"nodeForm.netUrl"}})],1),e._v(" "),l("div",{staticStyle:{"margin-top":"30px"}},[l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit()}}},[e._v("提交")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.reset()}}},[e._v("重置")])],1)],1)],1)},staticRenderFns:[]};l("VU/8")(j,U,!1,function(e){l("7A6u")},"data-v-efdb6c74",null).exports;var W={name:"selectLayerNode",data:function(){return{visible:!1,table:{totalData:[],filterData:[],currentRow:""},layerNodeTypes:[{value:"ACCESS_JV230",label:"JV230接入"},{value:"ACCESS_TVOS",label:"机顶盒接入"},{value:"ACCESS_MIXER",label:"混合器接入"},{value:"ACCESS_MOBILE",label:"手机终端接入"},{value:"ACCESS_JV210",label:"音视频转发服务设备"},{value:"ACCESS_CDN",label:"录像存储服务单元A型"},{value:"ACCESS_VOD",label:"录像存储服务单元B型"},{value:"ACCESS_IPC",label:"监控资源汇接网关"},{value:"ACCESS_STREAMMEDIA",label:"流媒体管理服务设备"},{value:"ACCESS_NETWORK",label:"联网服务设备"},{value:"ACCESS_DISPLAYCTRL",label:"显控汇接网关"},{value:"ACCESS_S100",label:"流转发器接入"},{value:"ACCESS_VODPROXY",label:"点播代理服务设备"},{value:"ACCESS_LIANWANG",label:"联网接入"},{label:"LDAP目录资源服务设备",value:"ACCESS_LDAP"},{label:"综合运维服务设备",value:"ACCESS_OMMS"},{label:"ws接入",value:"ACCESS_WS"}],filters:{type:"",name:"",ip:""}}},methods:{show:function(){var e=this;e.visible=!0,Object(C.F)({type:"",keyword:""}).then(function(t){if(e.table.totalData.splice(0,e.table.totalData.length),e.table.filterData.splice(0,e.table.filterData.length),t.errMsg)e.$message({type:"error",message:t.errMsg});else if(t.nodes&&t.nodes.length>0)for(var l=0;l<t.nodes.length;l++){for(var a=0;a<e.layerNodeTypes.length;a++)if(e.layerNodeTypes[a].value===t.nodes[l].type){t.nodes[l].typeName=e.layerNodeTypes[a].label;break}e.table.totalData.push(t.nodes[l]),e.table.filterData.push(t.nodes[l])}})},handleClose:function(){this.visible=!1,this.table.totalData.splice(0,this.table.totalData.length),this.table.filterData.splice(0,this.table.filterData.length),this.table.currentRow="",this.filters.type="",this.filters.name="",this.filters.ip=""},handleCommit:function(){var e=this;e.$emit("layer-node-selected",e.table.currentRow,function(){e.handleClose()})},handleFilter:function(){this.table.filterData.splice(0,this.table.filterData.length);for(var e=0;e<this.table.totalData.length;e++){var t=!0,l=this.table.totalData[e];this.filters.type&&l.type!==this.filters.type&&(t=!1),t&&this.filters.name&&l.name.toLowerCase().indexOf(this.filters.name.toLowerCase())<0&&(t=!1),t&&this.filters.ip&&l.ip.indexOf(this.filters.ip)<0&&(t=!1),t&&this.table.filterData.push(l)}},currentRowChange:function(e,t){this.table.currentRow=e}},mounted:function(){}},Y={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-dialog",{attrs:{title:"选择接入层",visible:e.visible,width:"800px","before-close":e.handleClose},on:{"update:visible":function(t){e.visible=t}}},[l("div",{staticStyle:{height:"500px",position:"relative"}},[l("div",{staticStyle:{height:"50px",width:"100%"}},[l("el-select",{staticStyle:{"margin-right":"10px"},attrs:{placeholder:"接入层类型"},model:{value:e.filters.type,callback:function(t){e.$set(e.filters,"type",t)},expression:"filters.type"}},[l("el-option",{attrs:{value:""}},[e._v("全部类型")]),e._v(" "),e._l(e.layerNodeTypes,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})],2),e._v(" "),l("el-input",{staticStyle:{width:"auto","margin-right":"10px"},attrs:{placeholder:"接入层名称"},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}}),e._v(" "),l("el-input",{staticStyle:{width:"auto","margin-right":"10px"},attrs:{placeholder:"接入成ip"},model:{value:e.filters.ip,callback:function(t){e.$set(e.filters,"ip",t)},expression:"filters.ip"}}),e._v(" "),l("el-button",{on:{click:e.handleFilter}},[e._v("查询")])],1),e._v(" "),l("div",{staticStyle:{position:"absolute",left:"0",top:"50px",right:"0",bottom:"0"}},[l("el-scrollbar",{staticStyle:{height:"100%"}},[l("el-table",{staticStyle:{width:"100%"},attrs:{data:e.table.filterData,"highlight-current-row":""},on:{"current-change":e.currentRowChange}},[l("el-table-column",{attrs:{prop:"name",label:"名称"}}),e._v(" "),l("el-table-column",{attrs:{prop:"ip",label:"ip"}}),e._v(" "),l("el-table-column",{attrs:{prop:"typeName",label:"类型"}})],1)],1)],1)]),e._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:e.handleClose}},[e._v("取消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:e.handleCommit}},[e._v("确定")])],1)])},staticRenderFns:[]};var G=l("VU/8")(W,Y,!1,function(e){l("4miF")},null,null).exports,$=document.location.origin,V={components:{selectLayerNode:G},data:function(){return{activeTabName:"LwLocalBundleManage",resources:[],deviceModelOptions:[],filters:{deviceModel:"jv210",keyword:"",userId:"",sourceType:"",countPerPage:""},users:[],resourceTableLoading:!1,detailDialogVisible:!1,abilityDetailDialogVisible:!1,setAccessLayerVisible:!1,confirmSyncToLdapVisible:!1,detailInfos:[],channelSchemes:[],total:0,pageNum:1,countPerPage:20,currentRow:{},bundleId:"",newAccessNodeUid:"",uploadUrl:$+"/bundle/import",myHeaders:{"tetris-001":sessionStorage.getItem("token")},sourceTypeOptions:[{value:"",label:"全部来源"},{value:"SYSTEM",label:"本域"},{value:"EXTERNAL",label:"外域"}],multipleSelection:[]}},methods:{pageChange:function(){this.getResources(this.pageNum)},handleSelectLayerNode:function(){this.$refs.selectLayerNode.show()},layerNodeSelected:function(e,t){this.newAccessNodeUid=e.nodeUid,t()},handleTabClick:function(e,t){"LwLocalBundleManage"!==e.name&&this.$router.push("/"+e.name)},getAllUsers:function(){var e=this;Object(C.w)().then(function(t){t.errMsg?e.$message({message:t.errMsg,type:"error"}):(e.users=[],e.users.push({id:-1,name:"全部用户"}),e.users=e.users.concat(t.users))})},getDeviceModels:function(){var e=this;Object(C.C)().then(function(t){if(!t.errMsg&&t.deviceModels){e.deviceModelOptions.push({value:"",label:"全部类型"});var l=!0,a=!1,n=void 0;try{for(var r,i=L()(t.deviceModels);!(l=(r=i.next()).done);l=!0){var o=r.value,s={value:o,label:o};e.deviceModelOptions.push(s)}}catch(e){a=!0,n=e}finally{try{!l&&i.return&&i.return()}finally{if(a)throw n}}}})},getResources:function(e){var t=this;this.countPerPage=20,/^[1-9]+[0-9]*]*$/.test(this.filters.countPerPage)&&(this.countPerPage=parseInt(this.filters.countPerPage)),this.countPerPage*(e-1)>this.total&&(e=Math.ceil(this.total/this.countPerPage));var l={deviceModel:this.filters.deviceModel,keyword:this.filters.keyword,sourceType:this.filters.sourceType,userId:this.filters.userId,pageNum:e,countPerPage:this.countPerPage};this.resourceTableLoading=!0,Object(C.A)(l).then(function(l){l.errMsg?t.$message({message:l.errMsg,type:"error"}):(t.pageNum=e,t.total=l.total,t.resources=l.resources),t.resourceTableLoading=!1})},handleCurrentPageChange:function(e){this.pageNum=e,this.getResources(this.pageNum)},handleDetail:function(e){var t=this;this.resourceTableLoading=!0;var l={bundleId:e.bundleId};Object(C.z)(l).then(function(l){l.errMsg?t.$message({message:l.errMsg,type:"error"}):(t.detailDialogVisible=!0,t.detailInfos=l.extraInfos,t.detailInfos.push({name:"bundle_id",value:e.bundleId})),t.resourceTableLoading=!1})},handleModify:function(e){sessionStorage.setItem("row",P()(e)),this.$router.push({path:"/LwModifyBundle",query:{bundleId:e.bundleId,bundleName:e.bundleName,location:e.location,deviceIp:e.deviceAddr.deviceIp,devicePort:e.deviceAddr.devicePort,multicastEncode:e.multicastEncode,multicastEncodeAddr:e.multicastEncodeAddr,multicastDecode:e.multicastDecode,bundleFolderName:e.bundleFolderName,bundleFolderId:e.bundleFolderId,transcod:e.transcod,multicastSourceIp:e.multicastSourceIp}})},handleLogout:function(e){var t=this;this.resourceTableLoading=!0;var l={bundleId:e.bundleId};Object(C.R)(l).then(function(l){l.errMsg?t.$message({message:l.errMsg,type:"error"}):(e.onlineStatus="OFFLINE",t.$message({message:"踢出账号成功",type:"success"})),t.resourceTableLoading=!1})},handleClear:function(e){var t=this;this.$confirm("重置资源将会清空资源上的能力占用，是否确认?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.resourceTableLoading=!0;var l={bundleId:e.bundleId};Object(C.k)(l).then(function(e){e.errMsg?t.$message({message:e.errMsg,type:"error"}):t.$message({message:"重置成功",type:"success"}),t.resourceTableLoading=!1})}).catch(function(){t.$message({type:"info",message:"已取消重置"})})},handleDelete:function(e){var t=this;this.$confirm("是否确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.resourceTableLoading=!0;var l={bundleIds:e.bundleId};Object(C.o)(l).then(function(e){t.resourceTableLoading=!1,e.errMsg?t.$message({message:e.errMsg,type:"error"}):(t.$message({message:"删除成功",type:"success"}),t.getResources(1))})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},abilityConfig:function(e){this.$router.push({path:"/ConfigBundle",query:{bundleId:e.bundleId}})},abilityDetail:function(e){var t=this,l={bundleId:e.bundleId};this.resourceTableLoading=!0,Object(C.y)(l).then(function(e){e.errMsg?t.$message({message:e.errMsg,type:"error"}):(t.abilityDetailDialogVisible=!0,t.channelSchemes=e.channelSchemes),t.resourceTableLoading=!1})},handleSetLayerId:function(e){this.currentRow=e,this.bundleId=e.bundleId,this.newAccessNodeUid=e.accessNodeUid,this.setAccessLayerVisible=!0},submitSetAccessLayer:function(){var e=this,t={bundleId:this.bundleId,accessLayerId:this.newAccessNodeUid};Object(C._13)(t).then(function(t){t.errMsg?e.$message({message:t.errMsg,type:"error"}):(e.currentRow.accessNodeUid=e.newAccessNodeUid,e.$message({message:"设置接入成功",type:"success"})),e.setAccessLayerVisible=!1})},showMultiSetAccessLayerDialog:function(){if(this.multipleSelection.length){var e=[],t=!0,l=!1,a=void 0;try{for(var n,r=L()(this.multipleSelection);!(t=(n=r.next()).done);t=!0){var i=n.value;e.push(i.bundleId)}}catch(e){l=!0,a=e}finally{try{!t&&r.return&&r.return()}finally{if(l)throw a}}this.bundleId=e.join(","),console.log("bundleIds=="+this.bundleId),this.newAccessNodeUid="",this.setAccessLayerVisible=!0}else this.$message({message:"请至少选择一行",type:"warning"})},exportBundle:function(){var e=this;Object(C.s)(null).then(function(e){var t=new Blob([e.data],{type:"application/octet-stream;charset=utf-8"}),l=document.createElement("a");l.download="folder.csv",l.style.display="none",l.href=URL.createObjectURL(t),document.body.appendChild(l),l.click(),URL.revokeObjectURL(l.href),document.body.removeChild(l)}).catch(function(t){e.$message({message:t,type:"error"})})},uploadSuccess:function(e){e.errMsg?this.$message({message:e.errMsg,type:"error"}):(e.successCnt?this.$message({message:"成功导入的设备数量："+e.successCnt,type:"success"}):this.$message({message:"导入失败",type:"error"}),this.getResources(1))},uploadError:function(e){this.$message({message:"上传文件错误: "+P()(e),type:"error"})},onprogress:function(){this.resourceTableLoading=!0},handleMultiDelete:function(){var e=this;this.multipleSelection.length?this.$confirm("是否确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.resourceTableLoading=!0;var t=[],l=!0,a=!1,n=void 0;try{for(var r,i=L()(e.multipleSelection);!(l=(r=i.next()).done);l=!0){var o=r.value;t.push(o.bundleId)}}catch(e){a=!0,n=e}finally{try{!l&&i.return&&i.return()}finally{if(a)throw n}}var s={bundleIds:t.join(",")};Object(C.o)(s).then(function(t){e.resourceTableLoading=!1,t.errMsg?e.$message({message:t.errMsg,type:"error"}):(e.$message({message:"删除成功",type:"success"}),e.getResources(1))})}).catch(function(){e.$message({type:"info",message:"已取消删除"})}):this.$message({message:"请至少选择一行",type:"warning"})},syncUser:function(){var e=this;this.$confirm("是否确认同步用户资源?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.resourceTableLoading=!0,Object(C._29)(null).then(function(t){e.resourceTableLoading=!1,t.errMsg?e.$message({message:t.errMsg,type:"error"}):(e.$message({message:"同步成功",type:"success"}),e.getResources(1))})}).catch(function(){e.$message({type:"info",message:"已取消同步"})})},handleSelectionChange:function(e){this.multipleSelection=e},handleSyncFromLdap:function(){var e=this;this.$confirm("确认将从LDAP服务器同步下载信息么？","提示",{}).then(function(){e.resourceTableLoading=!0;Object(C._22)({}).then(function(t){null!==t.errMsg&&""!==t.errMsg?e.$message({message:t.errMsg,type:"error",duration:3e3}):(e.$message({message:"同步成功, 共下载"+t.successCnt+"条信息",type:"success"}),e.getResources(1))}),e.resourceTableLoading=!1})},showHandleSyncToLdapDialog:function(){this.confirmSyncToLdapVisible=!0},handleSyncToLdap:function(e){var t=this;this.resourceTableLoading=!0;var l={syncAll:e};Object(C._21)(l).then(function(e){null!==e.errMsg&&""!==e.errMsg?t.$message({message:e.errMsg,type:"error",duration:3e3}):(t.$message({message:"同步成功, 共上传"+e.successCnt+"条信息",type:"success"}),t.getResources(1)),t.confirmSyncToLdapVisible=!1}),this.resourceTableLoading=!1},handleCleanUpLdap:function(){var e=this;this.$confirm("确认清空所有上传到LDAP和从LDAP下载的信息么？","提示",{}).then(function(){e.resourceTableLoading=!0;Object(C.g)({}).then(function(t){null!==t.errMsg&&""!==t.errMsg?e.$message({message:t.errMsg,type:"error",duration:3e3}):(e.$message({message:"重置成功",type:"success"}),e.getResources(1))}),e.resourceTableLoading=!1})}},mounted:function(){var e=this;if(this.$nextTick(function(){e.$parent.$parent.$parent.$parent.$parent.setActive("/LwLocalBundleManage")}),this.getDeviceModels(),this.getAllUsers(),this.getResources(1),-1!==this.uploadUrl.indexOf("__requestIP__")){var t=document.location.host.split(":")[0];this.uploadUrl=this.uploadUrl.replace("__requestIP__",t)}}},H={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("section",[l("el-tabs",{staticStyle:{float:"left",width:"100%"},on:{"tab-click":e.handleTabClick},model:{value:e.activeTabName,callback:function(t){e.activeTabName=t},expression:"activeTabName"}},[l("el-tab-pane",{attrs:{label:"资源列表",name:"LwLocalBundleManage"}}),e._v(" "),l("el-tab-pane",{attrs:{label:"添加资源",name:"LwAddBundle"}})],1),e._v(" "),l("div",{staticStyle:{float:"left",width:"100%"}},[l("el-select",{staticStyle:{float:"left","margin-left":"5px",width:"180px"},attrs:{size:"small",placeholder:"选择类型"},model:{value:e.filters.deviceModel,callback:function(t){e.$set(e.filters,"deviceModel",t)},expression:"filters.deviceModel"}},e._l(e.deviceModelOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),l("el-select",{staticStyle:{float:"left","margin-left":"10px",width:"180px"},attrs:{size:"small",placeholder:"选择来源"},model:{value:e.filters.sourceType,callback:function(t){e.$set(e.filters,"sourceType",t)},expression:"filters.sourceType"}},e._l(e.sourceTypeOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),l("el-select",{staticStyle:{float:"left","margin-left":"10px",width:"200px"},attrs:{size:"small",filterable:"",placeholder:"选择用户"},model:{value:e.filters.userId,callback:function(t){e.$set(e.filters,"userId",t)},expression:"filters.userId"}},e._l(e.users,function(e){return l("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1),e._v(" "),l("el-input",{staticStyle:{float:"left","margin-left":"15px",width:"200px"},attrs:{size:"small",placeholder:"关键字"},model:{value:e.filters.keyword,callback:function(t){e.$set(e.filters,"keyword",t)},expression:"filters.keyword"}}),e._v(" "),l("el-button",{staticStyle:{float:"left","margin-left":"10px"},attrs:{size:"small"},on:{click:function(t){return e.getResources(1)}}},[e._v("查询")]),e._v(" "),l("el-dropdown",{staticStyle:{float:"left","margin-left":"20px"}},[l("el-button",{attrs:{type:"primary",size:"small"}},[e._v("\n        LDAP操作"),l("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),l("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[l("el-dropdown-item",{nativeOn:{click:function(t){return e.showHandleSyncToLdapDialog()}}},[e._v("上传到LDAP")]),e._v(" "),l("el-dropdown-item",{nativeOn:{click:function(t){return e.handleSyncFromLdap()}}},[e._v("从LDAP下载")]),e._v(" "),l("el-dropdown-item",{nativeOn:{click:function(t){return e.handleCleanUpLdap()}}},[e._v("重置LDAP数据")])],1)],1),e._v(" "),l("el-upload",{staticClass:"upload-demo",staticStyle:{float:"left","margin-left":"10px"},attrs:{action:e.uploadUrl,name:"filePoster",headers:e.myHeaders,"show-file-list":!1,"on-success":e.uploadSuccess,"on-error":e.uploadError,"on-progress":e.onprogress}},[l("el-button",{attrs:{type:"primary",size:"small"}},[e._v("导入")])],1),e._v(" "),l("el-button",{staticStyle:{float:"left","margin-left":"10px"},attrs:{type:"primary",size:"small"},on:{click:e.exportBundle}},[e._v("导出\n    ")]),e._v(" "),l("el-button",{staticStyle:{float:"left","margin-left":"10px"},attrs:{type:"primary",size:"small"},on:{click:e.showMultiSetAccessLayerDialog}},[e._v("批量设置接入\n    ")]),e._v(" "),l("el-button",{staticStyle:{float:"left","margin-left":"10px"},attrs:{type:"danger",size:"small"},on:{click:e.handleMultiDelete}},[e._v("\n      批量删除\n    ")]),e._v(" "),l("el-button",{staticStyle:{float:"left","margin-left":"10px"},attrs:{type:"danger",size:"small"},on:{click:e.syncUser}},[e._v("\n      同步用户\n    ")])],1),e._v(" "),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.resourceTableLoading,expression:"resourceTableLoading"}],staticStyle:{float:"left",width:"100%","margin-top":"20px"},attrs:{data:e.resources},on:{"selection-change":e.handleSelectionChange}},[l("el-table-column",{attrs:{width:"50",type:"selection"}}),e._v(" "),l("el-table-column",{attrs:{prop:"bundleName",label:"名称",width:"120",sortable:""}}),e._v(" "),l("el-table-column",{attrs:{prop:"location",label:"地点",width:"120",sortable:""}}),e._v(" "),l("el-table-column",{attrs:{prop:"deviceModel",label:"类型",width:"120",sortable:""}}),e._v(" "),l("el-table-column",{attrs:{prop:"bundleAlias",label:"别名",width:"130",sortable:""}}),e._v(" "),l("el-table-column",{attrs:{prop:"username",label:"设备账号",width:"120"}}),e._v(" "),l("el-table-column",{attrs:{prop:"accessNodeUid",label:"所属接入层",width:"220",sortable:""}}),e._v(" "),l("el-table-column",{attrs:{width:"100",label:"在线状态"},scopedSlots:e._u([{key:"default",fn:function(e){return["ONLINE"==e.row.onlineStatus?l("div",{staticStyle:{height:"20px",width:"20px","border-radius":"50%","background-color":"#0f0"}}):l("div",{staticStyle:{height:"20px",width:"20px","border-radius":"50%","background-color":"#f00"}})]}}])}),e._v(" "),l("el-table-column",{attrs:{width:"100",label:"锁定状态"},scopedSlots:e._u([{key:"default",fn:function(t){return["IDLE"==t.row.lockStatus?l("div",[e._v("空闲")]):"BUSY"==t.row.lockStatus?l("div",[e._v("锁定")]):e._e()]}}])}),e._v(" "),l("el-table-column",{attrs:{width:"100",label:"来源"},scopedSlots:e._u([{key:"default",fn:function(t){return["EXTERNAL"==t.row.sourceType?l("div",[e._v("外域")]):l("div",[e._v("本域")])]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"操作",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return["EXTERNAL"!=t.row.sourceType?l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){return e.handleModify(t.row)}}},[e._v("修改")]):e._e(),e._v(" "),"EXTERNAL"!=t.row.sourceType?l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){return e.handleSetLayerId(t.row)}}},[e._v("设置接入")]):e._e(),e._v(" "),"EXTERNAL"!=t.row.sourceType?l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){return e.handleClear(t.row)}}},[e._v("重置")]):e._e(),e._v(" "),"EXTERNAL"!=t.row.sourceType?l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){return e.handleDelete(t.row)}}},[e._v("删除")]):e._e()]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"能力",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return["EXTERNAL"!=t.row.sourceType?l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){return e.abilityConfig(t.row)}}},[e._v("配置")]):e._e(),e._v(" "),"EXTERNAL"!=t.row.sourceType?l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){return e.abilityDetail(t.row)}}},[e._v("通道信息")]):e._e()]}}])})],1),e._v(" "),l("el-col",{staticClass:"toolbar",attrs:{span:24}},[l("el-input",{staticStyle:{float:"right","margin-right":"30px",width:"200px"},attrs:{size:"small",placeholder:"单页显示数量,默认20"},on:{change:e.pageChange},model:{value:e.filters.countPerPage,callback:function(t){e.$set(e.filters,"countPerPage",t)},expression:"filters.countPerPage"}}),e._v(" "),l("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","current-page":e.pageNum,"page-size":e.countPerPage,total:e.total},on:{"current-change":e.handleCurrentPageChange}})],1),e._v(" "),l("el-dialog",{attrs:{title:"详情",visible:e.detailDialogVisible,width:"30%"},on:{"update:visible":function(t){e.detailDialogVisible=t}}},[l("ul",e._l(e.detailInfos,function(t){return l("li",[e._v("\n        "+e._s(t.name)+" : "+e._s(t.value)+"\n      ")])}),0)]),e._v(" "),l("el-dialog",{attrs:{title:"能力详情",visible:e.abilityDetailDialogVisible,width:"40%"},on:{"update:visible":function(t){e.abilityDetailDialogVisible=t}}},[l("el-table",{attrs:{data:e.channelSchemes}},[l("el-table-column",{attrs:{property:"channelId",label:"通道ID",width:"250"}}),e._v(" "),l("el-table-column",{attrs:{property:"channelName",label:"通道类型",width:"250"}}),e._v(" "),l("el-table-column",{attrs:{width:"150",label:"通道状态"},scopedSlots:e._u([{key:"default",fn:function(t){return["IDLE"==t.row.channelStatus?l("div",[e._v("空闲")]):"BUSY"==t.row.channelStatus?l("div",[e._v("锁定")]):"OFFLINE"==t.row.channelStatus?l("div",[e._v("掉线")]):l("div",[e._v("未知")])]}}])})],1)],1),e._v(" "),l("el-dialog",{attrs:{title:"设置接入",visible:e.setAccessLayerVisible,width:"30%"},on:{"update:visible":function(t){e.setAccessLayerVisible=t}}},[l("div",{staticStyle:{"margin-top":"10px"}},[l("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"输入接入层ID",readOnly:""},nativeOn:{click:function(t){return e.handleSelectLayerNode(t)}},model:{value:e.newAccessNodeUid,callback:function(t){e.newAccessNodeUid=t},expression:"newAccessNodeUid"}},[l("template",{slot:"prepend"},[e._v("接入层ID")])],2)],1),e._v(" "),l("div",{staticStyle:{"margin-top":"30px"}},[l("el-button",{staticStyle:{"margin-left":"150px"},attrs:{type:"primary"},on:{click:function(t){return e.submitSetAccessLayer()}}},[e._v("提交")])],1)]),e._v(" "),l("el-dialog",{staticStyle:{"margin-top":"260px"},attrs:{title:"提示",visible:e.confirmSyncToLdapVisible,width:"500px"},on:{"update:visible":function(t){e.confirmSyncToLdapVisible=t}}},[l("div",[e._v("\n      确认上传信息到LDAP服务器上么？\n    ")]),e._v(" "),l("div",{staticStyle:{"margin-top":"40px"}},[l("el-button",{staticStyle:{"margin-left":"130px"},attrs:{size:"small"},on:{click:function(t){e.confirmSyncToLdapVisible=!1}}},[e._v("取 消\n      ")]),e._v(" "),l("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"small"},on:{click:function(t){return e.handleSyncToLdap("false")}}},[e._v("\n        只上传未同步信息\n      ")]),e._v(" "),l("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"small"},on:{click:function(t){return e.handleSyncToLdap("true")}}},[e._v("\n        上传全部信息\n      ")])],1)]),e._v(" "),[l("selectLayerNode",{ref:"selectLayerNode",on:{"layer-node-selected":e.layerNodeSelected}})]],2)},staticRenderFns:[]};var J=l("VU/8")(V,H,!1,function(e){l("V0kJ")},null,null).exports,Q={name:"AddBundle",components:{selectLayerNode:G},data:function(){var e=this;return{activeTabName:"LwAddBundle",extraInfos:[],bundleForm:w()({deviceDomain:"",deviceModel:"",bundleType:"",bundleName:"",location:"",username:"",onlinePassword:"",checkPass:"",bundleAlias:"",accessNodeUid:"",bundleFolderId:null,bundleFolderName:"根目录",transcod:!1,multicastSourceIp:"",deviceAddr:{deviceIp:"",devicePort:5060},multicastEncode:!1,multicastEncodeAddr:"",multicastDecode:!1,coderType:"DEFAULT",longitude:"",latitude:"",streamUrl:""},"streamUrl",""),rules:{deviceModel:[{required:!0,message:"请选择设备形态",trigger:"change"}],bundleName:[{required:!0,message:"请输入设备名称",trigger:"blur"},{min:1,max:30,message:"长度在 1 到 30 个字符",trigger:"blur"}],username:[{required:!0,message:"请输入设备账号",trigger:"blur"}],onlinePassword:[{validator:function(t,l,a){""===l?a(new Error("请输入密码")):(""!==e.bundleForm.checkPass&&e.$refs.bundleForm.validateField("checkPass"),a())},trigger:"blur"}],checkPass:[{validator:function(t,l,a){""===l?a(new Error("请再次输入密码")):l!==e.bundleForm.onlinePassword?a(new Error("两次输入密码不一致!")):a()},trigger:"blur"}]},deviceModelOptions:[],deviceDomainOptions:[{label:"外域资源",value:"1"},{label:"本域资源",value:"2"}],coderTypeOptions:[{label:"编码器",value:"ENCODER"},{label:"解码器",value:"DECODER"},{label:"默认",value:"DEFAULT"}],wsTypeOptions:[{label:"编码器",value:"ENCODER"},{label:"解码器",value:"DECODER"},{label:"软终端",value:"DEFAULT"}],bundleTypeOptions:[{label:"终端",value:"VenusTerminal"},{label:"混合器",value:"VenusMixer"},{label:"转发器",value:"VenusTransporter"},{label:"外部输出设备",value:"VenusOutConnection"},{label:"大屏设备",value:"VenusVideoMatrix"}],dialog:{changeFolder:{visible:!1,tree:{props:{label:"name",children:"children"},expandOnClickNode:!1,data:[],current:""}},addFolder:{visible:!1,parent:"",parentNode:"",folderName:"",toLdap:"否"}}}},computed:{bundleFormMulticastEncode:function(){return this.bundleForm.multicastEncode}},watch:{bundleFormMulticastEncode:function(e){e||(this.bundleForm.multicastEncodeAddr="")}},methods:{handleTabClick:function(e,t){"AddBundle"!==e.name&&this.$router.push("/"+e.name)},getDeviceModels:function(){var e=this;Object(C.C)().then(function(t){if(!t.errMsg&&t.deviceModels){var l=!0,a=!1,n=void 0;try{for(var r,i=L()(t.deviceModels);!(l=(r=i.next()).done);l=!0){var o=r.value,s={value:o,label:o};e.deviceModelOptions.push(s)}}catch(e){a=!0,n=e}finally{try{!l&&i.return&&i.return()}finally{if(a)throw n}}}})},addExtraInfo:function(){this.extraInfos.push({})},remove:function(e){var t=this.extraInfos.indexOf(e);-1!==t&&this.extraInfos.splice(t,1)},reset:function(){this.$refs.bundleForm.resetFields(),this.bundleForm.bundleFolderId=null,this.bundleForm.bundleFolderName="根目录"},submit:function(){var e=this;if(this.validateBaseInfo()&&this.validateExtraInfo()){var t={bundle:P()(this.bundleForm),extraInfoVOList:P()(this.extraInfos)};Object(C.a)(t).then(function(t){t.errMsg?e.$message({message:t.errMsg,type:"error"}):(e.$message({message:"添加成功",type:"success"}),setTimeout(function(){window.location.reload()},1e3))})}},validateBaseInfo:function(){var e=!1;return this.$refs.bundleForm.validate(function(t){e=t}),e},validateExtraInfo:function(){var e=!0,t=!1,l=void 0;try{for(var a,n=L()(this.extraInfos);!(e=(a=n.next()).done);e=!0){var r=a.value;if(!r.name||!r.value)return this.$message({message:"扩展字段不能为空",type:"error"}),!1}}catch(e){t=!0,l=e}finally{try{!e&&n.return&&n.return()}finally{if(t)throw l}}return!0},handleChangeFolder:function(){var e=this;e.dialog.changeFolder.visible=!0,Object(C._2)().then(function(t){console.log(t),200===t.status?e.dialog.changeFolder.tree.data=t.data:e.$message({type:"error",message:t.message})})},handleChangeFolderClose:function(){this.dialog.changeFolder.visible=!1,this.dialog.changeFolder.tree.data.splice(0,this.dialog.changeFolder.tree.data.length),this.dialog.changeFolder.tree.current=""},handleChangeFolderCommit:function(){this.bundleForm.bundleFolderId=this.dialog.changeFolder.tree.current.id,this.bundleForm.bundleFolderName=this.dialog.changeFolder.tree.current.name,this.handleChangeFolderClose()},currentTreeNodeChange:function(e,t){this.dialog.changeFolder.tree.current=e},treeNodeAppend:function(e,t){this.dialog.addFolder.parent=t,this.dialog.addFolder.parentNode=e,this.dialog.addFolder.visible=!0},handleAddFolderClose:function(){this.dialog.addFolder.parent="",this.dialog.addFolder.parentNode="",this.dialog.addFolder.visible=!1,this.dialog.addFolder.folderName="",this.dialog.addFolder.toLdap="否"},handleAddFolderCommit:function(){var e=this;Object(C.b)({name:e.dialog.addFolder.folderName,parentId:e.dialog.addFolder.parent.id,toLdap:"是"===e.dialog.addFolder.toLdap}).then(function(t){e.dialog.addFolder.parent.children=e.dialog.addFolder.parent.children||[],t.errMsg||(e.dialog.addFolder.parent.children.push(t.folder),e.$refs.changeFolderTree.append(t.folder,e.dialog.addFolder.parentNode),e.handleAddFolderClose())})},handleSelectLayerNode:function(){this.$refs.selectLayerNode.show()},layerNodeSelected:function(e,t){this.bundleForm.accessNodeUid=e.nodeUid,t()}},mounted:function(){var e=this;this.$nextTick(function(){e.$parent.$parent.$parent.$parent.$parent.setActive("/LwLocalBundleManage")}),this.getDeviceModels()}},X={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("section",[l("el-tabs",{staticStyle:{float:"left",width:"100%"},on:{"tab-click":e.handleTabClick},model:{value:e.activeTabName,callback:function(t){e.activeTabName=t},expression:"activeTabName"}},[l("el-tab-pane",{attrs:{label:"资源列表",name:"LwLocalBundleManage"}}),e._v(" "),l("el-tab-pane",{attrs:{label:"添加资源",name:"LwAddBundle"}})],1),e._v(" "),l("el-form",{ref:"bundleForm",attrs:{model:e.bundleForm,rules:e.rules,"label-width":"100px"}},[l("el-form-item",{attrs:{size:"small",label:"设备形态",prop:"deviceModel"}},[l("el-select",{staticStyle:{width:"200px"},attrs:{size:"small"},model:{value:e.bundleForm.deviceModel,callback:function(t){e.$set(e.bundleForm,"deviceModel",t)},expression:"bundleForm.deviceModel"}},e._l(e.deviceModelOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"jv210"==e.bundleForm.deviceModel,expression:"bundleForm.deviceModel=='jv210'"}],attrs:{size:"small",label:"编解码类型",prop:"coderType"}},[l("el-select",{staticStyle:{width:"200px"},model:{value:e.bundleForm.coderType,callback:function(t){e.$set(e.bundleForm,"coderType",t)},expression:"bundleForm.coderType"}},e._l(e.coderTypeOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"ws"==e.bundleForm.deviceModel,expression:"bundleForm.deviceModel=='ws'"}],attrs:{size:"small",label:"编解码类型",prop:"coderType"}},[l("el-select",{staticStyle:{width:"200px"},model:{value:e.bundleForm.coderType,callback:function(t){e.$set(e.bundleForm,"coderType",t)},expression:"bundleForm.coderType"}},e._l(e.wsTypeOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{size:"small",label:"别名",prop:"bundleAlias"}},[l("el-input",{staticStyle:{width:"200px"},model:{value:e.bundleForm.bundleAlias,callback:function(t){e.$set(e.bundleForm,"bundleAlias",t)},expression:"bundleForm.bundleAlias"}})],1),e._v(" "),l("el-form-item",{attrs:{size:"small",label:"地点",prop:"bundleAlias"}},[l("el-input",{staticStyle:{width:"200px"},model:{value:e.bundleForm.location,callback:function(t){e.$set(e.bundleForm,"location",t)},expression:"bundleForm.location"}})],1),e._v(" "),l("el-form-item",{attrs:{size:"small",label:"设备名称",prop:"bundleName"}},[l("el-input",{staticStyle:{width:"200px"},model:{value:e.bundleForm.bundleName,callback:function(t){e.$set(e.bundleForm,"bundleName",t)},expression:"bundleForm.bundleName"}})],1),e._v(" "),l("el-form-item",{attrs:{size:"small",label:"设备分组",prop:"bundleFolderName"}},[l("el-input",{staticStyle:{width:"200px"},attrs:{readOnly:""},nativeOn:{click:function(t){return e.handleChangeFolder(t)}},model:{value:e.bundleForm.bundleFolderName,callback:function(t){e.$set(e.bundleForm,"bundleFolderName",t)},expression:"bundleForm.bundleFolderName"}})],1),e._v(" "),l("el-form-item",{attrs:{size:"small",label:"设备账号",prop:"username"}},[l("el-input",{staticStyle:{width:"200px"},model:{value:e.bundleForm.username,callback:function(t){e.$set(e.bundleForm,"username",t)},expression:"bundleForm.username"}})],1),e._v(" "),l("el-form-item",{attrs:{size:"small",label:"设备密码",prop:"onlinePassword"}},[l("el-input",{staticStyle:{width:"200px"},attrs:{type:"password","auto-complete":"off"},model:{value:e.bundleForm.onlinePassword,callback:function(t){e.$set(e.bundleForm,"onlinePassword",t)},expression:"bundleForm.onlinePassword"}})],1),e._v(" "),l("el-form-item",{attrs:{size:"small",label:"确认密码",prop:"checkPass"}},[l("el-input",{staticStyle:{width:"200px"},attrs:{type:"password","auto-complete":"off"},model:{value:e.bundleForm.checkPass,callback:function(t){e.$set(e.bundleForm,"checkPass",t)},expression:"bundleForm.checkPass"}})],1),e._v(" "),l("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"jv210"==e.bundleForm.deviceModel||"ws"==e.bundleForm.deviceModel,expression:"bundleForm.deviceModel=='jv210' || bundleForm.deviceModel=='ws'"}],attrs:{size:"small",label:"接入层UID",prop:"accessNodeUid"}},[l("el-input",{staticStyle:{width:"200px"},attrs:{readOnly:""},nativeOn:{click:function(t){return e.handleSelectLayerNode(t)}},model:{value:e.bundleForm.accessNodeUid,callback:function(t){e.$set(e.bundleForm,"accessNodeUid",t)},expression:"bundleForm.accessNodeUid"}})],1),e._v(" "),l("el-form-item",{attrs:{size:"small",label:"设备IP"}},[l("el-input",{staticStyle:{width:"200px"},model:{value:e.bundleForm.deviceAddr.deviceIp,callback:function(t){e.$set(e.bundleForm.deviceAddr,"deviceIp",t)},expression:"bundleForm.deviceAddr.deviceIp"}})],1),e._v(" "),l("el-form-item",{attrs:{size:"small",label:"设备端口"}},[l("el-input",{staticStyle:{width:"200px"},model:{value:e.bundleForm.deviceAddr.devicePort,callback:function(t){e.$set(e.bundleForm.deviceAddr,"devicePort",t)},expression:"bundleForm.deviceAddr.devicePort"}})],1),e._v(" "),l("el-form-item",{attrs:{size:"small",label:"编码组播"}},[l("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.bundleForm.multicastEncode,callback:function(t){e.$set(e.bundleForm,"multicastEncode",t)},expression:"bundleForm.multicastEncode"}})],1),e._v(" "),l("el-form-item",{attrs:{size:"small",label:"编码组播地址"}},[e.bundleForm.multicastEncode?l("el-input",{staticStyle:{width:"200px"},model:{value:e.bundleForm.multicastEncodeAddr,callback:function(t){e.$set(e.bundleForm,"multicastEncodeAddr",t)},expression:"bundleForm.multicastEncodeAddr"}}):l("el-input",{staticStyle:{width:"200px"},attrs:{disabled:""},model:{value:e.bundleForm.multicastEncodeAddr,callback:function(t){e.$set(e.bundleForm,"multicastEncodeAddr",t)},expression:"bundleForm.multicastEncodeAddr"}})],1),e._v(" "),l("el-form-item",{attrs:{size:"small",label:"解码组播"}},[l("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.bundleForm.multicastDecode,callback:function(t){e.$set(e.bundleForm,"multicastDecode",t)},expression:"bundleForm.multicastDecode"}})],1),e._v(" "),l("el-form-item",{attrs:{size:"small",label:"是否转码"}},[l("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.bundleForm.transcod,callback:function(t){e.$set(e.bundleForm,"transcod",t)},expression:"bundleForm.transcod"}})],1),e._v(" "),l("el-form-item",{attrs:{size:"small",label:"源组播Ip"}},[l("el-input",{staticStyle:{width:"200px"},model:{value:e.bundleForm.deviceAddr.multicastSourceIp,callback:function(t){e.$set(e.bundleForm.deviceAddr,"multicastSourceIp",t)},expression:"bundleForm.deviceAddr.multicastSourceIp"}})],1),e._v(" "),l("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"ipc"==e.bundleForm.deviceModel||"speaker"==e.bundleForm.deviceModel,expression:"bundleForm.deviceModel=='ipc' || bundleForm.deviceModel=='speaker'"}],attrs:{size:"small",label:"坐标经度(°)",prop:"longitude"}},[l("el-input",{staticStyle:{width:"200px"},model:{value:e.bundleForm.longitude,callback:function(t){e.$set(e.bundleForm,"longitude",t)},expression:"bundleForm.longitude"}})],1),e._v(" "),l("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"ipc"==e.bundleForm.deviceModel||"speaker"==e.bundleForm.deviceModel,expression:"bundleForm.deviceModel=='ipc' || bundleForm.deviceModel=='speaker'"}],attrs:{size:"small",label:"坐标纬度(°)",prop:"latitude"}},[l("el-input",{staticStyle:{width:"200px"},model:{value:e.bundleForm.latitude,callback:function(t){e.$set(e.bundleForm,"latitude",t)},expression:"bundleForm.latitude"}})],1),e._v(" "),l("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"ipc"==e.bundleForm.deviceModel,expression:"bundleForm.deviceModel=='ipc'"}],attrs:{size:"small",label:"流地址",prop:"streamUrl"}},[l("el-input",{staticStyle:{width:"200px"},model:{value:e.bundleForm.streamUrl,callback:function(t){e.$set(e.bundleForm,"streamUrl",t)},expression:"bundleForm.streamUrl"}})],1),e._v(" "),l("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"speaker"==e.bundleForm.deviceModel,expression:"bundleForm.deviceModel=='speaker'"}],attrs:{size:"small",label:"标识",prop:"identify"}},[l("el-input",{staticStyle:{width:"200px"},model:{value:e.bundleForm.identify,callback:function(t){e.$set(e.bundleForm,"identify",t)},expression:"bundleForm.identify"}})],1),e._v(" "),l("el-button",{staticStyle:{"margin-top":"10px","margin-left":"30px"},attrs:{type:"info",size:"small"},on:{click:e.addExtraInfo}},[e._v("新增扩展字段")]),e._v(" "),e._l(e.extraInfos,function(t,a){return l("div",{staticStyle:{"margin-top":"10px","margin-left":"30px"}},[l("el-input",{staticStyle:{width:"180px"},attrs:{size:"small",placeholder:"扩展字段名"},model:{value:t.name,callback:function(l){e.$set(t,"name",l)},expression:"extraInfo.name"}}),e._v(" "),l("el-input",{staticStyle:{width:"180px","margin-left":"10px"},attrs:{size:"small",placeholder:"扩展字段值"},model:{value:t.value,callback:function(l){e.$set(t,"value",l)},expression:"extraInfo.value"}}),e._v(" "),l("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"danger"},on:{click:function(l){return l.preventDefault(),e.remove(t)}}},[e._v("删除")])],1)}),e._v(" "),l("div",{staticStyle:{"margin-top":"30px","margin-left":"30px"}},[l("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.submit()}}},[e._v("提交")]),e._v(" "),l("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.reset()}}},[e._v("重置")])],1)],2),e._v(" "),[l("el-dialog",{attrs:{title:"选择分组",visible:e.dialog.changeFolder.visible,width:"650px","before-close":e.handleChangeFolderClose},on:{"update:visible":function(t){return e.$set(e.dialog.changeFolder,"visible",t)}}},[l("div",{staticStyle:{height:"500px",position:"relative"}},[l("el-scrollbar",{staticStyle:{height:"100%"}},[l("el-tree",{ref:"changeFolderTree",attrs:{props:e.dialog.changeFolder.tree.props,data:e.dialog.changeFolder.tree.data,"node-key":"id","check-strictly":"","expand-on-click-node":!1,"default-expand-all":"","highlight-current":""},on:{"current-change":e.currentTreeNodeChange},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.node,n=t.data;return l("span",{staticStyle:{flex:"1",display:"flex","align-items":"center","justify-content":"space-between","padding-right":"8px"}},[l("span",{staticStyle:{"font-size":"14px"}},[l("span",{staticClass:"icon-folder-close"}),e._v(" "),l("span",[e._v(e._s(n.name))])]),e._v(" "),l("span",[l("el-button",{staticStyle:{padding:"0"},attrs:{type:"text",size:"mini"},on:{click:function(t){return t.stopPropagation(),e.treeNodeAppend(a,n)}}},[l("span",{staticClass:"icon-plus",staticStyle:{"font-size":"16px"}})])],1)])}}])})],1)],1),e._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{size:"medium"},on:{click:e.handleChangeFolderClose}},[e._v("取消")]),e._v(" "),l("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.handleChangeFolderCommit}},[e._v("确定")])],1)]),e._v(" "),l("el-dialog",{attrs:{title:"添加分组",visible:e.dialog.addFolder.visible,width:"450px","before-close":e.handleAddFolderClose},on:{"update:visible":function(t){return e.$set(e.dialog.addFolder,"visible",t)}}},[l("el-form",{attrs:{"label-width":"110px"}},[l("el-form-item",{attrs:{label:"分组名称"}},[l("el-input",{model:{value:e.dialog.addFolder.folderName,callback:function(t){e.$set(e.dialog.addFolder,"folderName",t)},expression:"dialog.addFolder.folderName"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"是否同步ldap"}},[l("el-select",{model:{value:e.dialog.addFolder.toLdap,callback:function(t){e.$set(e.dialog.addFolder,"toLdap",t)},expression:"dialog.addFolder.toLdap"}},[l("el-option",{key:"是",attrs:{label:"是",value:"是"}},[e._v("\n              是\n            ")]),e._v(" "),l("el-option",{key:"否",attrs:{label:"否",value:"否"}},[e._v("\n              否\n            ")])],1)],1)],1),e._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{size:"medium"},on:{click:e.handleAddFolderClose}},[e._v("取消")]),e._v(" "),l("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.handleAddFolderCommit}},[e._v("确定")])],1)],1)],e._v(" "),[l("selectLayerNode",{ref:"selectLayerNode",on:{"layer-node-selected":e.layerNodeSelected}})]],2)},staticRenderFns:[]};var q=l("VU/8")(Q,X,!1,function(e){l("M28+")},"data-v-b15e2ad8",null).exports,K={name:"LwModifyBundle",data:function(){var e;return e={activeTabName:"LwModifyBundle",bundleId:this.$route.query.bundleId,bundleName:this.$route.query.bundleName,location:this.$route.query.location,deviceIp:this.$route.query.deviceIp,devicePort:this.$route.query.devicePort,multicastEncode:this.$route.query.multicastEncode,multicastEncodeAddr:this.$route.query.multicastEncodeAddr,multicastDecode:this.$route.query.multicastDecode,extraInfos:[],bundleFolderId:this.$route.query.bundleFolderId,bundleFolderName:this.$route.query.bundleFolderName,transcod:this.$route.query.transcod,multicastSourceIp:this.$route.query.multicastSourceIp},w()(e,"extraInfos",[]),w()(e,"dialog",{changeFolder:{visible:!1,tree:{props:{label:"name",children:"children"},expandOnClickNode:!1,data:[],current:""}},addFolder:{visible:!1,parent:"",parentNode:"",folderName:"",toLdap:"否"}}),e},methods:{handleTabClick:function(e,t){"LwModifyBundle"!==e.name&&this.$router.push("/"+e.name)},queryBundleExtraInfo:function(){var e=this,t={bundleId:this.bundleId};Object(C.W)(t).then(function(t){t.errMsg?e.$message({message:t.errMsg,type:"error"}):e.extraInfos=t.extraInfos})},addExtraInfo:function(){this.extraInfos.push({})},remove:function(e){var t=this.extraInfos.indexOf(e);-1!==t&&this.extraInfos.splice(t,1)},submit:function(){var e=this;if(this.validateExtraInfo()){var t={bundleId:this.bundleId,bundleName:this.bundleName,location:this.location,bundleFolderId:this.bundleFolderId,deviceIp:this.deviceIp,devicePort:this.devicePort,multicastEncode:this.multicastEncode,multicastEncodeAddr:this.multicastEncodeAddr,multicastDecode:this.multicastDecode,transcod:this.transcod,multicastSourceIp:this.multicastSourceIp,extraInfos:P()(this.extraInfos)};Object(C.S)(t).then(function(t){t.errMsg?e.$message({message:t.errMsg,type:"error"}):e.$message({message:"修改成功",type:"success"})})}},validateExtraInfo:function(){var e=!0,t=!1,l=void 0;try{for(var a,n=L()(this.extraInfos);!(e=(a=n.next()).done);e=!0){var r=a.value;if(!r.name||!r.value)return this.$message({message:"扩展字段不能为空",type:"error"}),!1}}catch(e){t=!0,l=e}finally{try{!e&&n.return&&n.return()}finally{if(t)throw l}}return!0},handleChangeFolder:function(){var e=this;e.dialog.changeFolder.visible=!0,Object(C._2)().then(function(t){if(200===t.status){if(e.dialog.changeFolder.tree.data.splice(0,e.dialog.changeFolder.tree.data.length),t.data&&t.data.length>0)for(var l=0;l<t.data.length;l++)e.dialog.changeFolder.tree.data.push(t.data[l])}else e.$message({type:"error",message:t.message})})},handleChangeFolderClose:function(){this.dialog.changeFolder.visible=!1,this.dialog.changeFolder.tree.data.splice(0,this.dialog.changeFolder.tree.data.length),this.dialog.changeFolder.tree.current=""},handleChangeFolderCommit:function(){console.log(this.dialog.changeFolder),this.bundleFolderId=this.dialog.changeFolder.tree.current.id,this.bundleFolderName=this.dialog.changeFolder.tree.current.name,this.handleChangeFolderClose()},currentTreeNodeChange:function(e,t){this.dialog.changeFolder.tree.current=e},treeNodeAppend:function(e,t){this.dialog.addFolder.parent=t,this.dialog.addFolder.parentNode=e,this.dialog.addFolder.visible=!0},handleAddFolderClose:function(){this.dialog.addFolder.parent="",this.dialog.addFolder.parentNode="",this.dialog.addFolder.visible=!1,this.dialog.addFolder.folderName="",this.dialog.addFolder.toLdap="否"},handleAddFolderCommit:function(){var e=this;addFolder({name:e.dialog.addFolder.folderName,parentId:e.dialog.addFolder.parent.id,toLdap:"是"===e.dialog.addFolder.toLdap}).then(function(t){e.dialog.addFolder.parent.children=e.dialog.addFolder.parent.children||[],t.errMsg||(e.dialog.addFolder.parent.children.push(t.folder),e.$refs.changeFolderTree.append(t.folder,e.dialog.addFolder.parentNode),e.handleAddFolderClose())})},handleSelectLayerNode:function(){this.$refs.selectLayerNode.show()},layerNodeSelected:function(e,t){this.bundleForm.accessNodeUid=e.nodeUid,t()}},mounted:function(){this.queryBundleExtraInfo(),this.row=JSON.parse(sessionStorage.getItem("row"))}},ee={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("section",[l("el-tabs",{staticStyle:{float:"left",width:"100%"},on:{"tab-click":e.handleTabClick},model:{value:e.activeTabName,callback:function(t){e.activeTabName=t},expression:"activeTabName"}},[l("el-tab-pane",{attrs:{label:"资源列表",name:"LwLocalBundleManage"}}),e._v(" "),l("el-tab-pane",{attrs:{label:"修改资源",name:"LwModifyBundle"}})],1),e._v(" "),l("el-form",{attrs:{"label-width":"100px"}},[l("el-form-item",{attrs:{size:"small",label:"设备名称",prop:"bundleName"}},[l("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"输入新的设备名称"},model:{value:e.bundleName,callback:function(t){e.bundleName=t},expression:"bundleName"}})],1),e._v(" "),l("el-form-item",{attrs:{size:"small",label:"设备IP",prop:"deviceIp"}},[l("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"输入新的设备IP"},model:{value:e.deviceIp,callback:function(t){e.deviceIp=t},expression:"deviceIp"}})],1),e._v(" "),l("el-form-item",{attrs:{size:"small",label:"地点",prop:"bundleAlias"}},[l("el-input",{staticStyle:{width:"200px"},model:{value:e.location,callback:function(t){e.location=t},expression:"location"}})],1),e._v(" "),l("el-form-item",{attrs:{size:"small",label:"设备端口",prop:"devicePort"}},[l("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"输入新的设备端口"},model:{value:e.devicePort,callback:function(t){e.devicePort=t},expression:"devicePort"}})],1),e._v(" "),l("el-form-item",{attrs:{size:"small",label:"编码组播"}},[l("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.multicastEncode,callback:function(t){e.multicastEncode=t},expression:"multicastEncode"}})],1),e._v(" "),l("el-form-item",{attrs:{size:"small",label:"编码组播地址"}},[e.multicastEncode?l("el-input",{staticStyle:{width:"200px"},model:{value:e.multicastEncodeAddr,callback:function(t){e.multicastEncodeAddr=t},expression:"multicastEncodeAddr"}}):l("el-input",{staticStyle:{width:"200px"},attrs:{disabled:""},model:{value:e.multicastEncodeAddr,callback:function(t){e.multicastEncodeAddr=t},expression:"multicastEncodeAddr"}})],1),e._v(" "),l("el-form-item",{attrs:{size:"small",label:"解码组播"}},[l("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.multicastDecode,callback:function(t){e.multicastDecode=t},expression:"multicastDecode"}})],1),e._v(" "),l("el-form-item",{attrs:{size:"small",label:"是否转码"}},[l("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.transcod,callback:function(t){e.transcod=t},expression:"transcod"}})],1),e._v(" "),l("el-form-item",{attrs:{size:"small",label:"源组播Ip"}},[l("el-input",{staticStyle:{width:"200px"},model:{value:e.multicastSourceIp,callback:function(t){e.multicastSourceIp=t},expression:"multicastSourceIp"}})],1),e._v(" "),l("el-form-item",{attrs:{size:"small",label:"设备分组",prop:"bundleFolderName"}},[l("el-input",{staticStyle:{width:"200px"},attrs:{readOnly:""},nativeOn:{click:function(t){return e.handleChangeFolder(t)}},model:{value:e.bundleFolderName,callback:function(t){e.bundleFolderName=t},expression:"bundleFolderName"}})],1),e._v(" "),l("el-button",{staticStyle:{"margin-top":"20px","margin-left":"30px"},attrs:{type:"info",size:"small"},on:{click:e.addExtraInfo}},[e._v("新增扩展字段")]),e._v(" "),e._l(e.extraInfos,function(t,a){return l("div",{staticStyle:{"margin-top":"10px"}},[l("el-input",{staticStyle:{width:"180px"},attrs:{size:"small",placeholder:"扩展字段名"},model:{value:t.name,callback:function(l){e.$set(t,"name",l)},expression:"extraInfo.name"}}),e._v(" "),l("el-input",{staticStyle:{width:"180px","margin-left":"10px"},attrs:{size:"small",placeholder:"扩展字段值"},model:{value:t.value,callback:function(l){e.$set(t,"value",l)},expression:"extraInfo.value"}}),e._v(" "),l("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"danger"},on:{click:function(l){return l.preventDefault(),e.remove(t)}}},[e._v("删除")])],1)}),e._v(" "),l("div",{staticStyle:{"margin-top":"30px","margin-left":"30px"}},[l("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.submit}},[e._v("提交")])],1)],2),e._v(" "),[l("el-dialog",{attrs:{title:"选择分组",visible:e.dialog.changeFolder.visible,width:"650px","before-close":e.handleChangeFolderClose},on:{"update:visible":function(t){return e.$set(e.dialog.changeFolder,"visible",t)}}},[l("div",{staticStyle:{height:"500px",position:"relative"}},[l("el-scrollbar",{staticStyle:{height:"100%"}},[l("el-tree",{ref:"changeFolderTree",attrs:{props:e.dialog.changeFolder.tree.props,data:e.dialog.changeFolder.tree.data,"node-key":"id","check-strictly":"","expand-on-click-node":!1,"default-expand-all":"","highlight-current":""},on:{"current-change":e.currentTreeNodeChange},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.node,n=t.data;return l("span",{staticStyle:{flex:"1",display:"flex","align-items":"center","justify-content":"space-between","padding-right":"8px"}},[l("span",{staticStyle:{"font-size":"14px"}},[l("span",{staticClass:"icon-folder-close"}),e._v(" "),l("span",[e._v(e._s(n.name))])]),e._v(" "),l("span",[l("el-button",{staticStyle:{padding:"0"},attrs:{type:"text",size:"mini"},on:{click:function(t){return t.stopPropagation(),e.treeNodeAppend(a,n)}}},[l("span",{staticClass:"icon-plus",staticStyle:{"font-size":"16px"}})])],1)])}}])})],1)],1),e._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{size:"medium"},on:{click:e.handleChangeFolderClose}},[e._v("取消")]),e._v(" "),l("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.handleChangeFolderCommit}},[e._v("确定")])],1)]),e._v(" "),l("el-dialog",{attrs:{title:"添加分组",visible:e.dialog.addFolder.visible,width:"450px","before-close":e.handleAddFolderClose},on:{"update:visible":function(t){return e.$set(e.dialog.addFolder,"visible",t)}}},[l("el-form",{attrs:{"label-width":"110px"}},[l("el-form-item",{attrs:{label:"分组名称"}},[l("el-input",{model:{value:e.dialog.addFolder.folderName,callback:function(t){e.$set(e.dialog.addFolder,"folderName",t)},expression:"dialog.addFolder.folderName"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"是否同步ldap"}},[l("el-select",{model:{value:e.dialog.addFolder.toLdap,callback:function(t){e.$set(e.dialog.addFolder,"toLdap",t)},expression:"dialog.addFolder.toLdap"}},[l("el-option",{key:"是",attrs:{label:"是",value:"是"}},[e._v("\n              是\n            ")]),e._v(" "),l("el-option",{key:"否",attrs:{label:"否",value:"否"}},[e._v("\n              否\n            ")])],1)],1)],1),e._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{size:"medium"},on:{click:e.handleAddFolderClose}},[e._v("取消")]),e._v(" "),l("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.handleAddFolderCommit}},[e._v("确定")])],1)],1)]],2)},staticRenderFns:[]};var te=l("VU/8")(K,ee,!1,function(e){l("62G/")},"data-v-59e47987",null).exports,le={name:"ConfigBundle",data:function(){return{activeTabName:"LwConfigBundle",bundleId:this.$route.query.bundleId,templateTree:[],treeProps:{children:"children",label:"label"},configChannels:[],configEditableAttrs:[]}},methods:{handleTabClick:function(e,t){"LwConfigBundle"!==e.name&&this.$router.push("/"+e.name)},displayBundleAbility:function(e){var t=this,l={bundleId:this.bundleId};Object(C.x)(l).then(function(e){e.errMsg?t.$message({message:e.errMsg,type:"error"}):(t.templateTree=e.tree,t.configChannels=e.configChannels,t.configEditableAttrs=e.configEditableAttrs)})},submit:function(){var e=this,t={bundleId:this.bundleId,configChannels:P()(this.configChannels),configEditableAttrs:P()(this.configEditableAttrs)};Object(C.l)(t).then(function(t){t.errMsg?e.$message({message:t.errMsg,type:"error"}):e.$message({message:"配置成功",type:"success"})})}},mounted:function(){this.displayBundleAbility()}},ae={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("section",[l("el-tabs",{staticStyle:{float:"left",width:"100%"},on:{"tab-click":e.handleTabClick},model:{value:e.activeTabName,callback:function(t){e.activeTabName=t},expression:"activeTabName"}},[l("el-tab-pane",{attrs:{label:"资源列表",name:"LwBundleManage"}}),e._v(" "),l("el-tab-pane",{attrs:{label:"能力配置",name:"LwConfigBundle"}})],1),e._v(" "),l("el-card",{staticStyle:{float:"left","margin-left":"50px","margin-top":"10px",width:"40%","min-height":"700px"},attrs:{"body-style":"padding:0px"}},[l("div",{staticStyle:{height:"15px"},attrs:{slot:"header"},slot:"header"},[l("span",{staticStyle:{float:"left","font-size":"18px"}},[e._v("模板属性")])]),e._v(" "),l("el-tree",{attrs:{data:e.templateTree,props:e.treeProps,"node-key":"label","default-expanded-keys":["channels"]}})],1),e._v(" "),l("el-card",{staticStyle:{float:"left","margin-top":"10px",width:"50%","min-height":"700px"},attrs:{"body-style":"padding:0px"}},[l("div",{staticStyle:{height:"15px"},attrs:{slot:"header"},slot:"header"},[l("span",{staticStyle:{float:"left","font-size":"18px"}},[e._v("配置")])]),e._v(" "),e._l(e.configChannels,function(t,a){return l("div",{staticStyle:{"margin-top":"10px"}},[l("el-input",{attrs:{placeholder:"请输入整数"},model:{value:t.channelCnt,callback:function(l){e.$set(t,"channelCnt",l)},expression:"channel.channelCnt"}},[l("template",{slot:"prepend"},[e._v(e._s(t.channelName)+" 通道数")])],2)],1)}),e._v(" "),e._l(e.configEditableAttrs,function(t,a){return l("div",{staticStyle:{"margin-top":"10px"}},[l("el-input",{attrs:{placeholder:"请输入字段值"},model:{value:t.value,callback:function(l){e.$set(t,"value",l)},expression:"editableAttr.value"}},[l("template",{slot:"prepend"},[e._v(e._s(t.name))])],2)],1)}),e._v(" "),l("div",{staticStyle:{"margin-top":"50px"}},[l("el-button",{staticStyle:{"margin-left":"300px"},attrs:{type:"primary"},on:{click:e.submit}},[e._v("提交")])],1)],2)],1)},staticRenderFns:[]};var ne=l("VU/8")(le,ae,!1,function(e){l("iftH")},"data-v-1aebb138",null).exports,re=l("nvbp"),ie=l.n(re),oe={data:function(){var e;return e={treeData:[],folderTreeSelected:{value:"",label:""},defaultProps:{children:"children",label:"name"},defaultExpandAll:!1,expandOnClickNode:!1,activeTabName:"BindRoleResource",deviceModelOptions:[],roles:[],currentRoleRow:null,resources:[],bindTypeOptions:[{value:"all",label:"全部"},{value:"binded",label:"已绑定"},{value:"unbinded",label:"未绑定"}]},w()(e,"deviceModelOptions",[]),w()(e,"filters",{deviceModel:"",keyword:"",bindType:"all",countPerPage:""}),w()(e,"total",0),w()(e,"pageNum",1),w()(e,"countPerPage",20),w()(e,"roleTableLoading",!1),w()(e,"resourceTableLoading",!1),w()(e,"prevReadChecks",[]),w()(e,"prevWriteChecks",[]),w()(e,"prevCloudChecks",[]),w()(e,"prevDownloadChecks",[]),w()(e,"prevLocalReadChecks",[]),w()(e,"prevHJChecks",[]),w()(e,"prevZKChecks",[]),w()(e,"prevHYChecks",[]),w()(e,"readChecks",[]),w()(e,"writeChecks",[]),w()(e,"cloudChecks",[]),w()(e,"downloadChecks",[]),w()(e,"LocalReadChecks",[]),w()(e,"HJchecks",[]),w()(e,"ZKchecks",[]),w()(e,"HYchecks",[]),w()(e,"detailDialogVisible",!1),w()(e,"detailInfos",[]),w()(e,"users",[]),w()(e,"userTableLoading",!1),w()(e,"resourceTableShow",!0),w()(e,"userTableShow",!1),w()(e,"checkReadAll",!1),w()(e,"checkWriteAll",!1),w()(e,"checkCloudAll",!1),w()(e,"checkHJAll",!1),w()(e,"checkZKAll",!1),w()(e,"checkHYAll",!1),w()(e,"checkDownLoadAll",!1),w()(e,"checkLocalReadAll",!1),e},methods:{dataFilter:function(e){this.$refs.tree.filter(e)},filterNode:function(e,t){return!e||-1!==t.name.indexOf(e)},initTree:function(e){var t=this;Object(C.N)().then(function(e){e.errMsg?t.$message({message:e.errMsg,type:"error"}):t.treeData=t.treeData.concat(e.tree)})},handleNodeClick:function(e){this.folderTreeSelected.value=e.id,this.folderTreeSelected.label=e.name,this.$refs.selectTree.blur()},clearHandle:function(){this.folderTreeSelected.value="",this.folderTreeSelected.label="",this.$refs.tree.filter("")},handleTabClick:function(e,t){"BindResource"!==e.name&&this.$router.push("/"+e.name)},handleRoleTableRowChange:function(e){this.currentRoleRow=e,this.resourceTableShow?this.getResources():this.userTableShow&&this.getUsers()},renderCheckReadHeader:function(e,t){var l=this;return e("el-checkbox",ie()([{attrs:{value:l.checkReadAll},on:{input:function(e){l.checkReadAll=e}}},{directives:[{name:"model",value:l.checkReadAll}]},{on:{change:this.handleCheckReadAllChange}}]),["服务端录制"])},renderCheckWriteHeader:function(e,t){var l=this;return e("el-checkbox",ie()([{attrs:{value:l.checkWriteAll},on:{input:function(e){l.checkWriteAll=e}}},{directives:[{name:"model",value:l.checkWriteAll}]},{on:{change:this.handleCheckWriteAllChange}}]),["点播"])},renderCheckCloudHeader:function(e,t){var l=this;return e("el-checkbox",ie()([{attrs:{value:l.checkCloudAll},on:{input:function(e){l.checkCloudAll=e}}},{directives:[{name:"model",value:l.checkCloudAll}]},{on:{change:this.handleCheckCloudAllChange}}]),["云台"])},renderCheckDownLoadHeader:function(e,t){var l=this;return e("el-checkbox",ie()([{attrs:{value:l.checkDownLoadAll},on:{input:function(e){l.checkDownLoadAll=e}}},{directives:[{name:"model",value:l.checkDownLoadAll}]},{on:{change:this.handleCheckDownLoadAllChange}}]),["下载"])},renderCheckLocalReadHeader:function(e,t){var l=this;return e("el-checkbox",ie()([{attrs:{value:l.checkLocalReadAll},on:{input:function(e){l.checkLocalReadAll=e}}},{directives:[{name:"model",value:l.checkLocalReadAll}]},{on:{change:this.handleCheckLocalReadAllChange}}]),["本地录制"])},renderCheckHJHeader:function(e,t){var l=this;return e("el-checkbox",ie()([{attrs:{value:l.checkHJAll},on:{input:function(e){l.checkHJAll=e}}},{directives:[{name:"model",value:l.checkHJAll}]},{on:{change:this.handleCheckHJAllChange}}]),["呼叫"])},renderCheckZKHeader:function(e,t){var l=this;return e("el-checkbox",ie()([{attrs:{value:l.checkZKAll},on:{input:function(e){l.checkZKAll=e}}},{directives:[{name:"model",value:l.checkZKAll}]},{on:{change:this.handleCheckZKAllChange}}]),["指挥"])},renderCheckHYHeader:function(e,t){var l=this;return e("el-checkbox",ie()([{attrs:{value:l.checkHYAll},on:{input:function(e){l.checkHYAll=e}}},{directives:[{name:"model",value:l.checkHYAll}]},{on:{change:this.handleCheckHYAllChange}}]),["会议"])},handleCheckReadAllChange:function(e){if(this.resourceTableShow)if(e){var t=!0,l=!1,a=void 0;try{for(var n,r=L()(this.resources);!(t=(n=r.next()).done);t=!0){var i=n.value;this.readChecks.push(i.bundleId),i.hasReadPrivilege=!0}}catch(e){l=!0,a=e}finally{try{!t&&r.return&&r.return()}finally{if(l)throw a}}}else{this.readChecks=[];var o=!0,s=!1,d=void 0;try{for(var c,u=L()(this.resources);!(o=(c=u.next()).done);o=!0){c.value.hasReadPrivilege=!1}}catch(e){s=!0,d=e}finally{try{!o&&u.return&&u.return()}finally{if(s)throw d}}}else if(this.userTableShow)if(e){var h=!0,p=!1,m=void 0;try{for(var f,v=L()(this.users);!(h=(f=v.next()).done);h=!0){var b=f.value;this.readChecks.push(b.userNo),b.hasReadPrivilege=!0}}catch(e){p=!0,m=e}finally{try{!h&&v.return&&v.return()}finally{if(p)throw m}}}else{this.readChecks=[];var g=!0,y=!1,k=void 0;try{for(var w,C=L()(this.users);!(g=(w=C.next()).done);g=!0){w.value.hasReadPrivilege=!1}}catch(e){y=!0,k=e}finally{try{!g&&C.return&&C.return()}finally{if(y)throw k}}}},handleCheckWriteAllChange:function(e){if(this.resourceTableShow)if(e){var t=!0,l=!1,a=void 0;try{for(var n,r=L()(this.resources);!(t=(n=r.next()).done);t=!0){var i=n.value;this.writeChecks.push(i.bundleId),i.hasWritePrivilege=!0}}catch(e){l=!0,a=e}finally{try{!t&&r.return&&r.return()}finally{if(l)throw a}}}else{this.writeChecks=[];var o=!0,s=!1,d=void 0;try{for(var c,u=L()(this.resources);!(o=(c=u.next()).done);o=!0){c.value.hasWritePrivilege=!1}}catch(e){s=!0,d=e}finally{try{!o&&u.return&&u.return()}finally{if(s)throw d}}}else if(this.userTableShow)if(e){var h=!0,p=!1,m=void 0;try{for(var f,v=L()(this.users);!(h=(f=v.next()).done);h=!0){var b=f.value;this.writeChecks.push(b.userNo),b.hasWritePrivilege=!0}}catch(e){p=!0,m=e}finally{try{!h&&v.return&&v.return()}finally{if(p)throw m}}}else{this.writeChecks=[];var g=!0,y=!1,k=void 0;try{for(var w,C=L()(this.users);!(g=(w=C.next()).done);g=!0){w.value.hasWritePrivilege=!1}}catch(e){y=!0,k=e}finally{try{!g&&C.return&&C.return()}finally{if(y)throw k}}}},handleCheckCloudAllChange:function(e){if(this.resourceTableShow)if(e){var t=!0,l=!1,a=void 0;try{for(var n,r=L()(this.resources);!(t=(n=r.next()).done);t=!0){var i=n.value;this.cloudChecks.push(i.bundleId),i.hasCloudPrivilege=!0}}catch(e){l=!0,a=e}finally{try{!t&&r.return&&r.return()}finally{if(l)throw a}}}else{this.cloudChecks=[];var o=!0,s=!1,d=void 0;try{for(var c,u=L()(this.resources);!(o=(c=u.next()).done);o=!0){c.value.hasCloudPrivilege=!1}}catch(e){s=!0,d=e}finally{try{!o&&u.return&&u.return()}finally{if(s)throw d}}}else if(this.userTableShow)if(e){var h=!0,p=!1,m=void 0;try{for(var f,v=L()(this.users);!(h=(f=v.next()).done);h=!0){var b=f.value;this.cloudChecks.push(b.userNo),b.hasCloudPrivilege=!0}}catch(e){p=!0,m=e}finally{try{!h&&v.return&&v.return()}finally{if(p)throw m}}}else{this.cloudChecks=[];var g=!0,y=!1,k=void 0;try{for(var w,C=L()(this.users);!(g=(w=C.next()).done);g=!0){w.value.hasCloudPrivilege=!1}}catch(e){y=!0,k=e}finally{try{!g&&C.return&&C.return()}finally{if(y)throw k}}}},handleCheckDownLoadAllChange:function(e){if(console.log(e),this.resourceTableShow)if(e){var t=!0,l=!1,a=void 0;try{for(var n,r=L()(this.resources);!(t=(n=r.next()).done);t=!0){var i=n.value;this.downloadChecks.push(i.bundleId),i.hasDownloadPrivilege=!0}}catch(e){l=!0,a=e}finally{try{!t&&r.return&&r.return()}finally{if(l)throw a}}}else{this.downloadChecks=[];var o=!0,s=!1,d=void 0;try{for(var c,u=L()(this.resources);!(o=(c=u.next()).done);o=!0){c.value.hasDownloadPrivilege=!1}}catch(e){s=!0,d=e}finally{try{!o&&u.return&&u.return()}finally{if(s)throw d}}}else if(this.userTableShow)if(e){var h=!0,p=!1,m=void 0;try{for(var f,v=L()(this.users);!(h=(f=v.next()).done);h=!0){var b=f.value;this.downloadChecks.push(b.userNo),b.hasDownloadPrivilege=!0}}catch(e){p=!0,m=e}finally{try{!h&&v.return&&v.return()}finally{if(p)throw m}}}else{this.downloadChecks=[];var g=!0,y=!1,k=void 0;try{for(var w,C=L()(this.users);!(g=(w=C.next()).done);g=!0){w.value.hasDownloadPrivilege=!1}}catch(e){y=!0,k=e}finally{try{!g&&C.return&&C.return()}finally{if(y)throw k}}}},handleCheckLocalReadAllChange:function(e){if(this.resourceTableShow)if(e){var t=!0,l=!1,a=void 0;try{for(var n,r=L()(this.resources);!(t=(n=r.next()).done);t=!0){var i=n.value;this.LocalReadChecks.push(i.bundleId),i.hasLocalReadPrivilege=!0}}catch(e){l=!0,a=e}finally{try{!t&&r.return&&r.return()}finally{if(l)throw a}}}else{this.LocalReadChecks=[];var o=!0,s=!1,d=void 0;try{for(var c,u=L()(this.resources);!(o=(c=u.next()).done);o=!0){c.value.hasLocalReadPrivilege=!1}}catch(e){s=!0,d=e}finally{try{!o&&u.return&&u.return()}finally{if(s)throw d}}}else if(this.userTableShow)if(e){var h=!0,p=!1,m=void 0;try{for(var f,v=L()(this.users);!(h=(f=v.next()).done);h=!0){var b=f.value;this.LocalReadChecks.push(b.userNo),b.hasLocalReadPrivilege=!0}}catch(e){p=!0,m=e}finally{try{!h&&v.return&&v.return()}finally{if(p)throw m}}}else{this.LocalReadChecks=[];var g=!0,y=!1,k=void 0;try{for(var w,C=L()(this.users);!(g=(w=C.next()).done);g=!0){w.value.hasLocalReadPrivilege=!1}}catch(e){y=!0,k=e}finally{try{!g&&C.return&&C.return()}finally{if(y)throw k}}}},handleCheckHJAllChange:function(e){if(this.userTableShow)if(e){var t=!0,l=!1,a=void 0;try{for(var n,r=L()(this.users);!(t=(n=r.next()).done);t=!0){var i=n.value;this.HJchecks.push(i.userNo),i.hasHJPrivilege=!0}}catch(e){l=!0,a=e}finally{try{!t&&r.return&&r.return()}finally{if(l)throw a}}}else{this.HJchecks=[];var o=!0,s=!1,d=void 0;try{for(var c,u=L()(this.users);!(o=(c=u.next()).done);o=!0){c.value.hasHJPrivilege=!1}}catch(e){s=!0,d=e}finally{try{!o&&u.return&&u.return()}finally{if(s)throw d}}}},handleCheckZKAllChange:function(e){if(this.userTableShow)if(e){var t=!0,l=!1,a=void 0;try{for(var n,r=L()(this.users);!(t=(n=r.next()).done);t=!0){var i=n.value;this.ZKchecks.push(i.userNo),i.hasZKPrivilege=!0}}catch(e){l=!0,a=e}finally{try{!t&&r.return&&r.return()}finally{if(l)throw a}}}else{this.ZKchecks=[];var o=!0,s=!1,d=void 0;try{for(var c,u=L()(this.users);!(o=(c=u.next()).done);o=!0){c.value.hasZKPrivilege=!1}}catch(e){s=!0,d=e}finally{try{!o&&u.return&&u.return()}finally{if(s)throw d}}}},handleCheckHYAllChange:function(e){if(this.userTableShow)if(e){var t=!0,l=!1,a=void 0;try{for(var n,r=L()(this.users);!(t=(n=r.next()).done);t=!0){var i=n.value;this.HYchecks.push(i.userNo),i.hasHYPrivilege=!0}}catch(e){l=!0,a=e}finally{try{!t&&r.return&&r.return()}finally{if(l)throw a}}}else{this.HYchecks=[];var o=!0,s=!1,d=void 0;try{for(var c,u=L()(this.users);!(o=(c=u.next()).done);o=!0){c.value.hasHYPrivilege=!1}}catch(e){s=!0,d=e}finally{try{!o&&u.return&&u.return()}finally{if(s)throw d}}}},handleCheckReadChange:function(e){this.resourceTableShow?e.hasReadPrivilege?(this.readChecks.push(e.bundleId),this.readChecks.length===this.resources.length&&(this.checkReadAll=!0)):(this.readChecks.splice(this.readChecks.indexOf(e.bundleId),1),this.checkReadAll=!1):this.userTableShow&&(e.hasReadPrivilege?(this.readChecks.push(e.userNo),this.readChecks.length===this.users.length&&(this.checkReadAll=!0)):(this.readChecks.splice(this.readChecks.indexOf(e.userNo),1),this.checkReadAll=!1))},handleCheckWriteChange:function(e){this.resourceTableShow?e.hasWritePrivilege?(this.writeChecks.push(e.bundleId),this.writeChecks.length===this.resources.length&&(this.checkWriteAll=!0)):(this.writeChecks.splice(this.writeChecks.indexOf(e.bundleId),1),this.checkWriteAll=!1):this.userTableShow&&(e.hasWritePrivilege?(this.writeChecks.push(e.userNo),this.writeChecks.length===this.users.length&&(this.checkWriteAll=!0)):(this.writeChecks.splice(this.writeChecks.indexOf(e.userNo),1),this.checkWriteAll=!1))},handleCheckCloudChange:function(e){this.resourceTableShow?e.hasCloudPrivilege?(this.cloudChecks.push(e.bundleId),this.cloudChecks.length===this.resources.length&&(this.checkCloudAll=!0)):(this.cloudChecks.splice(this.cloudChecks.indexOf(e.bundleId),1),this.checkCloudAll=!1):this.userTableShow&&(e.hasCloudPrivilege?(this.cloudChecks.push(e.userNo),this.cloudChecks.length===this.users.length&&(this.checkCloudAll=!0)):(this.cloudChecks.splice(this.cloudChecks.indexOf(e.userNo),1),this.checkCloudAll=!1))},handleCheckDownLoadChange:function(e){this.resourceTableShow?e.hasDownloadPrivilege?(this.downloadChecks.push(e.bundleId),this.downloadChecks.length===this.resources.length&&(this.checkDownLoadAll=!0)):(this.downloadChecks.splice(this.downloadChecks.indexOf(e.bundleId),1),this.checkDownLoadAll=!1):this.userTableShow&&(e.hasDownloadPrivilege?(this.downloadChecks.push(e.userNo),this.downloadChecks.length===this.users.length&&(this.checkDownLoadAll=!0)):(this.downloadChecks.splice(this.downloadChecks.indexOf(e.userNo),1),this.checkDownLoadAll=!1))},handleCheckLocalReadChange:function(e){this.resourceTableShow?e.hasLocalReadPrivilege?(this.LocalReadChecks.push(e.bundleId),this.LocalReadChecks.length===this.resources.length&&(this.checkLocalReadAll=!0)):(this.LocalReadChecks.splice(this.LocalReadChecks.indexOf(e.bundleId),1),this.checkLocalReadAll=!1):this.userTableShow&&(e.hasLocalReadPrivilege?(this.LocalReadChecks.push(e.userNo),this.LocalReadChecks.length===this.users.length&&(this.checkLocalReadAll=!0)):(this.LocalReadChecks.splice(this.LocalReadChecks.indexOf(e.userNo),1),this.checkLocalReadAll=!1))},handleCheckHJChange:function(e){this.userTableShow&&(e.hasHJPrivilege?(this.HJchecks.push(e.userNo),this.HJchecks.length===this.users.length&&(this.checkHJAll=!0)):(this.HJchecks.splice(this.HJchecks.indexOf(e.userNo),1),this.checkHJAll=!1))},handleCheckZKChange:function(e){this.userTableShow&&(e.hasZKPrivilege?(this.ZKchecks.push(e.userNo),this.ZKchecks.length===this.users.length&&(this.checkZKAll=!0)):(this.ZKchecks.splice(this.ZKchecks.indexOf(e.userNo),1),this.checkZKAll=!1))},handleCheckHYChange:function(e){this.userTableShow&&(e.hasHYPrivilege?(this.HYchecks.push(e.userNo),this.HYchecks.length===this.users.length&&(this.checkHYAll=!0)):(this.HYchecks.splice(this.HYchecks.indexOf(e.userNo),1),this.checkHYAll=!1))},getRoles:function(){var e=this;this.roleTableLoading=!0,Object(C.v)({}).then(function(t){t.errMsg?e.$message({message:t.errMsg,type:"error"}):e.roles=t.roles,e.roleTableLoading=!1})},getDeviceModels:function(){var e=this;Object(C.C)().then(function(t){if(!t.errMsg&&t.deviceModels){e.deviceModelOptions.push({value:"",label:"全部类型"});var l=!0,a=!1,n=void 0;try{for(var r,i=L()(t.deviceModels);!(l=(r=i.next()).done);l=!0){var o=r.value,s={value:o,label:o};e.deviceModelOptions.push(s)}}catch(e){a=!0,n=e}finally{try{!l&&i.return&&i.return()}finally{if(a)throw n}}}})},getResources:function(){var e=this;if(this.resourceTableShow||(this.pageNum=1),this.currentRoleRow){this.resourceTableShow=!0,this.userTableShow=!1,this.prevReadChecks=[],this.prevWriteChecks=[],this.prevCloudChecks=[],this.readChecks=[],this.writeChecks=[],this.cloudChecks=[],this.checkReadAll=!1,this.checkWriteAll=!1,this.checkCloudAll=!1,this.checkHJAll=!1,this.checkZKAll=!1,this.checkHYAll=!1,this.countPerPage=20,/^[1-9]+[0-9]*]*$/.test(this.filters.countPerPage)&&(this.countPerPage=parseInt(this.filters.countPerPage)),this.resourceTableShow&&this.countPerPage*(this.pageNum-1)>this.total&&(this.pageNum=Math.ceil(this.total/this.countPerPage)),""==this.filters.deviceModel&&""==this.filters.keyword&&""==this.folderTreeSelected.value||(this.pageNum=1);var t={roleId:this.currentRoleRow.id,bindType:this.filters.bindType,deviceModel:this.filters.deviceModel,keyword:this.filters.keyword,folderId:this.folderTreeSelected.value,pageNum:this.pageNum,countPerPage:this.countPerPage};this.resourceTableLoading=!0,Object(C.B)(t).then(function(t){if(t.errMsg)e.$message({message:t.errMsg,type:"error"});else{e.total=t.total,e.resources=t.resources;var l=!0,a=!1,n=void 0;try{for(var r,i=L()(e.resources);!(l=(r=i.next()).done);l=!0){var o=r.value;o.hasReadPrivilege&&(e.prevReadChecks.push(o.bundleId),e.readChecks.push(o.bundleId)),o.hasWritePrivilege&&(e.prevWriteChecks.push(o.bundleId),e.writeChecks.push(o.bundleId)),o.hasCloudPrivilege&&(e.prevCloudChecks.push(o.bundleId),e.cloudChecks.push(o.bundleId)),o.hasDownloadPrivilege&&(e.prevDownloadChecks.push(o.bundleId),e.downloadChecks.push(o.bundleId)),o.hasvLocalReadPrivilege&&(e.prevLocalReadChecks.push(o.bundleId),e.LocalReadChecks.push(o.bundleId))}}catch(e){a=!0,n=e}finally{try{!l&&i.return&&i.return()}finally{if(a)throw n}}e.readChecks.length===e.resources.length&&(e.checkReadAll=!0),e.writeChecks.length===e.resources.length&&(e.checkWriteAll=!0),e.cloudChecks.length===e.resources.length&&(e.checkCloudAll=!0),e.downloadChecks.length===e.resources.length&&(e.checkDownLoadAll=!0),e.LocalReadChecks.length===e.resources.length&&(e.checkLocalReadAll=!0)}e.resourceTableLoading=!1})}else this.$message({message:"请先选择角色",type:"error"})},handleCurrentPageChange:function(e){this.pageNum=e,this.resourceTableShow?this.getResources():this.getUsers()},getUsers:function(){var e=this;if(this.resourceTableShow&&(this.pageNum=1),this.currentRoleRow){this.resourceTableShow=!1,this.userTableShow=!0,this.prevReadChecks=[],this.prevWriteChecks=[],this.prevCloiudChecks=[],this.readChecks=[],this.writeChecks=[],this.cloudChecks=[],this.prevHJChecks=[],this.prevZKChecks=[],this.prevHYChecks=[],this.HJchecks=[],this.ZKchecks=[],this.HYchecks=[],this.checkReadAll=!1,this.checkWriteAll=!1,this.checkCloudAll=!1,this.checkHJAll=!1,this.checkZKAll=!1,this.checkHYAll=!1,this.countPerPage=20,/^[1-9]+[0-9]*]*$/.test(this.filters.countPerPage)&&(this.countPerPage=parseInt(this.filters.countPerPage)),this.resourceTableShow||this.countPerPage*(this.pageNum-1)>this.total&&(this.pageNum=Math.ceil(this.total/this.countPerPage)),""==this.filters.keyword&&""==this.folderTreeSelected.value||(this.pageNum=1);var t={roleId:this.currentRoleRow.id,keyword:this.filters.keyword,folderId:this.folderTreeSelected.value,pageNum:this.pageNum,countPerPage:this.countPerPage};this.userTableLoading=!0,Object(C.J)(t).then(function(t){if(t.errMsg)e.$message({message:t.errMsg,type:"error"});else{e.total=t.total,e.users=t.users;var l=!0,a=!1,n=void 0;try{for(var r,i=L()(e.users);!(l=(r=i.next()).done);l=!0){var o=r.value;o.hasReadPrivilege&&(e.prevReadChecks.push(o.userNo),e.readChecks.push(o.userNo)),o.hasWritePrivilege&&(e.prevWriteChecks.push(o.userNo),e.writeChecks.push(o.userNo)),o.hasCloudPrivilege&&(e.prevCloudChecks.push(o.userNo),e.cloudChecks.push(o.userNo)),o.hasHJPrivilege&&(e.prevHJChecks.push(o.userNo),e.HJchecks.push(o.userNo)),o.hasZKPrivilege&&(e.prevZKChecks.push(o.userNo),e.ZKchecks.push(o.userNo)),o.hasHYPrivilege&&(e.prevHYChecks.push(o.userNo),e.HYchecks.push(o.userNo))}}catch(e){a=!0,n=e}finally{try{!l&&i.return&&i.return()}finally{if(a)throw n}}e.readChecks.length===e.users.length&&(e.checkReadAll=!0),e.writeChecks.length===e.users.length&&(e.checkWriteAll=!0),e.cloudChecks.length===e.users.length&&(e.checkCloudAll=!0),e.HJchecks.length===e.users.length&&(e.checkHJAll=!0),e.ZKchecks.length===e.users.length&&(e.checkZKAll=!0),e.HYchecks.length===e.users.length&&(e.checkHYAll=!0)}e.userTableLoading=!1})}else this.$message({message:"请先选择角色",type:"error"})},submitPrivilege:function(){var e=this;if(this.resourceTableShow){var t={roleId:this.currentRoleRow.id,prevReadChecks:this.prevReadChecks.join(","),prevWriteChecks:this.prevWriteChecks.join(","),prevCloudChecks:this.prevCloudChecks.join(","),prevDownloadChecks:this.prevDownloadChecks.join(","),prevLocalReadChecks:this.prevLocalReadChecks.join(","),readChecks:this.readChecks.join(","),writeChecks:this.writeChecks.join(","),cloudChecks:this.cloudChecks.join(","),downloadChecks:this.downloadChecks.join(","),localReadChecks:this.LocalReadChecks.join(",")};this.resourceTableLoading=!0,Object(C._18)(t).then(function(t){t.errMsg?e.$message({message:t.errMsg,type:"error"}):(e.$message({message:"提交成功",type:"success"}),e.prevReadChecks=[].concat(e.readChecks),e.prevWriteChecks=[].concat(e.writeChecks),e.prevCloudChecks=[].concat(e.cloudChecks),e.prevDownloadChecks=[].concat(e.downloadChecks),e.prevLocalReadChecks=[].concat(e.LocalReadChecks)),e.resourceTableLoading=!1})}else if(this.userTableShow){var l={roleId:this.currentRoleRow.id,prevReadChecks:this.prevReadChecks.join(","),prevWriteChecks:this.prevWriteChecks.join(","),prevCloudChecks:this.prevCloudChecks.join(","),prevDownloadChecks:this.prevDownloadChecks.join(","),prevLocalReadChecks:this.prevLocalReadChecks.join(","),prevHJChecks:this.prevHJChecks.join(","),prevZKChecks:this.prevZKChecks.join(","),prevHYChecks:this.prevHYChecks.join(","),readChecks:this.readChecks.join(","),writeChecks:this.writeChecks.join(","),cloudChecks:this.cloudChecks.join(","),downloadChecks:this.downloadChecks.join(","),localReadChecks:this.LocalReadChecks.join(","),hjChecks:this.HJchecks.join(","),zkChecks:this.ZKchecks.join(","),hyChecks:this.HYchecks.join(",")};this.userTableLoading=!0,Object(C._19)(l).then(function(t){t.errMsg?e.$message({message:t.errMsg,type:"error"}):(e.$message({message:"提交成功",type:"success"}),e.prevReadChecks=[].concat(e.readChecks),e.prevWriteChecks=[].concat(e.writeChecks),e.prevCloudChecks=[].concat(e.cloudChecks),e.prevHJChecks=[].concat(e.HJchecks),e.prevZKChecks=[].concat(e.ZKchecks),e.prevHYChecks=[].concat(e.HYchecks)),e.userTableLoading=!1})}}},mounted:function(){this.getRoles(),this.getDeviceModels(),this.initTree()}},se={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("section",[l("el-tabs",{staticStyle:{float:"left",width:"100%"},on:{"tab-click":e.handleTabClick},model:{value:e.activeTabName,callback:function(t){e.activeTabName=t},expression:"activeTabName"}},[l("el-tab-pane",{attrs:{label:"绑定资源用户",name:"BindRoleResource"}})],1),e._v(" "),l("el-card",{staticStyle:{float:"left","margin-top":"10px",width:"20%","font-size":"18px"},attrs:{"body-style":"padding:0px"}},[l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.roleTableLoading,expression:"roleTableLoading"}],ref:"roleTable",staticStyle:{width:"100%"},attrs:{data:e.roles,"highlight-current-row":""},on:{"current-change":e.handleRoleTableRowChange}},[l("el-table-column",{attrs:{prop:"name",label:"角色名",sortable:""}})],1)],1),e._v(" "),l("el-card",{staticStyle:{float:"left","margin-left":"50px","margin-top":"10px",width:"70%"},attrs:{"body-style":"padding:0px"}},[l("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[l("span",{staticStyle:{float:"left","font-size":"14px",height:"34px","line-height":"34px"}},[e._v("选择分组：")]),e._v(" "),l("el-select",{ref:"selectTree",staticStyle:{float:"left",width:"200px"},attrs:{size:"medium",placeholder:"选择分组",filterable:"","filter-method":e.dataFilter,clearable:""},on:{clear:e.clearHandle},model:{value:e.folderTreeSelected.label,callback:function(t){e.$set(e.folderTreeSelected,"label",t)},expression:"folderTreeSelected.label"}},[l("el-option",{staticClass:"tree-select",staticStyle:{width:"200px",height:"auto",overflow:"hidden"},attrs:{value:e.folderTreeSelected.value,label:e.folderTreeSelected.label}},[l("el-tree",{ref:"tree",attrs:{data:e.treeData,props:e.defaultProps,"default-expand-all":e.defaultExpandAll,"filter-node-method":e.filterNode,"expand-on-click-node":e.expandOnClickNode},on:{"node-click":e.handleNodeClick}})],1)],1),e._v(" "),l("el-select",{staticStyle:{float:"left","margin-left":"10px",width:"120px"},attrs:{size:"medium",placeholder:"选择资源类型"},model:{value:e.filters.deviceModel,callback:function(t){e.$set(e.filters,"deviceModel",t)},expression:"filters.deviceModel"}},e._l(e.deviceModelOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),l("el-input",{staticStyle:{float:"left","margin-left":"10px",width:"200px"},attrs:{size:"medium",placeholder:"关键字"},model:{value:e.filters.keyword,callback:function(t){e.$set(e.filters,"keyword",t)},expression:"filters.keyword"}}),e._v(" "),l("el-button",{staticStyle:{float:"left","margin-left":"10px"},attrs:{size:"small",type:"info"},on:{click:e.getResources}},[e._v("查询设备")])],1),e._v(" "),l("el-table",{directives:[{name:"show",rawName:"v-show",value:e.resourceTableShow,expression:"resourceTableShow"},{name:"loading",rawName:"v-loading",value:e.resourceTableLoading,expression:"resourceTableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.resources}},[l("el-table-column",{attrs:{type:"index",width:"100"}}),e._v(" "),l("el-table-column",{attrs:{prop:"name",label:"名称",width:"200",sortable:""}}),e._v(" "),l("el-table-column",{attrs:{prop:"deviceModel",label:"资源类型",width:"200",sortable:""}}),e._v(" "),l("el-table-column",{attrs:{prop:"username",label:"设备账号",width:"270"}}),e._v(" "),l("el-table-column",{attrs:{width:"150","render-header":e.renderCheckReadHeader},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-checkbox",{on:{change:function(l){return e.handleCheckReadChange(t.row)}},model:{value:t.row.hasReadPrivilege,callback:function(l){e.$set(t.row,"hasReadPrivilege",l)},expression:"scope.row.hasReadPrivilege"}})]}}])}),e._v(" "),l("el-table-column",{attrs:{width:"100","render-header":e.renderCheckWriteHeader},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-checkbox",{on:{change:function(l){return e.handleCheckWriteChange(t.row)}},model:{value:t.row.hasWritePrivilege,callback:function(l){e.$set(t.row,"hasWritePrivilege",l)},expression:"scope.row.hasWritePrivilege"}})]}}])}),e._v(" "),l("el-table-column",{attrs:{width:"100","render-header":e.renderCheckCloudHeader},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-checkbox",{on:{change:function(l){return e.handleCheckCloudChange(t.row)}},model:{value:t.row.hasCloudPrivilege,callback:function(l){e.$set(t.row,"hasCloudPrivilege",l)},expression:"scope.row.hasCloudPrivilege"}})]}}])}),e._v(" "),l("el-table-column",{attrs:{width:"100","render-header":e.renderCheckDownLoadHeader},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-checkbox",{on:{change:function(l){return e.handleCheckDownLoadChange(t.row)}},model:{value:t.row.hasDownloadPrivilege,callback:function(l){e.$set(t.row,"hasDownloadPrivilege",l)},expression:"scope.row.hasDownloadPrivilege"}})]}}])}),e._v(" "),l("el-table-column",{attrs:{width:"150","render-header":e.renderCheckLocalReadHeader},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-checkbox",{on:{change:function(l){return e.handleCheckLocalReadChange(t.row)}},model:{value:t.row.hasLocalReadPrivilege,callback:function(l){e.$set(t.row,"hasLocalReadPrivilege",l)},expression:"scope.row.hasLocalReadPrivilege"}})]}}])})],1),e._v(" "),l("el-col",{staticClass:"toolbar",attrs:{span:24}},[l("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.submitPrivilege}},[e._v("提交")]),e._v(" "),l("el-input",{staticStyle:{float:"right","margin-right":"30px",width:"200px"},attrs:{size:"small",placeholder:"单页显示数量,默认20"},model:{value:e.filters.countPerPage,callback:function(t){e.$set(e.filters,"countPerPage",t)},expression:"filters.countPerPage"}}),e._v(" "),l("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":e.countPerPage,"current-page":e.pageNum,total:e.total},on:{"current-change":e.handleCurrentPageChange}})],1)],1)],1)},staticRenderFns:[]};var de=l("VU/8")(oe,se,!1,function(e){l("AJja")},null,null).exports,ce=l("u4Bf"),ue={components:{draggable:l.n(ce).a},data:function(){return{activeTabName:"EncodeManage",drag:!1,dialogFormVisible:!1,treeLoading:!1,tree:[{id:1,parentId:-1,name:"xx基地",beFolder:!0,toLdap:!0,bundleId:null,username:null,folderType:null,children:[{id:11,parentId:1,name:"发射场",beFolder:!0,toLdap:!0,bundleId:null,username:null,folderType:null,children:[],systemSourceType:!0,folderIndex:1,nodeType:"FOLDER"},{id:13,parentId:1,name:"指控中心",beFolder:!0,toLdap:!0,bundleId:null,username:null,folderType:null,children:[{id:15,parentId:13,name:"网络摄像头",beFolder:!0,toLdap:!0,bundleId:null,username:null,folderType:null,children:[{id:100089,parentId:15,name:"大华摄像头1",beFolder:!1,toLdap:null,bundleId:"bc7e14ce41e540649e92f479cb173c43",username:null,folderType:null,children:null,systemSourceType:!0,folderIndex:1,nodeType:"BUNDLE"},{id:100135,parentId:15,name:"大华摄像头2",beFolder:!1,toLdap:null,bundleId:"49bab374fbb04de584d66c28716ab3f7",username:null,folderType:null,children:null,systemSourceType:!0,folderIndex:2,nodeType:"BUNDLE"}],systemSourceType:!0,folderIndex:1,nodeType:"FOLDER"},{id:23,parentId:13,name:"值班室",beFolder:!0,toLdap:!0,bundleId:null,username:null,folderType:null,children:[{id:100137,parentId:23,name:"北清摄像头1",beFolder:!1,toLdap:null,bundleId:"5e4505a56c75408c82abb7789994447f",username:null,folderType:null,children:null,systemSourceType:!0,folderIndex:1,nodeType:"BUNDLE"}],systemSourceType:!0,folderIndex:2,nodeType:"FOLDER"},{id:25,parentId:13,name:"监视器",beFolder:!0,toLdap:!0,bundleId:null,username:null,folderType:null,children:[],systemSourceType:!0,folderIndex:3,nodeType:"FOLDER"}],systemSourceType:!0,folderIndex:2,nodeType:"FOLDER"}],systemSourceType:!0,folderIndex:0,nodeType:"FOLDER"},{id:43,parentId:-1,name:"xx基地2",beFolder:!0,toLdap:!0,bundleId:null,username:null,folderType:null,children:[{id:45,parentId:43,name:"xx发射场",beFolder:!0,toLdap:!0,bundleId:null,username:null,folderType:null,children:[{id:100143,parentId:45,name:"发射场东侧摄像头",beFolder:!1,toLdap:null,bundleId:"cc7580e5445041abaf07156f19e52530",username:null,folderType:null,children:null,systemSourceType:!1,folderIndex:null,nodeType:"BUNDLE"}],systemSourceType:!1,folderIndex:1,nodeType:"FOLDER"}],systemSourceType:!1,folderIndex:1,nodeType:"FOLDER"}],filterText:"",tree1:[{id:1,parentId:-1,name:"xx基地",beFolder:!0,toLdap:!0,bundleId:null,username:null,folderType:null,children:[{id:13,parentId:1,name:"指控中心",beFolder:!0,toLdap:!0,bundleId:null,username:null,folderType:null,children:[{id:27,parentId:13,name:"电视墙",beFolder:!0,toLdap:!0,bundleId:null,username:null,folderType:null,children:[{id:100145,parentId:27,name:"指控中心东侧显示器",beFolder:!1,toLdap:null,bundleId:"a37641acfafc4ce2bb8f3bfdc277a239",username:null,folderType:null,children:null,systemSourceType:!0,folderIndex:1,nodeType:"BUNDLE"}],systemSourceType:!0,folderIndex:4,nodeType:"FOLDER"},{id:23,parentId:13,name:"值班室",beFolder:!0,toLdap:!0,bundleId:null,username:null,folderType:null,children:[{id:100149,parentId:23,name:"北清外域解码器",beFolder:!1,toLdap:null,bundleId:"4746f74b504742bf9fe3ff8564ba02c2",username:null,folderType:null,children:null,systemSourceType:!0,folderIndex:2,nodeType:"BUNDLE"}],systemSourceType:!0,folderIndex:2,nodeType:"FOLDER"}],systemSourceType:!0,folderIndex:2,nodeType:"FOLDER"}],systemSourceType:!0,folderIndex:0,nodeType:"FOLDER"}],dataOption:[],defaultProps:{children:"children",label:"name"}}},created:function(){this.initTree()},watch:{filterText:function(e){this.$refs.tree.filter(e)}},methods:{filterNode:function(e,t){return!e||-1!==t.name.indexOf(e)},initTree:function(e){var t=this;this.treeLoading=!0,Object(C.M)().then(function(e){e.errMsg?(t.$message({message:e.errMsg,type:"error"}),t.treeLoading=!1):(t.tree=e.tree,t.tree1=JSON.parse(P()(t.tree)),t.treeLoading=!1)})},handleNodeClick:function(e){console.log(e),e.children||(console.log(e.name),this.inputDevice=e.name,this.dialogFormVisible=!1)},onStart:function(){this.drag=!0},onEnd:function(){this.drag=!1},onMove2:function(e,t){return!1},handleDelete:function(e,t){e.splice(t,1)},handleTabClick:function(e,t){"EncodeManage"!==e.name&&this.$router.push("/"+e.name)}}},he={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[[l("div",{staticClass:"itxst"},[l("div",{staticClass:"col"},[l("div",{staticClass:"title"},[e._v("编码器")]),e._v(" "),l("div",{directives:[{name:"loading",rawName:"v-loading",value:e.treeLoading,expression:"treeLoading"}],staticClass:"custom-tree-container"},[l("div",[l("el-tree",{ref:"tree",attrs:{"filter-node-method":e.filterNode,data:e.tree,"default-expand-all":"","node-key":"id","highlight-current":"","expand-on-click-node":!1,props:e.defaultProps},on:{"node-click":e.handleNodeClick},scopedSlots:e._u([{key:"default",fn:function(t){t.node;var a=t.data;return[a.children?l("span",[e._v(e._s(a.name))]):l("draggable",{attrs:{element:"span",options:{group:{name:"site",pull:"clone"},sort:!0},animation:"300"}},[l("span",{staticClass:"item"},[e._v(e._s(a.name))])])]}}])})],1)])])])],e._v(" "),[l("div",{staticClass:"itxst"},[l("div",{staticClass:"col"},[l("div",{staticClass:"title"},[e._v("解码器")]),e._v(" "),l("div",{directives:[{name:"loading",rawName:"v-loading",value:e.treeLoading,expression:"treeLoading"}],staticClass:"custom-tree-container"},[l("div",[l("el-tree",{ref:"tree1",attrs:{data:e.tree1,"default-expand-all":"","node-key":"id","highlight-current":"","expand-on-click-node":!1,props:e.defaultProps},on:{"node-click":e.handleNodeClick},scopedSlots:e._u([{key:"default",fn:function(t){t.node;var a=t.data;return[l("draggable",{attrs:{element:"span",group:"site",animation:"300"}},[l("span",{staticClass:"item"},[e._v(e._s(a.name))])])]}}])})],1)])])])]],2)},staticRenderFns:[]};var pe=l("VU/8")(ue,he,!1,function(e){l("q6+0")},"data-v-ce0d4228",null).exports,me={name:"my-pie",props:{optionData:{type:Array,default:function(){return[]}},titleText:{type:String,default:""},legend:{type:Array,default:function(){return[]}}},data:function(){return{}},methods:{myEcharts:function(){var e=this.$echarts.init(document.getElementById(this.echartsId)),t={title:{text:this.titleText,subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:this.legend},series:[{name:"图像信息容量",type:"pie",radius:"55%",center:["60%","50%"],data:this.optionData,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};e.setOption(t)}},computed:{echartsId:function(){return"echarts"+1e5*Math.random()}},watch:{optionData:function(e,t){this.myEcharts()}},created:function(){},mounted:function(){}},fe={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"Echarts"},[t("div",{staticStyle:{width:"600px",height:"400px"},attrs:{id:this.echartsId}})])},staticRenderFns:[]};var ve={name:"Echarts",data:function(){return{resData:{},optionData:{ImageAccess:[],onLine:[],transiter:[],playback:[]},legend:{ImageAccess:["已接入","空闲"],onLine:["在线","空闲"],transiter:["已占用转发","空闲"],playback:["同时回放路数","空闲"]}}},components:{"my-pie":l("VU/8")(me,fe,!1,function(e){l("+CLx")},null,null).exports},computed:{optionDataComputed:function(){var e=this.resData;return this.optionData.ImageAccess=[{value:e.vedioCount?e.vedioCount:0,name:"已接入"},{value:e.vedioIdleCount?e.vedioIdleCount:e.vedioCapacity,name:"空闲"}],this.optionData.onLine=[{value:e.userCount?e.userCount:0,name:"在线"},{value:e.userIdleCount?e.userIdleCount:e.userCapacity,name:"空闲"}],this.optionData.transiter=[{value:e.turnCount?e.turnCount:0,name:"已占用转发"},{value:e.turnIdleCount?e.turnIdleCount:e.turnCapacity,name:"空闲"}],this.optionData.playback=[{value:e.reCount?e.reCount:0,name:"同时回放路数"},{value:e.reIdleCount?e.reIdleCount:e.replayCapacity,name:"空闲"}],this.optionData}},methods:{filterData:function(){}},mounted:function(){var e=this;Object(C.Y)({id:1}).then(function(t){e.resData=t,console.log(t)}),console.log(this.optionData)}},be={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"Echarts"},[l("el-row",{attrs:{gutter:0}},[l("el-col",{staticClass:"col",attrs:{xs:24,sm:12,xl:12}},[l("my-pie",{attrs:{optionData:e.optionDataComputed.ImageAccess,titleText:"图像信息接入路数",legend:e.legend.ImageAccess}})],1),e._v(" "),l("el-col",{staticClass:"col",attrs:{xs:24,sm:12,xl:12}},[l("my-pie",{attrs:{optionData:e.optionDataComputed.onLine,titleText:"在线用户人数",legend:e.legend.onLine}})],1),e._v(" "),l("el-col",{staticClass:"col",attrs:{xs:24,sm:12,xl:12}},[l("my-pie",{attrs:{optionData:e.optionDataComputed.transiter,titleText:"当前转发路数",legend:e.legend.transiter}})],1),e._v(" "),l("el-col",{staticClass:"col",attrs:{xs:24,sm:12,xl:12}},[l("my-pie",{attrs:{optionData:e.optionDataComputed.playback,titleText:"当前回放路数",legend:e.legend.playback}})],1)],1)],1)},staticRenderFns:[]};var ge=l("VU/8")(ve,be,!1,function(e){l("z/V/")},null,null).exports,ye=[{path:"/404",component:a.default,name:"",hidden:!0},{path:"/LwBindRoleResource",component:de,name:"",hidden:!0},{path:"/",component:n.default,name:"资源",iconCls:"el-icon-message",children:[{path:"/main",component:r.default,name:"主页",hidden:!0},{path:"/BundleManage",component:c.default,name:"资源管理"},{path:"/AddBundle",component:u.default,name:"添加资源",hidden:!0},{path:"/ModifyBundle",component:h.default,name:"修改资源",hidden:!0},{path:"/ConfigBundle",component:p.default,name:"能力配置",hidden:!0},{path:"/BundleTemplateManage",component:s.default,name:"模板管理"},{path:"/ChannelTemplateManage",component:d.default,name:"通道模板管理",hidden:!0},{path:"/LayerNodeManage",component:m.default,name:"层节点管理"},{path:"/AddLayerNode",component:f.default,name:"添加层节点",hidden:!0},{path:"/ModifyLayernode",component:v.default,name:"修改层节点",hidden:!0},{path:"/BindResource",component:i.default,name:"绑定资源权限"},{path:"/BindVirtualResource",component:o.default,name:"绑定虚拟资源",hidden:!0},{path:"/FolderManage",component:b.default,name:"分组管理"},{path:"/SerInfoAndNode",component:g.default,name:"服务设备信息"},{path:"/UserBindBundle",component:y.default,name:"用户绑定设备"},{path:"/LwRecordManage",component:A,name:"录制管理"},{path:"/LwCurTask",component:T,name:"当前任务"},{path:"/LwNetIframe",component:M,name:"网管",hidden:!0},{path:"/LwEncodeManage",component:pe,name:"编码解码管理"},{path:"/LwLayerNodeManage",component:D,name:"层节点管理"},{path:"/LwAddLayerNode",component:B,name:"添加层节点",hidden:!0},{path:"/LwLocalBundleManage",component:J,name:"本地资源管理"},{path:"/LwAddBundle",component:q,name:"添加资源",hidden:!0},{path:"/LwModifyBundle",component:te,name:"修改资源",hidden:!0},{path:"/LwConfigBundle",component:ne,name:"能力配置",hidden:!0},{path:"/LwBindRoleResource",component:de,name:"",hidden:!0},{path:"/LwCapacity",component:ge,name:"",hidden:!0}]},{path:"*",hidden:!0,redirect:{path:"/404"}}];t.a=ye},fcpm:function(e,t){},hbAF:function(e,t){},ifcc:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l("mvHQ"),n=l.n(a),r=l("BO1k"),i=l.n(r),o=l("bOdI"),s=l.n(o),d=l("P9l9"),c={name:"AddBundle",components:{selectLayerNode:l("/Qkj").default},data:function(){var e=this;return{activeTabName:"AddBundle",extraInfos:[],bundleForm:s()({deviceModel:"",bundleType:"",bundleName:"",username:"",onlinePassword:"",checkPass:"",bundleAlias:"",accessNodeUid:"",bundleFolderId:null,bundleFolderName:"根目录",deviceAddr:{deviceIp:"",devicePort:5060},multicastEncode:!1,multicastEncodeAddr:"",multicastDecode:!1,coderType:"DEFAULT",longitude:"",latitude:"",streamUrl:""},"streamUrl",""),rules:{deviceModel:[{required:!0,message:"请选择设备形态",trigger:"change"}],bundleName:[{required:!0,message:"请输入设备名称",trigger:"blur"},{min:1,max:30,message:"长度在 1 到 30 个字符",trigger:"blur"}],username:[{required:!0,message:"请输入设备账号",trigger:"blur"}],onlinePassword:[{validator:function(t,l,a){""===l?a(new Error("请输入密码")):(""!==e.bundleForm.checkPass&&e.$refs.bundleForm.validateField("checkPass"),a())},trigger:"blur"}],checkPass:[{validator:function(t,l,a){""===l?a(new Error("请再次输入密码")):l!==e.bundleForm.onlinePassword?a(new Error("两次输入密码不一致!")):a()},trigger:"blur"}]},deviceModelOptions:[],coderTypeOptions:[{label:"编码器",value:"ENCODER"},{label:"解码器",value:"DECODER"},{label:"默认",value:"DEFAULT"}],wsTypeOptions:[{label:"编码器",value:"ENCODER"},{label:"解码器",value:"DECODER"},{label:"软终端",value:"DEFAULT"}],bundleTypeOptions:[{label:"终端",value:"VenusTerminal"},{label:"混合器",value:"VenusMixer"},{label:"转发器",value:"VenusTransporter"},{label:"外部输出设备",value:"VenusOutConnection"},{label:"大屏设备",value:"VenusVideoMatrix"}],dialog:{changeFolder:{visible:!1,tree:{props:{label:"name",children:"children"},expandOnClickNode:!1,data:[],current:""}},addFolder:{visible:!1,parent:"",parentNode:"",folderName:"",toLdap:"否"}}}},computed:{bundleFormMulticastEncode:function(){return this.bundleForm.multicastEncode}},watch:{bundleFormMulticastEncode:function(e){e||(this.bundleForm.multicastEncodeAddr="")}},methods:{handleTabClick:function(e,t){"AddBundle"!==e.name&&this.$router.push("/"+e.name)},getDeviceModels:function(){var e=this;Object(d.C)().then(function(t){if(!t.errMsg&&t.deviceModels){var l=!0,a=!1,n=void 0;try{for(var r,o=i()(t.deviceModels);!(l=(r=o.next()).done);l=!0){var s=r.value,d={value:s,label:s};e.deviceModelOptions.push(d)}}catch(e){a=!0,n=e}finally{try{!l&&o.return&&o.return()}finally{if(a)throw n}}}})},addExtraInfo:function(){this.extraInfos.push({})},remove:function(e){var t=this.extraInfos.indexOf(e);-1!==t&&this.extraInfos.splice(t,1)},reset:function(){this.$refs.bundleForm.resetFields(),this.bundleForm.bundleFolderId=null,this.bundleForm.bundleFolderName="根目录"},submit:function(){var e=this;if(this.validateBaseInfo()&&this.validateExtraInfo()){var t={bundle:n()(this.bundleForm),extraInfoVOList:n()(this.extraInfos)};Object(d.a)(t).then(function(t){t.errMsg?e.$message({message:t.errMsg,type:"error"}):(e.$message({message:"添加成功",type:"success"}),setTimeout(function(){window.location.reload()},1e3))})}},validateBaseInfo:function(){var e=!1;return this.$refs.bundleForm.validate(function(t){e=t}),e},validateExtraInfo:function(){var e=!0,t=!1,l=void 0;try{for(var a,n=i()(this.extraInfos);!(e=(a=n.next()).done);e=!0){var r=a.value;if(!r.name||!r.value)return this.$message({message:"扩展字段不能为空",type:"error"}),!1}}catch(e){t=!0,l=e}finally{try{!e&&n.return&&n.return()}finally{if(t)throw l}}return!0},handleChangeFolder:function(){var e=this;e.dialog.changeFolder.visible=!0,Object(d._2)().then(function(t){if(200===t.status){if(e.dialog.changeFolder.tree.data.splice(0,e.dialog.changeFolder.tree.data.length),t.data&&t.data.length>0)for(var l=0;l<t.data.length;l++)e.dialog.changeFolder.tree.data.push(t.data[l])}else e.$message({type:"error",message:t.message})})},handleChangeFolderClose:function(){this.dialog.changeFolder.visible=!1,this.dialog.changeFolder.tree.data.splice(0,this.dialog.changeFolder.tree.data.length),this.dialog.changeFolder.tree.current=""},handleChangeFolderCommit:function(){this.bundleForm.bundleFolderId=this.dialog.changeFolder.tree.current.id,this.bundleForm.bundleFolderName=this.dialog.changeFolder.tree.current.name,this.handleChangeFolderClose()},currentTreeNodeChange:function(e,t){this.dialog.changeFolder.tree.current=e},treeNodeAppend:function(e,t){this.dialog.addFolder.parent=t,this.dialog.addFolder.parentNode=e,this.dialog.addFolder.visible=!0},handleAddFolderClose:function(){this.dialog.addFolder.parent="",this.dialog.addFolder.parentNode="",this.dialog.addFolder.visible=!1,this.dialog.addFolder.folderName="",this.dialog.addFolder.toLdap="否"},handleAddFolderCommit:function(){var e=this;Object(d.b)({name:e.dialog.addFolder.folderName,parentId:e.dialog.addFolder.parent.id,toLdap:"是"===e.dialog.addFolder.toLdap}).then(function(t){e.dialog.addFolder.parent.children=e.dialog.addFolder.parent.children||[],t.errMsg||(e.dialog.addFolder.parent.children.push(t.folder),e.$refs.changeFolderTree.append(t.folder,e.dialog.addFolder.parentNode),e.handleAddFolderClose())})},handleSelectLayerNode:function(){this.$refs.selectLayerNode.show()},layerNodeSelected:function(e,t){this.bundleForm.accessNodeUid=e.nodeUid,t()}},mounted:function(){var e=this;this.$nextTick(function(){e.$parent.$parent.$parent.$parent.$parent.setActive("/BundleManage")}),this.getDeviceModels()}},u={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("section",[l("el-tabs",{staticStyle:{float:"left",width:"100%"},on:{"tab-click":e.handleTabClick},model:{value:e.activeTabName,callback:function(t){e.activeTabName=t},expression:"activeTabName"}},[l("el-tab-pane",{attrs:{label:"资源列表",name:"BundleManage"}}),e._v(" "),l("el-tab-pane",{attrs:{label:"添加资源",name:"AddBundle"}})],1),e._v(" "),l("el-form",{ref:"bundleForm",attrs:{model:e.bundleForm,rules:e.rules,"label-width":"100px"}},[l("el-form-item",{attrs:{size:"small",label:"设备形态",prop:"deviceModel"}},[l("el-select",{staticStyle:{width:"200px"},attrs:{size:"small"},model:{value:e.bundleForm.deviceModel,callback:function(t){e.$set(e.bundleForm,"deviceModel",t)},expression:"bundleForm.deviceModel"}},e._l(e.deviceModelOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"jv210"==e.bundleForm.deviceModel,expression:"bundleForm.deviceModel=='jv210'"}],attrs:{size:"small",label:"编解码类型",prop:"coderType"}},[l("el-select",{staticStyle:{width:"200px"},model:{value:e.bundleForm.coderType,callback:function(t){e.$set(e.bundleForm,"coderType",t)},expression:"bundleForm.coderType"}},e._l(e.coderTypeOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"ws"==e.bundleForm.deviceModel,expression:"bundleForm.deviceModel=='ws'"}],attrs:{size:"small",label:"编解码类型",prop:"coderType"}},[l("el-select",{staticStyle:{width:"200px"},model:{value:e.bundleForm.coderType,callback:function(t){e.$set(e.bundleForm,"coderType",t)},expression:"bundleForm.coderType"}},e._l(e.wsTypeOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{size:"small",label:"别名",prop:"bundleAlias"}},[l("el-input",{staticStyle:{width:"200px"},model:{value:e.bundleForm.bundleAlias,callback:function(t){e.$set(e.bundleForm,"bundleAlias",t)},expression:"bundleForm.bundleAlias"}})],1),e._v(" "),l("el-form-item",{attrs:{size:"small",label:"设备名称",prop:"bundleName"}},[l("el-input",{staticStyle:{width:"200px"},model:{value:e.bundleForm.bundleName,callback:function(t){e.$set(e.bundleForm,"bundleName",t)},expression:"bundleForm.bundleName"}})],1),e._v(" "),l("el-form-item",{attrs:{size:"small",label:"设备分组",prop:"bundleFolderName"}},[l("el-input",{staticStyle:{width:"200px"},attrs:{readOnly:""},nativeOn:{click:function(t){return e.handleChangeFolder(t)}},model:{value:e.bundleForm.bundleFolderName,callback:function(t){e.$set(e.bundleForm,"bundleFolderName",t)},expression:"bundleForm.bundleFolderName"}})],1),e._v(" "),l("el-form-item",{attrs:{size:"small",label:"设备账号",prop:"username"}},[l("el-input",{staticStyle:{width:"200px"},model:{value:e.bundleForm.username,callback:function(t){e.$set(e.bundleForm,"username",t)},expression:"bundleForm.username"}})],1),e._v(" "),l("el-form-item",{attrs:{size:"small",label:"设备密码",prop:"onlinePassword"}},[l("el-input",{staticStyle:{width:"200px"},attrs:{type:"password","auto-complete":"off"},model:{value:e.bundleForm.onlinePassword,callback:function(t){e.$set(e.bundleForm,"onlinePassword",t)},expression:"bundleForm.onlinePassword"}})],1),e._v(" "),l("el-form-item",{attrs:{size:"small",label:"确认密码",prop:"checkPass"}},[l("el-input",{staticStyle:{width:"200px"},attrs:{type:"password","auto-complete":"off"},model:{value:e.bundleForm.checkPass,callback:function(t){e.$set(e.bundleForm,"checkPass",t)},expression:"bundleForm.checkPass"}})],1),e._v(" "),l("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"jv210"==e.bundleForm.deviceModel||"ws"==e.bundleForm.deviceModel,expression:"bundleForm.deviceModel=='jv210' || bundleForm.deviceModel=='ws'"}],attrs:{size:"small",label:"接入层UID",prop:"accessNodeUid"}},[l("el-input",{staticStyle:{width:"200px"},attrs:{readOnly:""},nativeOn:{click:function(t){return e.handleSelectLayerNode(t)}},model:{value:e.bundleForm.accessNodeUid,callback:function(t){e.$set(e.bundleForm,"accessNodeUid",t)},expression:"bundleForm.accessNodeUid"}})],1),e._v(" "),l("el-form-item",{attrs:{size:"small",label:"设备IP"}},[l("el-input",{staticStyle:{width:"200px"},model:{value:e.bundleForm.deviceAddr.deviceIp,callback:function(t){e.$set(e.bundleForm.deviceAddr,"deviceIp",t)},expression:"bundleForm.deviceAddr.deviceIp"}})],1),e._v(" "),l("el-form-item",{attrs:{size:"small",label:"设备端口"}},[l("el-input",{staticStyle:{width:"200px"},model:{value:e.bundleForm.deviceAddr.devicePort,callback:function(t){e.$set(e.bundleForm.deviceAddr,"devicePort",t)},expression:"bundleForm.deviceAddr.devicePort"}})],1),e._v(" "),l("el-form-item",{attrs:{size:"small",label:"编码组播"}},[l("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.bundleForm.multicastEncode,callback:function(t){e.$set(e.bundleForm,"multicastEncode",t)},expression:"bundleForm.multicastEncode"}})],1),e._v(" "),l("el-form-item",{attrs:{size:"small",label:"编码组播地址"}},[e.bundleForm.multicastEncode?l("el-input",{staticStyle:{width:"200px"},model:{value:e.bundleForm.multicastEncodeAddr,callback:function(t){e.$set(e.bundleForm,"multicastEncodeAddr",t)},expression:"bundleForm.multicastEncodeAddr"}}):l("el-input",{staticStyle:{width:"200px"},attrs:{disabled:""},model:{value:e.bundleForm.multicastEncodeAddr,callback:function(t){e.$set(e.bundleForm,"multicastEncodeAddr",t)},expression:"bundleForm.multicastEncodeAddr"}})],1),e._v(" "),l("el-form-item",{attrs:{size:"small",label:"解码组播"}},[l("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.bundleForm.multicastDecode,callback:function(t){e.$set(e.bundleForm,"multicastDecode",t)},expression:"bundleForm.multicastDecode"}})],1),e._v(" "),l("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"ipc"==e.bundleForm.deviceModel||"speaker"==e.bundleForm.deviceModel,expression:"bundleForm.deviceModel=='ipc' || bundleForm.deviceModel=='speaker'"}],attrs:{size:"small",label:"坐标经度(°)",prop:"longitude"}},[l("el-input",{staticStyle:{width:"200px"},model:{value:e.bundleForm.longitude,callback:function(t){e.$set(e.bundleForm,"longitude",t)},expression:"bundleForm.longitude"}})],1),e._v(" "),l("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"ipc"==e.bundleForm.deviceModel||"speaker"==e.bundleForm.deviceModel,expression:"bundleForm.deviceModel=='ipc' || bundleForm.deviceModel=='speaker'"}],attrs:{size:"small",label:"坐标纬度(°)",prop:"latitude"}},[l("el-input",{staticStyle:{width:"200px"},model:{value:e.bundleForm.latitude,callback:function(t){e.$set(e.bundleForm,"latitude",t)},expression:"bundleForm.latitude"}})],1),e._v(" "),l("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"ipc"==e.bundleForm.deviceModel,expression:"bundleForm.deviceModel=='ipc'"}],attrs:{size:"small",label:"流地址",prop:"streamUrl"}},[l("el-input",{staticStyle:{width:"200px"},model:{value:e.bundleForm.streamUrl,callback:function(t){e.$set(e.bundleForm,"streamUrl",t)},expression:"bundleForm.streamUrl"}})],1),e._v(" "),l("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"speaker"==e.bundleForm.deviceModel,expression:"bundleForm.deviceModel=='speaker'"}],attrs:{size:"small",label:"标识",prop:"identify"}},[l("el-input",{staticStyle:{width:"200px"},model:{value:e.bundleForm.identify,callback:function(t){e.$set(e.bundleForm,"identify",t)},expression:"bundleForm.identify"}})],1),e._v(" "),l("el-button",{staticStyle:{"margin-top":"10px","margin-left":"30px"},attrs:{type:"info",size:"small"},on:{click:e.addExtraInfo}},[e._v("新增扩展字段")]),e._v(" "),e._l(e.extraInfos,function(t,a){return l("div",{staticStyle:{"margin-top":"10px","margin-left":"30px"}},[l("el-input",{staticStyle:{width:"180px"},attrs:{size:"small",placeholder:"扩展字段名"},model:{value:t.name,callback:function(l){e.$set(t,"name",l)},expression:"extraInfo.name"}}),e._v(" "),l("el-input",{staticStyle:{width:"180px","margin-left":"10px"},attrs:{size:"small",placeholder:"扩展字段值"},model:{value:t.value,callback:function(l){e.$set(t,"value",l)},expression:"extraInfo.value"}}),e._v(" "),l("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"danger"},on:{click:function(l){return l.preventDefault(),e.remove(t)}}},[e._v("删除")])],1)}),e._v(" "),l("div",{staticStyle:{"margin-top":"30px","margin-left":"30px"}},[l("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.submit()}}},[e._v("提交")]),e._v(" "),l("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.reset()}}},[e._v("重置")])],1)],2),e._v(" "),[l("el-dialog",{attrs:{title:"选择分组",visible:e.dialog.changeFolder.visible,width:"650px","before-close":e.handleChangeFolderClose},on:{"update:visible":function(t){return e.$set(e.dialog.changeFolder,"visible",t)}}},[l("div",{staticStyle:{height:"500px",position:"relative"}},[l("el-scrollbar",{staticStyle:{height:"100%"}},[l("el-tree",{ref:"changeFolderTree",attrs:{props:e.dialog.changeFolder.tree.props,data:e.dialog.changeFolder.tree.data,"node-key":"id","check-strictly":"","expand-on-click-node":!1,"default-expand-all":"","highlight-current":""},on:{"current-change":e.currentTreeNodeChange},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.node,n=t.data;return l("span",{staticStyle:{flex:"1",display:"flex","align-items":"center","justify-content":"space-between","padding-right":"8px"}},[l("span",{staticStyle:{"font-size":"14px"}},[l("span",{staticClass:"icon-folder-close"}),e._v(" "),l("span",[e._v(e._s(n.name))])]),e._v(" "),l("span",[l("el-button",{staticStyle:{padding:"0"},attrs:{type:"text",size:"mini"},on:{click:function(t){return t.stopPropagation(),e.treeNodeAppend(a,n)}}},[l("span",{staticClass:"icon-plus",staticStyle:{"font-size":"16px"}})])],1)])}}])})],1)],1),e._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{size:"medium"},on:{click:e.handleChangeFolderClose}},[e._v("取消")]),e._v(" "),l("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.handleChangeFolderCommit}},[e._v("确定")])],1)]),e._v(" "),l("el-dialog",{attrs:{title:"添加分组",visible:e.dialog.addFolder.visible,width:"450px","before-close":e.handleAddFolderClose},on:{"update:visible":function(t){return e.$set(e.dialog.addFolder,"visible",t)}}},[l("el-form",{attrs:{"label-width":"110px"}},[l("el-form-item",{attrs:{label:"分组名称"}},[l("el-input",{model:{value:e.dialog.addFolder.folderName,callback:function(t){e.$set(e.dialog.addFolder,"folderName",t)},expression:"dialog.addFolder.folderName"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"是否同步ldap"}},[l("el-select",{model:{value:e.dialog.addFolder.toLdap,callback:function(t){e.$set(e.dialog.addFolder,"toLdap",t)},expression:"dialog.addFolder.toLdap"}},[l("el-option",{key:"是",attrs:{label:"是",value:"是"}},[e._v("\n                是\n              ")]),e._v(" "),l("el-option",{key:"否",attrs:{label:"否",value:"否"}},[e._v("\n                否\n              ")])],1)],1)],1),e._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{size:"medium"},on:{click:e.handleAddFolderClose}},[e._v("取消")]),e._v(" "),l("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.handleAddFolderCommit}},[e._v("确定")])],1)],1)],e._v(" "),[l("selectLayerNode",{ref:"selectLayerNode",on:{"layer-node-selected":e.layerNodeSelected}})]],2)},staticRenderFns:[]};var h=l("VU/8")(c,u,!1,function(e){l("/97/")},"data-v-8c655bbc",null);t.default=h.exports},iftH:function(e,t){},j7e0:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l("UOlw"),n={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-container",{staticStyle:{height:"100%","min-width":"1600px"}},[l("el-header",{staticStyle:{padding:"0px",height:"50px"}},[l("headerbar",{attrs:{sysUserName:e.sysUserName,routes:e.shortCutsRoutes,active:e.$route.path}})],1),e._v(" "),l("el-container",{staticStyle:{height:"100%"}},[l("sidebar",{attrs:{routes:e.routes,active:e.active,menurouter:e.menurouter}}),e._v(" "),l("el-main",{staticStyle:{position:"relative"}},[l("transition",[l("section",{staticClass:"content-container"},[l("div",{staticClass:"grid-content bg-purple-light"},[l("el-col",{staticClass:"content-wrapper",attrs:{span:24}},[l("transition",{attrs:{name:"fade",mode:"out-in"}},[l("router-view")],1)],1)],1)])])],1)],1)],1)},staticRenderFns:[]};var r=function(e){l("fcpm")},i=l("VU/8")(a.a,n,!1,r,"data-v-7e972997",null);t.default=i.exports},kCLY:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l("mvHQ"),n=l.n(a),r=l("BO1k"),i=l.n(r),o=l("P9l9"),s=document.location.origin,d={data:function(){return{activeTabName:"FolderManage",resources:[],users:[],resourceTableShow:!0,userTableShow:!1,deviceModelOptions:[],filters:{deviceModel:"jv210",keyword:""},multipleSelection:[],disableSetFolderBtn:!0,disableAddFolderBtn:!0,disableModifyFolderBtn:!0,disableDeleteFolderBtn:!0,disableResetRootBtn:!1,disableReleaseRootBtn:!0,defaultExpandKeys:[],tree:[],defaultProps:{children:"children",label:"name"},currentSelectNode:null,expandNodeKeysArr:[],resourceTableLoading:!1,userTableLoading:!1,dialogAddForderFormVisible:!1,dialogmodifyForderFormVisible:!1,folderForm:{name:"",toLdap:!1},dialogsetRootVisible:!1,setRootId:"",setRootOptions:[],modifyForm:{},uploadUrl:s+"/folder/import",uploadUserUrl:s+"/folder/user/import",myHeaders:{"tetris-001":sessionStorage.getItem("token")},treeLoading:!1,toLdapoptions:[{value:!0,label:"是"},{value:!1,label:"否"}],ldapLoading:!1}},methods:{getDeviceModels:function(){var e=this;Object(o.C)().then(function(t){if(!t.errMsg&&t.deviceModels){e.deviceModelOptions.push({value:"",label:"全部类型"});var l=!0,a=!1,n=void 0;try{for(var r,o=i()(t.deviceModels);!(l=(r=o.next()).done);l=!0){var s=r.value,d={value:s,label:s};e.deviceModelOptions.push(d)}}catch(e){a=!0,n=e}finally{try{!l&&o.return&&o.return()}finally{if(a)throw n}}}})},handleChange:function(e,t){var l=this;if(e.raw){var a=new FileReader;a.onload=function(e){l.contentHtml=e.target.result},a.readAsText(e.raw,"utf-8")}console.log(e,t)},initTree:function(e){var t=this;this.treeLoading=!0,Object(o.M)().then(function(l){l.errMsg?(t.$message({message:l.errMsg,type:"error"}),t.treeLoading=!1):(t.tree=l.tree,e||(t.expandNodeKeysArr.splice(0,t.expandNodeKeysArr.length),t.expandNodeKeysArr=t.tree.map(function(e){return e.id})),t.defaultExpandKeys=t.expandNodeKeysArr,t.treeLoading=!1,t.disableSetFolderBtn=!0,t.disableAddFolderBtn=!0,t.disableModifyFolderBtn=!0,t.disableDeleteFolderBtn=!0,t.disableResetRootBtn=!1,t.disableReleaseRootBtn=!0)})},getBundles:function(){var e=this;this.resourceTableShow=!0,this.userTableShow=!1;var t={deviceModel:this.filters.deviceModel,keyword:this.filters.keyword};this.resourceTableLoading=!0,Object(o.X)(t).then(function(t){t.errMsg?e.$message({message:t.errMsg,type:"error"}):e.resources=t.resources,e.resourceTableLoading=!1})},getUsers:function(){var e=this;this.resourceTableShow=!1,this.userTableShow=!0;var t={keyword:this.filters.keyword};this.userTableLoading=!0,Object(o._7)(t).then(function(t){t.errMsg?e.$message({message:t.errMsg,type:"error"}):e.users=t.users,e.userTableLoading=!1})},syncFolderToLdap:function(){var e=this;this.$confirm("是否确认上传LDAP?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.resourceTableLoading=!0,e.ldapLoading=!0;Object(o._24)({}).then(function(t){e.resourceTableLoading=!1,e.ldapLoading=!1,t.errMsg?e.$message({message:t.errMsg,type:"error"}):(e.$message({message:"同步成功数量："+t.successCnt,type:"success"}),e.initTree(!0))})}).catch(function(){e.$message({type:"info",message:"已取消"})})},downLoadFolderFromLdap:function(){var e=this;this.$confirm("是否确认从LDAP下载?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.resourceTableLoading=!0,e.ldapLoading=!0;Object(o._23)({}).then(function(t){e.resourceTableLoading=!1,e.ldapLoading=!1,t.errMsg?e.$message({message:t.errMsg,type:"error"}):(e.$message({message:"同步成功数量："+t.successCnt,type:"success"}),e.initTree())})}).catch(function(){e.$message({type:"info",message:"已取消"})})},cleanUpLdap:function(){var e=this;this.$confirm("确认清空所有上传到LDAP和从LDAP下载的信息么？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.resourceTableLoading=!0,e.ldapLoading=!0;Object(o.j)({}).then(function(t){e.resourceTableLoading=!1,e.ldapLoading=!1,t.errMsg?e.$message({message:t.errMsg,type:"error"}):(e.$message({message:"操作成功",type:"success"}),e.initTree(),e.getBundles())})}).catch(function(){e.$message({type:"info",message:"已取消"})})},showAddFolderDialog:function(){this.dialogAddForderFormVisible=!0},addFolder:function(){var e=this;if(this.folderForm.name.length){var t={name:this.folderForm.name,parentId:this.currentSelectNode.id,toLdap:this.folderForm.toLdap};Object(o.b)(t).then(function(t){t.errMsg?e.$message({message:t.errMsg,type:"error"}):(e.initTree(!0),e.dialogAddForderFormVisible=!1)})}else this.$message({message:"请输入分组名称",type:"error"})},showModifyFolderDialog:function(){this.dialogmodifyForderFormVisible=!0,this.modifyForm={name:this.currentSelectNode.name,toLdap:this.currentSelectNode.toLdap}},modifyFolder:function(){var e=this;if(this.modifyForm.name.length){var t={id:this.currentSelectNode.id,name:this.modifyForm.name,toLdap:this.modifyForm.toLdap};Object(o.T)(t).then(function(t){t.errMsg?e.$message({message:t.errMsg,type:"error"}):(e.initTree(!0),e.dialogmodifyForderFormVisible=!1)})}else this.$message({message:"请输入分组名称",type:"error"})},deleteFolder:function(){var e=this;if(this.currentSelectNode.beFolder){this.treeLoading=!0;var t={id:this.currentSelectNode.id};Object(o.p)(t).then(function(t){t.errMsg?(e.$message({message:t.errMsg,type:"error"}),e.treeLoading=!1):e.initTree(!0)})}else if(this.currentSelectNode.bundleId){this.treeLoading=!0;var l={bundleIds:this.currentSelectNode.bundleId};Object(o._9)(l).then(function(t){t.errMsg?(e.$message({message:t.errMsg,type:"error"}),e.treeLoading=!1):(e.initTree(!0),e.getBundles())})}else if(this.currentSelectNode.id){this.treeLoading=!0;var a={userIds:this.currentSelectNode.id};Object(o._10)(a).then(function(t){t.errMsg?(e.$message({message:t.errMsg,type:"error"}),e.treeLoading=!1):(e.initTree(!0),e.getUsers())})}},resetRoot:function(){var e=this;Object(o._11)({}).then(function(t){t.errMsg?e.$message({message:t.errMsg,type:"error"}):e.initTree()})},releaseRoot:function(){var e=this;Object(o._8)({folderId:this.currentSelectNode.id}).then(function(t){t.errMsg?e.$message({message:t.errMsg,type:"error"}):(e.$message({message:"操作成功！",type:"success"}),e.initTree())})},handleNodeExpand:function(e,t){this.expandNodeKeysArr.push(t.key)},handleNodeCollapse:function(e,t){for(var l=0;l<this.expandNodeKeysArr.length;l++)this.expandNodeKeysArr[l]===t.key&&this.expandNodeKeysArr.splice(l,1)},setFolder:function(){var e=this;if(this.resourceTableShow){var t=this.multipleSelection.map(function(e){return e.bundleId}),l={folderId:this.currentSelectNode.id,bundleIds:t.join(",")};Object(o._14)(l).then(function(t){t.errMsg?e.$message({message:t.errMsg,type:"error"}):(e.currentSelectNode.children=e.currentSelectNode.children.concat(t.bundleNodes),e.getBundles())})}else if(this.userTableShow){var a=this.multipleSelection,r={folderId:this.currentSelectNode.id,users:n()(a)};Object(o._15)(r).then(function(t){t.errMsg?e.$message({message:t.errMsg,type:"error"}):(e.currentSelectNode.children=e.currentSelectNode.children.concat(t.userNodes),e.getUsers())})}},handleSelectionChange:function(e){this.multipleSelection=e,this.multipleSelection.length&&this.currentSelectNode&&this.currentSelectNode.beFolder?this.disableSetFolderBtn=!1:this.disableSetFolderBtn=!0},handleNodeClick:function(e,t,l){this.currentSelectNode=e,e.beFolder?(this.disableAddFolderBtn=!1,this.disableModifyFolderBtn=!1,this.multipleSelection.length&&(this.disableSetFolderBtn=!1),e.children&&e.children.length||e.parentId<0?this.disableDeleteFolderBtn=!0:this.disableDeleteFolderBtn=!1,-1==e.parentId?this.disableReleaseRootBtn=!1:this.disableReleaseRootBtn=!0):(this.disableAddFolderBtn=!0,this.disableModifyFolderBtn=!0,this.disableSetFolderBtn=!0,this.disableDeleteFolderBtn=!1,this.disableReleaseRootBtn=!0),e.systemSourceType||(this.disableAddFolderBtn=!0,this.disableModifyFolderBtn=!0,this.disableSetFolderBtn=!0,this.disableDeleteFolderBtn=!0,this.disableReleaseRootBtn=!0)},handleNodeDragEnd:function(e,t,l,a){var n=this;if(a.stopPropagation(),"none"!==l){if("USER"===e.data.nodeType&&"USER"===t.data.nodeType)return"inner"!==l&&(console.log("交换两个用户的排序"),console.log(l),void Object(o.e)({draggingId:e.data.id,dropId:t.data.id,folderId:e.data.parentId,type:l}).then(function(e){e.errMsg&&n.$message({message:e.errMsg,type:"error"}),n.initTree(!0)}));var r,i;"FOLDER"===e.data.nodeType?r=e.data.id:"BUNDLE"===e.data.nodeType?r=e.data.bundleId:"USER"===e.data.nodeType&&(r=e.data.username),"FOLDER"===t.data.nodeType?i=t.data.id:"BUNDLE"===t.data.nodeType?i=t.data.bundleId:"USER"===t.data.nodeType&&(i=t.data.username);var s={nodeId:r,changeType:l,nodeType:e.data.nodeType,newTargetId:i,newTargetType:t.data.nodeType,newTargetIndex:t.data.folderIndex,newTargetParentId:t.data.parentId};Object(o.f)(s).then(function(e){e.errMsg&&n.$message({message:e.errMsg,type:"error"}),console.log("change end, initTree"),n.initTree(!0)})}},allowDrop:function(e,t,l){if("USER"===e.data.nodeType&&"USER"!==t.data.nodeType)return!1;if(e.data.parentId!==t.data.parentId)return!1;if("inner"===l)return!1;if(e.id===t.id)return!1;if("none"===l)return!1;if(t.data.systemSourceType&&-1===e.data.parentId&&e.data.systemSourceType)return!1;if("ON_DEMAND"===t.data.folderType)return!1;if("FOLDER"!==t.data.nodeType&&(-1!==t.data.parentId&&"ON_DEMAND"===this.$refs.tree.getNode(t.data.parentId).data.folderType))return!1;return"next"!==l&&"prev"!==l||-1!==t.data.parentId},allowDrag:function(e){return("FOLDER"===e.data.nodeType||"USER"===e.data.nodeType)&&(!(-1===e.data.parentId&&!e.data.systemSourceType)&&("ON_DEMAND"!==e.data.folderType&&!!e.data.systemSourceType))},showSetRootDialog:function(){this.dialogsetRootVisible=!0,this.getRootoptions()},getRootoptions:function(){var e=this;this.setRootOptions=[],Object(o._3)({}).then(function(t){if(t.errMsg)e.$message({message:t.errMsg,type:"error"});else{var l=!0,a=!1,n=void 0;try{for(var r,o=i()(t.rootOptions);!(l=(r=o.next()).done);l=!0){var s=r.value,d={value:s.id,label:s.name};e.setRootOptions.push(d)}}catch(e){a=!0,n=e}finally{try{!l&&o.return&&o.return()}finally{if(a)throw n}}}})},setRoot:function(){var e=this,t={rootId:this.setRootId};Object(o._16)(t).then(function(t){t.errMsg?e.$message({message:t.errMsg,type:"error"}):(e.dialogsetRootVisible=!1,e.initTree())})},uploadSuccess:function(e){e.errMsg?this.$message({message:e.errMsg,type:"error"}):(null!=e.successCnt?this.$message({message:"成功导入分组的数量："+e.successCnt,type:"success"}):this.$message({message:"导入失败",type:"error"}),this.initTree(!0))},uploadError:function(e){this.$message({message:"上传文件错误: "+n()(e),type:"error"})},onprogress:function(){},exportFolder:function(){var e=this;Object(o.t)(null).then(function(e){var t=new Blob([e.data],{type:"application/octet-stream;charset=utf-8"}),l=document.createElement("a");l.download="Folder.csv",l.style.display="none",l.href=URL.createObjectURL(t),document.body.appendChild(l),l.click(),URL.revokeObjectURL(l.href),document.body.removeChild(l)}).catch(function(t){e.$message({message:t,type:"error"})})},exportUser:function(){var e=this;Object(o.u)(null).then(function(e){var t=new Blob([e.data],{type:"application/octet-stream;charset=utf-8"}),l=document.createElement("a");l.download="UserFolder.csv",l.style.display="none",l.href=URL.createObjectURL(t),document.body.appendChild(l),l.click(),URL.revokeObjectURL(l.href),document.body.removeChild(l)}).catch(function(t){e.$message({message:t,type:"error"})})}},mounted:function(){var e=this;e.$nextTick(function(){e.$parent.$parent.$parent.$parent.$parent.setActive("/FolderManage")}),this.initTree(),this.getDeviceModels(),this.getBundles()}},c={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("section",[l("el-tabs",{staticStyle:{float:"left",width:"100%"},model:{value:e.activeTabName,callback:function(t){e.activeTabName=t},expression:"activeTabName"}},[l("el-tab-pane",{attrs:{label:"分组管理",name:"分组管理"}})],1),e._v(" "),l("el-card",{staticStyle:{float:"left","margin-top":"10px",width:"45%","font-size":"18px","min-height":"800px"},attrs:{"body-style":"padding:0px"}},[l("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[l("div",{staticClass:"clearfix-first",staticStyle:{position:"relative",width:"100%",height:"37px"}},[l("el-button",{staticStyle:{float:"left"},attrs:{type:"primary",size:"small",disabled:e.disableAddFolderBtn},on:{click:e.showAddFolderDialog}},[e._v("添加目录\n        ")]),e._v(" "),l("el-button",{staticStyle:{float:"left"},attrs:{type:"primary",size:"small",disabled:e.disableModifyFolderBtn},on:{click:e.showModifyFolderDialog}},[e._v("修改\n        ")]),e._v(" "),l("el-button",{staticStyle:{float:"left"},attrs:{type:"danger",size:"small",disabled:e.disableDeleteFolderBtn},on:{click:e.deleteFolder}},[e._v("删除\n        ")]),e._v(" "),l("el-button",{staticStyle:{float:"left"},attrs:{type:"danger",size:"small",disabled:e.disableReleaseRootBtn},on:{click:e.releaseRoot}},[e._v("解除根目录")]),e._v(" "),l("el-dropdown",{staticStyle:{float:"left","margin-left":"10px"}},[l("el-button",{attrs:{type:"primary",size:"small",loading:e.ldapLoading}},[e._v("\n            用户及分组LDAP操作"),l("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),l("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[l("el-dropdown-item",{nativeOn:{click:function(t){return e.syncFolderToLdap()}}},[e._v("上传到LDAP")]),e._v(" "),l("el-dropdown-item",{nativeOn:{click:function(t){return e.downLoadFolderFromLdap()}}},[e._v("从LDAP下载")]),e._v(" "),l("el-dropdown-item",{nativeOn:{click:function(t){return e.cleanUpLdap()}}},[e._v("重置LDAP数据")])],1)],1)],1),e._v(" "),l("div",{staticClass:"clearfix-second",staticStyle:{position:"relative"}},[l("el-upload",{staticClass:"upload-folder",staticStyle:{float:"left"},attrs:{action:e.uploadUrl,name:"filePoster",headers:e.myHeaders,"show-file-list":!1,accept:".csv","on-success":e.uploadSuccess,"on-error":e.uploadError,"on-progress":e.onprogress}},[l("el-button",{attrs:{type:"primary",size:"small"}},[e._v("导入分组")])],1),e._v(" "),l("el-button",{staticStyle:{float:"left","margin-left":"10px"},attrs:{type:"primary",size:"small"},on:{click:e.exportFolder}},[e._v("导出分组\n        ")]),e._v(" "),l("el-upload",{staticClass:"upload-user",staticStyle:{float:"left","margin-left":"10px"},attrs:{action:e.uploadUserUrl,name:"userFile",headers:e.myHeaders,"show-file-list":!1,"on-success":e.uploadSuccess,accept:".csv","on-error":e.uploadError,"on-progress":e.onprogress,"on-change":e.handleChange}},[l("el-button",{attrs:{type:"primary",size:"small"}},[e._v("导入用户")])],1),e._v(" "),l("el-button",{staticStyle:{float:"left","margin-left":"10px"},attrs:{type:"primary",size:"small"},on:{click:e.exportUser}},[e._v("\n          导出用户\n        ")])],1)]),e._v(" "),l("div",{directives:[{name:"loading",rawName:"v-loading",value:e.treeLoading,expression:"treeLoading"}],staticClass:"custom-tree-container"},[l("div",[l("el-tree",{ref:"tree",attrs:{data:e.tree,"node-key":"id","highlight-current":"","expand-on-click-node":!1,props:e.defaultProps,"default-expanded-keys":e.defaultExpandKeys,draggable:"","allow-drop":e.allowDrop,"allow-drag":e.allowDrag},on:{"node-click":e.handleNodeClick,"node-drag-end":e.handleNodeDragEnd,"node-expand":e.handleNodeExpand,"node-collapse":e.handleNodeCollapse}})],1)])]),e._v(" "),l("el-card",{staticStyle:{float:"left","margin-left":"50px","margin-top":"10px",width:"50%","min-height":"800px"},attrs:{"body-style":"padding:0px"}},[l("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[l("el-select",{staticStyle:{float:"left","margin-left":"30px",width:"100px"},attrs:{size:"small",placeholder:"选择设备类型"},model:{value:e.filters.deviceModel,callback:function(t){e.$set(e.filters,"deviceModel",t)},expression:"filters.deviceModel"}},e._l(e.deviceModelOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),l("el-input",{staticStyle:{float:"left","margin-left":"30px",width:"150px"},attrs:{size:"small",placeholder:"关键字"},model:{value:e.filters.keyword,callback:function(t){e.$set(e.filters,"keyword",t)},expression:"filters.keyword"}}),e._v(" "),l("el-button",{staticStyle:{float:"left","margin-left":"30px"},attrs:{type:"info",size:"small"},on:{click:e.getBundles}},[e._v("查询设备\n      ")]),e._v(" "),l("el-button",{staticStyle:{float:"left","margin-left":"30px"},attrs:{type:"info",size:"small"},on:{click:e.getUsers}},[e._v("查询用户\n      ")]),e._v(" "),l("el-button",{staticStyle:{float:"right","margin-right":"50px"},attrs:{type:"primary",size:"small",disabled:e.disableSetFolderBtn},on:{click:e.setFolder}},[e._v("加入分组\n      ")])],1),e._v(" "),l("el-table",{directives:[{name:"show",rawName:"v-show",value:e.resourceTableShow,expression:"resourceTableShow"},{name:"loading",rawName:"v-loading",value:e.resourceTableLoading,expression:"resourceTableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.resources},on:{"selection-change":e.handleSelectionChange}},[l("el-table-column",{attrs:{width:"50",type:"selection"}}),e._v(" "),l("el-table-column",{attrs:{prop:"bundleName",label:"名称",width:"200",sortable:""}}),e._v(" "),l("el-table-column",{attrs:{prop:"deviceModel",label:"资源类型",width:"150",sortable:""}}),e._v(" "),l("el-table-column",{attrs:{prop:"username",label:"账号",width:"200",sortable:""}}),e._v(" "),l("el-table-column",{attrs:{prop:"bundleId",label:"资源ID",width:"300",sortable:""}})],1),e._v(" "),l("el-table",{directives:[{name:"show",rawName:"v-show",value:e.userTableShow,expression:"userTableShow"},{name:"loading",rawName:"v-loading",value:e.userTableLoading,expression:"userTableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.users},on:{"selection-change":e.handleSelectionChange}},[l("el-table-column",{attrs:{width:"50",type:"selection"}}),e._v(" "),l("el-table-column",{attrs:{prop:"name",label:"名称",width:"200",sortable:""}}),e._v(" "),l("el-table-column",{attrs:{prop:"userNo",label:"用户编号",width:"200",sortable:""}}),e._v(" "),l("el-table-column",{attrs:{prop:"creater",label:"创建者",width:"250",sortable:""}})],1)],1),e._v(" "),l("el-dialog",{attrs:{title:"添加分组",visible:e.dialogAddForderFormVisible,width:"30%"},on:{"update:visible":function(t){e.dialogAddForderFormVisible=t}}},[l("el-form",{attrs:{model:e.folderForm,"label-width":"100px"}},[l("el-form-item",{attrs:{label:"分组名称"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.folderForm.name,callback:function(t){e.$set(e.folderForm,"name",t)},expression:"folderForm.name"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"上传LDAP"}},[l("el-select",{attrs:{placeholder:"是否上传LDAP"},model:{value:e.folderForm.toLdap,callback:function(t){e.$set(e.folderForm,"toLdap",t)},expression:"folderForm.toLdap"}},e._l(e.toLdapoptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.dialogAddForderFormVisible=!1}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:e.addFolder}},[e._v("确 定")])],1)],1),e._v(" "),l("el-dialog",{attrs:{title:"修改分组",visible:e.dialogmodifyForderFormVisible,width:"30%"},on:{"update:visible":function(t){e.dialogmodifyForderFormVisible=t}}},[l("el-form",{attrs:{model:e.modifyForm,"label-width":"100px"}},[l("el-form-item",{attrs:{label:"分组名称"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.modifyForm.name,callback:function(t){e.$set(e.modifyForm,"name",t)},expression:"modifyForm.name"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"上传LDAP"}},[l("el-select",{attrs:{placeholder:"是否上传LDAP"},model:{value:e.modifyForm.toLdap,callback:function(t){e.$set(e.modifyForm,"toLdap",t)},expression:"modifyForm.toLdap"}},e._l(e.toLdapoptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.dialogmodifyForderFormVisible=!1}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:e.modifyFolder}},[e._v("确 定")])],1)],1),e._v(" "),l("el-dialog",{attrs:{title:"设置根目录",visible:e.dialogsetRootVisible,width:"30%"},on:{"update:visible":function(t){e.dialogsetRootVisible=t}}},[l("div",{staticStyle:{"margin-top":"10px"}},[l("el-select",{staticStyle:{float:"left","margin-left":"30px",width:"200px"},attrs:{placeholder:"选择根目录"},model:{value:e.setRootId,callback:function(t){e.setRootId=t},expression:"setRootId"}},e._l(e.setRootOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.dialogsetRootVisible=!1}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:e.setRoot}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]};var u=l("VU/8")(d,c,!1,function(e){l("MQH7")},null,null);t.default=u.exports},oAxA:function(e,t){},"q6+0":function(e,t){},qoXU:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l("mvHQ"),n=l.n(a),r=l("BO1k"),i=l.n(r),o=l("P9l9"),s=document.location.origin,d={name:"templateManage",data:function(){return{activeTabName:"BundleTemplateManage",filters:{keyword:""},tableLoading:!1,templates:[],multipleSelection:[],templateTree:[],treeProps:{children:"children",label:"label"},uploadUrl:s+"/template/import",myHeaders:{"tetris-001":sessionStorage.getItem("token")}}},methods:{handleTabClick:function(e,t){"BundleTemplateManage"!==e.name&&this.$router.push("/"+e.name)},getTemplates:function(){var e=this;this.tableLoading=!0;var t={name:this.filters.keyword};Object(o.I)(t).then(function(t){t.errMsg?e.$message({message:t.errMsg,type:"error"}):e.templates=t.templates,e.tableLoading=!1})},handleSelectionChange:function(e){this.multipleSelection=e},handleDetail:function(e){var t=this,l={channelTemplateId:e.id};Object(o.H)(l).then(function(e){e.errMsg?t.$message({message:e.errMsg,type:"error"}):t.templateTree=e.tree})},handleSingleDelete:function(e){var t=this;this.$confirm("是否确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var l={templateIds:e.id};Object(o.r)(l).then(function(e){e.errMsg?t.$message({message:e.errMsg,type:"error"}):(t.$message({message:"删除成功",type:"success"}),t.getTemplates(),t.templateTree=[])})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},handleMultiDelete:function(){var e=this;this.multipleSelection.length?this.$confirm("是否确认删除所有选定行?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t="",l=!0,a=!1,n=void 0;try{for(var r,s=i()(e.multipleSelection);!(l=(r=s.next()).done);l=!0){t+=r.value.id,t+=";"}}catch(e){a=!0,n=e}finally{try{!l&&s.return&&s.return()}finally{if(a)throw n}}var d={templateIds:t};Object(o.r)(d).then(function(t){t.errMsg?e.$message({message:t.errMsg,type:"error"}):(e.$message({message:"删除成功",type:"success"}),e.getTemplates(),e.templateTree=[])})}).catch(function(){e.$message({type:"info",message:"已取消删除"})}):this.$message({message:"请至少选择一行",type:"warning"})},uploadSuccess:function(e){e.errMsg?this.$message({message:e.errMsg,type:"error"}):(this.$message({message:"导入成功",type:"success"}),this.getTemplates())},uploadError:function(e,t,l){this.$message({message:"上传文件错误"+n()(e),type:"error"})}},mounted:function(){var e=this;if(this.$nextTick(function(){e.$parent.$parent.$parent.$parent.$parent.setActive("/BundleTemplateManage")}),this.getTemplates(),-1!==this.uploadUrl.indexOf("__requestIP__")){var t=document.location.host.split(":")[0];this.uploadUrl=this.uploadUrl.replace("__requestIP__",t)}}},c={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("section",[l("el-tabs",{staticStyle:{float:"left",width:"100%"},on:{"tab-click":e.handleTabClick},model:{value:e.activeTabName,callback:function(t){e.activeTabName=t},expression:"activeTabName"}},[l("el-tab-pane",{attrs:{label:"设备模板管理",name:"BundleTemplateManage"}})],1),e._v(" "),l("el-card",{staticStyle:{float:"left","margin-top":"10px",width:"50%","min-height":"700px"},attrs:{"body-style":"padding:0px"}},[l("div",{staticStyle:{height:"30px"},attrs:{slot:"header"},slot:"header"},[l("el-input",{staticStyle:{float:"left",width:"150px"},attrs:{size:"small",placeholder:"关键字"},model:{value:e.filters.keyword,callback:function(t){e.$set(e.filters,"keyword",t)},expression:"filters.keyword"}}),e._v(" "),l("el-button",{staticStyle:{float:"left","margin-left":"30px"},attrs:{size:"small",type:"info"},on:{click:e.getTemplates}},[e._v("查询")]),e._v(" "),l("el-upload",{staticClass:"upload-demo",staticStyle:{float:"right","margin-right":"10px"},attrs:{action:e.uploadUrl,name:"filePoster",headers:e.myHeaders,"show-file-list":!1,"on-success":e.uploadSuccess,"on-error":e.uploadError}},[l("el-button",{attrs:{size:"small",type:"primary"}},[e._v("导入模板")])],1),e._v(" "),l("el-button",{staticStyle:{float:"right","margin-right":"10px"},attrs:{size:"small",type:"danger"},on:{click:e.handleMultiDelete}},[e._v("批量删除")])],1),e._v(" "),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.templates},on:{"selection-change":e.handleSelectionChange}},[l("el-table-column",{attrs:{width:"100",type:"selection"}}),e._v(" "),l("el-table-column",{attrs:{prop:"deviceModel",label:"设备类型",width:"300",sortable:""}}),e._v(" "),l("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){return e.handleDetail(t.row)}}},[e._v("详情")]),e._v(" "),l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){return e.handleSingleDelete(t.row)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),l("el-card",{staticStyle:{float:"left","margin-left":"50px","margin-top":"10px",width:"40%","min-height":"700px"},attrs:{"body-style":"padding:0px"}},[l("div",{staticStyle:{height:"30px"},attrs:{slot:"header"},slot:"header"},[l("span",{staticStyle:{float:"left","font-size":"18px"}},[e._v("模板属性")])]),e._v(" "),l("el-tree",{attrs:{data:e.templateTree,props:e.treeProps,"default-expand-all":""}})],1)],1)},staticRenderFns:[]};var u=l("VU/8")(d,c,!1,function(e){l("X6aP")},"data-v-9f9e2d5c",null);t.default=u.exports},r1Id:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l("P9l9"),n={data:function(){return{form:{encodeId:"",encodeBundleId:"",encodeBundleName:"",encodeDeviceModel:"",encodeUsername:"",encodeIp:"",decodeId:"",decodeBundleId:"",decodeBundleName:"",decodeDeviceModel:"",decodeUsername:"",decodeIp:""},tree:{props:{label:"name",children:"children",isLeaf:"isLeaf"},data:[],currentUser:""},table:{data:[]},dialog:{bindBundle:{visible:!1},selectEncoder:{visible:!1,condition:{bundleName:"",bundleNo:"",ip:"",bundleId:""},table:{data:[],page:{total:0,currentPage:0,pageSize:50},current:""}},selectDecoder:{visible:!1,condition:{bundleName:"",bundleNo:"",ip:"",bundleId:""},table:{data:[],page:{total:0,currentPage:0,pageSize:50},current:""}}}}},methods:{refreshUser:function(){var e=this;Object(a.w)().then(function(t){if(t.errMsg)e.$message({message:t.errMsg,type:"error"});else if(e.tree.data.splice(0,e.tree.data.length),e.tree.data.push({id:0,uuid:"FOLDER_0",type:"FOLDER",name:"用户列表",children:[],isLeaf:!1}),t.users&&t.users.length>0)for(var l=0;l<t.users.length;l++)e.tree.data[0].children.push({id:t.users[l].id,uuid:"USER_"+t.users[l].id,name:t.users[l].name,type:"USER",userNo:t.users[l].userNo,isLeaf:!0})})},currentTreeNodeChange:function(e){var t=this;t.table.data.splice(0,t.table.data.length),"FOLDER"===e.type?t.tree.currentUser="":(t.tree.currentUser=e,Object(a._6)({userId:e.id}).then(function(e){if(200!==e.status)t.$message({message:e.message,type:"error"});else{var l=e.data;l.userId?(l.encodeBundleId?(t.form.encodeId=l.encodeId,t.form.encodeBundleId=l.encodeBundleId,t.form.encodeBundleName=l.encodeBundleName,t.form.encodeDeviceModel=l.encodeDeviceModel,t.form.encodeUsername=l.encodeUsername,t.form.encodeIp=l.encodeIp,t.table.data.push({bundleId:l.encodeBundleId,bundleName:l.encodeBundleName,deviceModel:l.encodeDeviceModel,username:l.encodeUserName,ip:l.encodeIp,type:"编码器"})):(t.form.encodeId="",t.form.encodeBundleId="",t.form.encodeBundleName="",t.form.encodeDeviceModel="",t.form.encodeUsername="",t.form.encodeIp=""),l.decodeBundleId?(t.form.decodeId=l.decodeId,t.form.decodeBundleId=l.decodeBundleId,t.form.decodeBundleName=l.decodeBundleName,t.form.decodeDeviceModel=l.decodeDeviceModel,t.form.decodeUsername=l.decodeUsername,t.form.decodeIp=l.decodeIp,t.table.data.push({bundleId:l.decodeBundleId,bundleName:l.decodeBundleName,deviceModel:l.decodeDeviceModel,username:l.decodeUserName,ip:l.decodeIp,type:"解码器"})):(t.form.decodeId="",t.form.decodeBundleId="",t.form.decodeBundleName="",t.form.decodeDeviceModel="",t.form.decodeUsername="",t.form.decodeIp="")):(t.form.encodeId="",t.form.encodeBundleId="",t.form.encodeBundleName="",t.form.encodeDeviceModel="",t.form.encodeUsername="",t.form.encodeIp="",t.form.decodeId="",t.form.decodeBundleId="",t.form.decodeBundleName="",t.form.decodeDeviceModel="",t.form.decodeUsername="",t.form.decodeIp="")}}))},handleBindBundle:function(){this.dialog.bindBundle.visible=!0},handleBindBundleClose:function(){this.dialog.bindBundle.visible=!1},handleBindBundleCommit:function(){var e=this;Object(a._17)({userId:e.tree.currentUser.id,userName:e.tree.currentUser.name,encodeId:e.form.encodeId,encodeBundleId:e.form.encodeBundleId,encodeBundleName:e.form.encodeBundleName,encodeDeviceModel:e.form.encodeDeviceModel,decodeId:e.form.decodeId,decodeBundleId:e.form.decodeBundleId,decodeBundleName:e.form.decodeBundleName,decodeDeviceModel:e.form.decodeDeviceModel}).then(function(t){200!==t.status?e.$message({message:t.message,type:"error"}):(e.table.data.splice(0,e.table.data.length),e.table.data.push({bundleId:e.form.encodeBundleId,bundleName:e.form.encodeBundleName,deviceModel:e.form.encodeDeviceModel,username:e.form.encodeUsername,ip:e.form.encodeIp,type:"编码器"}),e.table.data.push({bundleId:e.form.decodeBundleId,bundleName:e.form.decodeBundleName,deviceModel:e.form.decodeDeviceModel,username:e.form.decodeUsername,ip:e.form.decodeIp,type:"解码器"}),e.handleBindBundleClose())})},refreshEncoder:function(e){var t=this;t.dialog.selectEncoder.table.data.splice(0,t.dialog.selectEncoder.table.data.length),Object(a._0)({currentPage:e,pageSize:t.dialog.selectEncoder.table.page.pageSize,bundleName:t.dialog.selectEncoder.condition.bundleName||null,username:t.dialog.selectEncoder.condition.bundleNo||null,ip:t.dialog.selectEncoder.condition.ip||null,bundleId:t.dialog.selectEncoder.condition.bundleId||null}).then(function(l){if(200!==l.status)t.$message({message:l.message,type:"error"});else{var a=l.data,n=a.total,r=a.rows;if(r&&r.length>0)for(var i=0;i<r.length;i++)t.dialog.selectEncoder.table.data.push(r[i]);t.dialog.selectEncoder.table.page.total=n||0,t.dialog.selectEncoder.table.page.currentPage=e}})},selectEncoderTableRowKey:function(e){return e.bundleId},handleRefreshEncoder:function(){this.refreshEncoder(1)},handleSelectEncoder:function(){this.dialog.selectEncoder.visible=!0,this.refreshEncoder(1)},handleSelectEncoderClose:function(){this.dialog.selectEncoder.visible=!1,this.dialog.selectEncoder.condition.bundleName="",this.dialog.selectEncoder.condition.bundleNo="",this.dialog.selectEncoder.condition.ip="",this.dialog.selectEncoder.condition.bundleId="",this.dialog.selectEncoder.table.data.splice(0,this.dialog.selectEncoder.table.data.length),this.dialog.selectEncoder.table.page.total=0,this.dialog.selectEncoder.table.page.currentPage=0,this.dialog.selectEncoder.table.current=""},handleSelectEncoderCommit:function(){this.form.encodeId=this.dialog.selectEncoder.table.current.id,this.form.encodeBundleId=this.dialog.selectEncoder.table.current.bundleId,this.form.encodeBundleName=this.dialog.selectEncoder.table.current.bundleName,this.form.encodeDeviceModel=this.dialog.selectEncoder.table.current.deviceModel,this.form.encodeUsername=this.dialog.selectEncoder.table.current.username,this.form.encodeIp=this.dialog.selectEncoder.table.current.ip,this.handleSelectEncoderClose()},handleSelectEncoderCurrentChange:function(e){this.refreshEncoder(e)},selectEncoderCurrentChange:function(e){this.dialog.selectEncoder.table.current=e},refreshDecoder:function(e){var t=this;t.dialog.selectDecoder.table.data.splice(0,t.dialog.selectDecoder.table.data.length),Object(a.Z)({currentPage:e,pageSize:t.dialog.selectDecoder.table.page.pageSize,bundleName:t.dialog.selectDecoder.condition.bundleName||null,username:t.dialog.selectDecoder.condition.bundleNo||null,ip:t.dialog.selectDecoder.condition.ip||null,bundleId:t.dialog.selectDecoder.condition.bundleId||null}).then(function(l){if(200!==l.status)t.$message({message:l.message,type:"error"});else{var a=l.data,n=a.total,r=a.rows;if(r&&r.length>0)for(var i=0;i<r.length;i++)t.dialog.selectDecoder.table.data.push(r[i]);t.dialog.selectDecoder.table.page.total=n||0,t.dialog.selectDecoder.table.page.currentPage=e}})},selectDecoderTableRowKey:function(e){return e.bundleId},handleRefreshDecoder:function(){this.refreshDecoder(1)},handleSelectDecoder:function(){this.dialog.selectDecoder.visible=!0,this.refreshDecoder(1)},handleSelectDecoderClose:function(){this.dialog.selectDecoder.visible=!1,this.dialog.selectDecoder.condition.bundleName="",this.dialog.selectDecoder.condition.bundleNo="",this.dialog.selectDecoder.condition.ip="",this.dialog.selectDecoder.condition.bundleId="",this.dialog.selectDecoder.table.data.splice(0,this.dialog.selectDecoder.table.data.length),this.dialog.selectDecoder.table.page.total=0,this.dialog.selectDecoder.table.page.currentPage=0,this.dialog.selectDecoder.table.current=""},handleSelectDecoderCommit:function(){this.form.decodeId=this.dialog.selectDecoder.table.current.id,this.form.decodeBundleId=this.dialog.selectDecoder.table.current.bundleId,this.form.decodeBundleName=this.dialog.selectDecoder.table.current.bundleName,this.form.decodeDeviceModel=this.dialog.selectDecoder.table.current.deviceModel,this.form.decodeUsername=this.dialog.selectDecoder.table.current.username,this.form.decodeIp=this.dialog.selectDecoder.table.current.ip,this.handleSelectDecoderClose()},handleSelectDecoderCurrentChange:function(e){this.refreshDecoder(e)},selectDecoderCurrentChange:function(e){this.dialog.selectDecoder.table.current=e},handleRemove:function(e){var t=this;Object(a._30)({userId:t.tree.currentUser.id,type:e.type}).then(function(l){if(200!==l.status)t.$message({message:l.message,type:"error"});else for(var a=t.table.data,n=a.length-1;n>=0;n--)e.type==a[n].type&&a.splice(n,1)})}},mounted:function(){var e=this;e.$nextTick(function(){e.$parent.$parent.$parent.$parent.$parent.setActive("/UserBindBundle")}),e.refreshUser()}},r={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticStyle:{position:"absolute",left:"20px",top:"20px",right:"20px",bottom:"20px"}},[l("div",{staticStyle:{width:"100%",height:"100%",position:"relative"}},[l("div",{staticStyle:{position:"absolute",left:"0",top:"0",bottom:"0",width:"400px","background-color":"#fff","border-right":"1px solid #EBEEF5",padding:"10px","box-sizing":"border-box"}},[l("el-scrollbar",{staticStyle:{height:"100%"}},[l("el-tree",{ref:"userTree",attrs:{props:e.tree.props,data:e.tree.data,"node-key":"uuid","check-strictly":"","expand-on-click-node":!1,"default-expand-all":"","highlight-current":""},on:{"current-change":e.currentTreeNodeChange},scopedSlots:e._u([{key:"default",fn:function(t){t.node;var a=t.data;return l("span",{staticStyle:{flex:"1",display:"flex","align-items":"center","justify-content":"space-between","padding-right":"8px"}},[l("span",{staticStyle:{"font-size":"14px"}},["FOLDER"===a.type?l("span",{staticClass:"icon-folder-open"}):l("span",{staticClass:"icon-user"}),e._v(" "),l("span",[e._v(e._s(a.name))])])])}}])})],1)],1),e._v(" "),e.tree.currentUser?l("div",{staticStyle:{position:"absolute",left:"401px",top:"0",bottom:"0",right:"0","background-color":"#fff","box-sizing":"border-box",padding:"10px"}},[l("el-scrollbar",{staticStyle:{height:"100%"}},[l("div",{staticStyle:{"margin-bottom":"22px"}},[l("el-button",{attrs:{type:"warning",size:"small"},on:{click:e.handleBindBundle}},[e._v("绑定设备")])],1),e._v(" "),l("el-table",{staticStyle:{width:"100%"},attrs:{data:e.table.data}},[l("el-table-column",{attrs:{prop:"bundleName",label:"设备名称"}}),e._v(" "),l("el-table-column",{attrs:{prop:"bundleId",width:"300",label:"bundleId"}}),e._v(" "),l("el-table-column",{attrs:{prop:"username",label:"设备号码"}}),e._v(" "),l("el-table-column",{attrs:{prop:"ip",label:"ip"}}),e._v(" "),l("el-table-column",{attrs:{prop:"type",label:"类型"}}),e._v(" "),l("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){return e.handleRemove(t.row)}}},[e._v("解绑")])]}}],null,!1,640721411)})],1)],1)],1):e._e()]),e._v(" "),[l("el-dialog",{attrs:{title:"绑定设备",visible:e.dialog.bindBundle.visible,width:"500px","before-close":e.handleBindBundleClose},on:{"update:visible":function(t){return e.$set(e.dialog.bindBundle,"visible",t)}}},[l("el-form",{attrs:{"label-width":"80px"}},[l("el-form-item",{attrs:{label:"编码器"}},[l("el-input",{attrs:{readonly:"",placeholder:"点击选择设备"},nativeOn:{click:function(t){return e.handleSelectEncoder(t)}},model:{value:e.form.encodeBundleName,callback:function(t){e.$set(e.form,"encodeBundleName",t)},expression:"form.encodeBundleName"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"解码器"}},[l("el-input",{attrs:{readonly:"",placeholder:"点击选择设备"},nativeOn:{click:function(t){return e.handleSelectDecoder(t)}},model:{value:e.form.decodeBundleName,callback:function(t){e.$set(e.form,"decodeBundleName",t)},expression:"form.decodeBundleName"}})],1)],1),e._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{size:"medium"},on:{click:e.handleBindBundleClose}},[e._v("取消")]),e._v(" "),l("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.handleBindBundleCommit}},[e._v("确定")])],1)],1),e._v(" "),l("el-dialog",{attrs:{title:"选择编码器",visible:e.dialog.selectEncoder.visible,width:"1000px","before-close":e.handleSelectEncoderClose},on:{"update:visible":function(t){return e.$set(e.dialog.selectEncoder,"visible",t)}}},[l("div",{staticStyle:{height:"450px",position:"relative"}},[l("div",{staticStyle:{position:"absolute",left:"-20px",top:"-20px",right:"-20px",bottom:"-20px"}},[l("div",{staticStyle:{width:"100%",height:"100%",position:"relative"}},[l("div",{staticStyle:{width:"100%",height:"40px","padding-left":"20px","padding-right":"20px","box-sizing":"border-box",position:"relative",bottom:"5px"}},[l("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[l("el-form-item",{attrs:{label:"名称"}},[l("el-input",{staticStyle:{width:"173px"},attrs:{size:"small",placeholder:"名称"},model:{value:e.dialog.selectEncoder.condition.bundleName,callback:function(t){e.$set(e.dialog.selectEncoder.condition,"bundleName",t)},expression:"dialog.selectEncoder.condition.bundleName"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"号码"}},[l("el-input",{staticStyle:{width:"173px"},attrs:{size:"small",placeholder:"号码"},model:{value:e.dialog.selectEncoder.condition.bundleNo,callback:function(t){e.$set(e.dialog.selectEncoder.condition,"bundleNo",t)},expression:"dialog.selectEncoder.condition.bundleNo"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"ip"}},[l("el-input",{staticStyle:{width:"173px"},attrs:{size:"small",placeholder:"ip"},model:{value:e.dialog.selectEncoder.condition.ip,callback:function(t){e.$set(e.dialog.selectEncoder.condition,"ip",t)},expression:"dialog.selectEncoder.condition.ip"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"bundleId"}},[l("el-input",{staticStyle:{width:"173px"},attrs:{size:"small",placeholder:"bundleId"},model:{value:e.dialog.selectEncoder.condition.bundleId,callback:function(t){e.$set(e.dialog.selectEncoder.condition,"bundleId",t)},expression:"dialog.selectEncoder.condition.bundleId"}})],1),e._v(" "),l("el-form-item",[l("el-button",{staticStyle:{width:"32px",padding:"0",height:"32px","font-size":"16px",position:"relative",top:"1px"},attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:e.handleRefreshEncoder}})],1)],1)],1),e._v(" "),l("div",{staticStyle:{width:"100%",position:"absolute",left:"0",top:"40px",right:"0",bottom:"0",padding:"0 10px","box-sizing":"border-box"}},[l("el-table",{ref:"selectEncoderTable",staticStyle:{width:"100%"},attrs:{data:e.dialog.selectEncoder.table.data,height:"100%","highlight-current-row":"","row-key":"selectEncoderTableRowKey"},on:{"current-change":e.selectEncoderCurrentChange}},[l("el-table-column",{attrs:{prop:"bundleName",label:"设备名称"}}),e._v(" "),l("el-table-column",{attrs:{prop:"bundleId",width:"300",label:"bundleId"}}),e._v(" "),l("el-table-column",{attrs:{prop:"username",label:"设备号码"}}),e._v(" "),l("el-table-column",{attrs:{prop:"ip",label:"ip"}})],1)],1)])])]),e._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-pagination",{staticStyle:{float:"left"},attrs:{background:"",layout:"total, prev, pager, next, jumper",pageSize:e.dialog.selectEncoder.table.page.pageSize,total:e.dialog.selectEncoder.table.page.total}}),e._v(" "),l("el-button",{attrs:{size:"small"},on:{click:e.handleSelectEncoderClose}},[e._v("取消")]),e._v(" "),l("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleSelectEncoderCommit}},[e._v("确定")])],1)]),e._v(" "),l("el-dialog",{attrs:{title:"选择解码器",visible:e.dialog.selectDecoder.visible,width:"1000px","before-close":e.handleSelectDecoderClose},on:{"update:visible":function(t){return e.$set(e.dialog.selectDecoder,"visible",t)}}},[l("div",{staticStyle:{height:"450px",position:"relative"}},[l("div",{staticStyle:{position:"absolute",left:"-20px",top:"-20px",right:"-20px",bottom:"-20px"}},[l("div",{staticStyle:{width:"100%",height:"100%",position:"relative"}},[l("div",{staticStyle:{width:"100%",height:"40px","padding-left":"20px","padding-right":"20px","box-sizing":"border-box",position:"relative",bottom:"5px"}},[l("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[l("el-form-item",{attrs:{label:"名称"}},[l("el-input",{staticStyle:{width:"173px"},attrs:{size:"small",placeholder:"名称"},model:{value:e.dialog.selectDecoder.condition.bundleName,callback:function(t){e.$set(e.dialog.selectDecoder.condition,"bundleName",t)},expression:"dialog.selectDecoder.condition.bundleName"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"号码"}},[l("el-input",{staticStyle:{width:"173px"},attrs:{size:"small",placeholder:"号码"},model:{value:e.dialog.selectDecoder.condition.bundleNo,callback:function(t){e.$set(e.dialog.selectDecoder.condition,"bundleNo",t)},expression:"dialog.selectDecoder.condition.bundleNo"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"ip"}},[l("el-input",{staticStyle:{width:"173px"},attrs:{size:"small",placeholder:"ip"},model:{value:e.dialog.selectDecoder.condition.ip,callback:function(t){e.$set(e.dialog.selectDecoder.condition,"ip",t)},expression:"dialog.selectDecoder.condition.ip"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"bundleId"}},[l("el-input",{staticStyle:{width:"173px"},attrs:{size:"small",placeholder:"bundleId"},model:{value:e.dialog.selectDecoder.condition.bundleId,callback:function(t){e.$set(e.dialog.selectDecoder.condition,"bundleId",t)},expression:"dialog.selectDecoder.condition.bundleId"}})],1),e._v(" "),l("el-form-item",[l("el-button",{staticStyle:{width:"32px",padding:"0",height:"32px","font-size":"16px",position:"relative",top:"1px"},attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:e.handleRefreshDecoder}})],1)],1)],1),e._v(" "),l("div",{staticStyle:{width:"100%",position:"absolute",left:"0",top:"40px",right:"0",bottom:"0",padding:"0 10px","box-sizing":"border-box"}},[l("el-table",{ref:"selectDecoderTable",staticStyle:{width:"100%"},attrs:{data:e.dialog.selectDecoder.table.data,height:"100%","highlight-current-row":""},on:{"current-change":e.selectDecoderCurrentChange}},[l("el-table-column",{attrs:{prop:"bundleName",label:"设备名称"}}),e._v(" "),l("el-table-column",{attrs:{prop:"bundleId",width:"300",label:"bundleId"}}),e._v(" "),l("el-table-column",{attrs:{prop:"username",label:"设备号码"}}),e._v(" "),l("el-table-column",{attrs:{prop:"ip",label:"ip"}})],1)],1)])])]),e._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-pagination",{staticStyle:{float:"left"},attrs:{background:"",layout:"total, prev, pager, next, jumper",pageSize:e.dialog.selectDecoder.table.page.pageSize,total:e.dialog.selectDecoder.table.page.total}}),e._v(" "),l("el-button",{attrs:{size:"small"},on:{click:e.handleSelectDecoderClose}},[e._v("取消")]),e._v(" "),l("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleSelectDecoderCommit}},[e._v("确定")])],1)])]],2)},staticRenderFns:[]};var i=l("VU/8")(n,r,!1,function(e){l("KGOO")},"data-v-6416b004",null);t.default=i.exports},riik:function(e,t){},s6yH:function(e,t){},snKp:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l("mvHQ"),n=l.n(a),r=l("P9l9"),i={name:"ModifyLayernode",data:function(){var e=function(e,t,l){t&&!/^([0-9]|[1-9]\d{1,3}|[1-5]\d{4}|6[0-4]\d{4}|65[0-4]\d{2}|655[0-2]\d|6553[0-5])$/.test(t)?l(new Error("端口格式错误")):l()};return{activeTabName:"ModifyLayernode",typeOptions:[{label:"JV230接入",value:"ACCESS_JV230"},{label:"机顶盒接入",value:"ACCESS_TVOS"},{label:"混合器接入",value:"ACCESS_MIXER"},{label:"手机接入",value:"ACCESS_MOBILE"},{label:"音视频转发服务设备",value:"ACCESS_JV210"},{label:"录像存储服务单元A型",value:"ACCESS_CDN"},{label:"录像存储服务单元B型",value:"ACCESS_VOD"},{label:"监控资源汇接网关",value:"ACCESS_IPC"},{label:"流媒体管理服务设备",value:"ACCESS_STREAMMEDIA"},{label:"联网服务设备",value:"ACCESS_NETWORK"},{label:"显控汇接网关",value:"ACCESS_DISPLAYCTRL"},{label:"流转发器接入",value:"ACCESS_S100"},{label:"webrtc接入",value:"ACCESS_WEBRTC"},{label:"联网接入",value:"ACCESS_LIANWANG"},{label:"LDAP目录资源服务设备",value:"ACCESS_LDAP"},{label:"综合运维服务设备",value:"ACCESS_OMMS"},{label:"ws接入",value:"ACCESS_WS"}],id:this.$route.query.id,nodeForm:{type:"",name:"",ip:"",nodeUid:"",monitorUrl:"",netUrl:""},rules:{type:[{required:!0,message:"请选择节点类型",trigger:"change"}],name:[{required:!0,message:"请输入节点名称",trigger:"change"},{min:1,max:30,message:"长度在 1 到 30 个字符",trigger:"blur"}],ip:[{validator:function(e,t,l){t&&!/^((2[0-4]\d|25[0-5]|[01]?\d\d?)\.){3}(2[0-4]\d|25[0-5]|[01]?\d\d?)$/.test(t)?l(new Error("IP格式错误")):l()},trigger:"blur"}],port:[{validator:e,trigger:"blur"}],downloadPort:[{validator:e,trigger:"blur"}]}}},methods:{handleTabClick:function(e,t){"ModifyLayernode"!==e.name&&this.$router.push("/"+e.name)},reset:function(){this.$refs.nodeForm.resetFields()},getNode:function(){var e=this,t={id:this.id};Object(r.E)(t).then(function(t){t.errmsg?e.$message({message:t.errMsg,type:"error"}):e.nodeForm=t.node})},submit:function(){var e=this;if(this.validate()){var t={json:n()(this.nodeForm)};Object(r._31)(t).then(function(t){t.errMsg?e.$message({message:t.errMsg,type:"error"}):e.$message({message:"修改成功",type:"success"})})}},validate:function(){var e=!1;return this.$refs.nodeForm.validate(function(t){e=t}),e}},mounted:function(){this.getNode()}},o={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("section",[l("el-tabs",{staticStyle:{float:"left",width:"100%"},on:{"tab-click":e.handleTabClick},model:{value:e.activeTabName,callback:function(t){e.activeTabName=t},expression:"activeTabName"}},[l("el-tab-pane",{attrs:{label:"层节点列表",name:"LayernodeManage"}}),e._v(" "),l("el-tab-pane",{attrs:{label:"修改层节点",name:"ModifyLayernode"}})],1),e._v(" "),l("el-form",{ref:"nodeForm",attrs:{model:e.nodeForm,rules:e.rules,"label-width":"100px"}},[l("el-form-item",{attrs:{label:"节点类型",prop:"type"}},[l("el-select",{staticStyle:{width:"200px"},model:{value:e.nodeForm.type,callback:function(t){e.$set(e.nodeForm,"type",t)},expression:"nodeForm.type"}},e._l(e.typeOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"节点名称",prop:"name"}},[l("el-input",{staticStyle:{width:"200px"},model:{value:e.nodeForm.name,callback:function(t){e.$set(e.nodeForm,"name",t)},expression:"nodeForm.name"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"节点ID",prop:"nodeUid"}},[l("el-input",{staticStyle:{width:"200px"},model:{value:e.nodeForm.nodeUid,callback:function(t){e.$set(e.nodeForm,"nodeUid",t)},expression:"nodeForm.nodeUid"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"节点IP",prop:"ip"}},[l("el-input",{staticStyle:{width:"200px"},model:{value:e.nodeForm.ip,callback:function(t){e.$set(e.nodeForm,"ip",t)},expression:"nodeForm.ip"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"节点端口",prop:"port"}},[l("el-input",{staticStyle:{width:"200px"},model:{value:e.nodeForm.port,callback:function(t){e.$set(e.nodeForm,"port",t)},expression:"nodeForm.port"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"下载端口",prop:"downloadPort"}},[l("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"录制资源下载端口，可不填"},model:{value:e.nodeForm.downloadPort,callback:function(t){e.$set(e.nodeForm,"downloadPort",t)},expression:"nodeForm.downloadPort"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"监控地址",prop:"monitorUrl"}},[l("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"监控页面地址，可不填"},model:{value:e.nodeForm.monitorUrl,callback:function(t){e.$set(e.nodeForm,"monitorUrl",t)},expression:"nodeForm.monitorUrl"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"网管地址",prop:"netUrl"}},[l("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"网管页面地址，可不填"},model:{value:e.nodeForm.netUrl,callback:function(t){e.$set(e.nodeForm,"netUrl",t)},expression:"nodeForm.netUrl"}})],1),e._v(" "),l("div",{staticStyle:{"margin-top":"30px"}},[l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit()}}},[e._v("提交")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.reset()}}},[e._v("重置")])],1)],1)],1)},staticRenderFns:[]};var s=l("VU/8")(i,o,!1,function(e){l("btfY")},"data-v-487659d0",null);t.default=s.exports},tvR6:function(e,t){},"w+vs":function(e,t){},"wdO+":function(e,t){},"z/V/":function(e,t){},zzxg:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.1df49f2d4c521f571087.js.map