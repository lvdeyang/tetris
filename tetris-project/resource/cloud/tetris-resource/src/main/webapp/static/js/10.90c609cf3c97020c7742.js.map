{"version":3,"sources":["webpack:///src/views/layernode/AddLayerNode.vue","webpack:///./src/views/layernode/AddLayerNode.vue?9e9b","webpack:///./src/views/layernode/AddLayerNode.vue"],"names":["AddLayerNode","callback","required","message","trigger","min","max","validator","checkPort","name","resetFields","_this","this","nodeForm","errMsg","valid","result","layernode_AddLayerNode","render","_vm","_h","$createElement","_c","_self","staticStyle","float","width","on","tab-click","handleTabClick","model","value","$$v","activeTabName","expression","attrs","label","_v","ref","rules","label-width","prop","$set","_l","item","key","placeholder","margin-top","type","click","$event","submit","reset","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/10.90c609cf3c97020c7742.js","sourcesContent":["<template>\n  <section>\n    <el-tabs v-model=\"activeTabName\" @tab-click=\"handleTabClick\" style=\"float:left; width:100%;\">\n      <el-tab-pane label=\"层节点列表\" name=\"LayernodeManage\"></el-tab-pane>\n      <el-tab-pane label=\"添加层节点\" name=\"AddLayernode\"></el-tab-pane>\n    </el-tabs>\n\n    <el-form :model=\"nodeForm\" :rules=\"rules\" ref=\"nodeForm\" label-width=\"100px\" >\n      <el-form-item label=\"节点类型\" prop=\"type\">\n        <el-select v-model=\"nodeForm.type\" style=\"width: 200px;\">\n          <el-option v-for=\"item in typeOptions\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\n          </el-option>\n        </el-select>\n      </el-form-item>\n\n      <el-form-item label=\"节点名称\" prop=\"name\">\n        <el-input v-model=\"nodeForm.name\" style=\"width: 200px;\"></el-input>\n      </el-form-item>\n\n      <el-form-item label=\"节点ID\" prop=\"nodeUid\">\n        <el-input v-model=\"nodeForm.nodeUid\" style=\"width: 200px;\"></el-input>\n      </el-form-item>\n\n      <el-form-item label=\"节点IP\" prop=\"ip\">\n        <el-input v-model=\"nodeForm.ip\" style=\"width: 200px;\"></el-input>\n      </el-form-item>\n\n      <el-form-item label=\"节点端口\" prop=\"port\">\n        <el-input v-model=\"nodeForm.port\" style=\"width: 200px;\"></el-input>\n      </el-form-item>\n\n      <el-form-item label=\"下载端口\" prop=\"downloadPort\">\n        <el-input v-model=\"nodeForm.downloadPort\" style=\"width: 200px;\" placeholder=\"录制资源下载端口，可不填\"></el-input>\n      </el-form-item>\n\n      <!--<el-form-item label=\"访问地址\" prop=\"url\">-->\n        <!--<el-input v-model=\"nodeForm.url\" style=\"width: 200px;\"></el-input>-->\n      <!--</el-form-item>-->\n\n      <div style=\"margin-top:30px;\" >\n        <el-button type=\"primary\" @click=\"submit()\">提交</el-button>\n        <el-button type=\"primary\" @click=\"reset()\">重置</el-button>\n      </div>\n\n    </el-form>\n\n  </section>\n</template>\n\n<script>\n  import {saveNode} from '../../api/api';\n\n  export default {\n    name: \"AddLayernode\",\n    data(){\n      var checkIp = (rule, value, callback) => {\n        let ip_reg = /^((2[0-4]\\d|25[0-5]|[01]?\\d\\d?)\\.){3}(2[0-4]\\d|25[0-5]|[01]?\\d\\d?)$/;\n        if(value && !ip_reg.test(value)){\n          callback(new Error(\"IP格式错误\"));\n        } else {\n          callback();\n        }\n      };\n      var checkPort = (rule, value, callback) => {\n        let port_reg = /^([0-9]|[1-9]\\d{1,3}|[1-5]\\d{4}|6[0-4]\\d{4}|65[0-4]\\d{2}|655[0-2]\\d|6553[0-5])$/;\n        if(value && !port_reg.test(value)){\n          callback(new Error(\"端口格式错误\"));\n        } else {\n          callback();\n        }\n      };\n\n      return {\n        activeTabName : \"AddLayernode\",\n        typeOptions : [\n          // {\n          //   label : \"JV210接入\",\n          //   value : \"ACCESS_JV210\"\n          // },\n          // {\n          //   label : \"CDN接入\",\n          //   value : \"ACCESS_CDN\"\n          // },\n          // {\n          //   label : \"IPC接入\",\n          //   value : \"ACCESS_IPC\"\n          // },\n          {\n            label : \"JV230接入\",\n            value : \"ACCESS_JV230\"\n          },\n          {\n            label : \"机顶盒接入\",\n            value : \"ACCESS_TVOS\"\n          },\n          {\n            label : \"混合器接入\",\n            value : \"ACCESS_MIXER\"\n          },\n          {\n            label : \"手机接入\",\n            value : \"ACCESS_MOBILE\"\n          },\n          {\n            label : \"音视频转发服务设备\",\n            value : \"ACCESS_JV210\"\n          },\n          {\n            label : \"录像存储服务单元A型\",\n            value : \"ACCESS_CDN\"\n          },\n          {\n            label : \"录像存储服务单元B型\",\n            value : \"ACCESS_VOD\"\n          },\n          {\n            label : \"监控资源汇接网关\",\n            value : \"ACCESS_IPC\"\n          },\n          {\n            label : \"流媒体管理服务设备\",\n            value : \"ACCESS_STREAMMEDIA\"\n          },\n          {\n            label : \"联网服务设备\",\n            value : \"ACCESS_NETWORK\"\n          },\n          {\n            label : \"显控汇接网关\",\n            value : \"ACCESS_DISPLAYCTRL\"\n          },\n          {\n            label : \"流转发器接入\",\n            value : \"ACCESS_S100\"\n          },\n          {\n            label : \"点播代理服务设备\",\n            value : \"ACCESS_VODPROXY\"\n          }\n        ],\n        nodeForm : {\n          type : \"ACCESS_JV210\",\n          name : \"\",\n          ip : \"\",\n          nodeUid : \"\",\n          port : null,\n          downloadPort : null\n        },\n        rules : {\n          type: [\n            { required: true, message: '请选择节点类型', trigger: 'change' }\n          ],\n          name: [\n            { required: true, message: '请输入节点名称', trigger: 'change' },\n            { min: 1, max: 30, message: '长度在 1 到 30 个字符', trigger: 'blur' }\n          ],\n          nodeUid: [\n            { required: true, message: '请输入节点ID', trigger: 'change' },\n            { min: 1, max: 30, message: '长度在 1 到 30 个字符', trigger: 'blur' }\n          ],\n          ip: [\n            {validator : checkIp, trigger: 'blur'}\n          ],\n          port : [\n            {validator : checkPort, trigger: 'blur'}\n          ],\n          downloadPort : [\n            {validator : checkPort, trigger: 'blur'}\n          ],\n        }\n      };\n    },\n    methods : {\n      handleTabClick(tab, event) {\n        if(\"AddLayernode\" !== tab.name){\n          this.$router.push('/' + tab.name);\n        }\n      },\n      reset : function(){\n        this.$refs[\"nodeForm\"].resetFields();\n      },\n      submit : function(){\n        if(!this.validate()){\n          return;\n        }\n\n        let param = {\n          json : JSON.stringify(this.nodeForm)\n        };\n\n        saveNode(param).then(res => {\n          if(res.errMsg){\n            this.$message({\n              message: res.errMsg,\n              type: 'error'\n            });\n          } else {\n            // this.$alert(\"添加成功，该接入层节点ID为\" + res.nodeUid, '提示信息', {\n            //   confirmButtonText: '确定'\n            // });\n            this.$message({\n              message: \"添加成功\",\n              type: 'success'\n            });\n            this.$refs[\"nodeForm\"].resetFields();\n          }\n        });\n      },\n      validate : function(){\n        var result = false;\n        this.$refs[\"nodeForm\"].validate((valid) => {\n          result = valid;\n        });\n        return result;\n      }\n    },\n    mounted() {\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/layernode/AddLayerNode.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('el-tabs',{staticStyle:{\"float\":\"left\",\"width\":\"100%\"},on:{\"tab-click\":_vm.handleTabClick},model:{value:(_vm.activeTabName),callback:function ($$v) {_vm.activeTabName=$$v},expression:\"activeTabName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"层节点列表\",\"name\":\"LayernodeManage\"}}),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"添加层节点\",\"name\":\"AddLayernode\"}})],1),_vm._v(\" \"),_c('el-form',{ref:\"nodeForm\",attrs:{\"model\":_vm.nodeForm,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"节点类型\",\"prop\":\"type\"}},[_c('el-select',{staticStyle:{\"width\":\"200px\"},model:{value:(_vm.nodeForm.type),callback:function ($$v) {_vm.$set(_vm.nodeForm, \"type\", $$v)},expression:\"nodeForm.type\"}},_vm._l((_vm.typeOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"节点名称\",\"prop\":\"name\"}},[_c('el-input',{staticStyle:{\"width\":\"200px\"},model:{value:(_vm.nodeForm.name),callback:function ($$v) {_vm.$set(_vm.nodeForm, \"name\", $$v)},expression:\"nodeForm.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"节点ID\",\"prop\":\"nodeUid\"}},[_c('el-input',{staticStyle:{\"width\":\"200px\"},model:{value:(_vm.nodeForm.nodeUid),callback:function ($$v) {_vm.$set(_vm.nodeForm, \"nodeUid\", $$v)},expression:\"nodeForm.nodeUid\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"节点IP\",\"prop\":\"ip\"}},[_c('el-input',{staticStyle:{\"width\":\"200px\"},model:{value:(_vm.nodeForm.ip),callback:function ($$v) {_vm.$set(_vm.nodeForm, \"ip\", $$v)},expression:\"nodeForm.ip\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"节点端口\",\"prop\":\"port\"}},[_c('el-input',{staticStyle:{\"width\":\"200px\"},model:{value:(_vm.nodeForm.port),callback:function ($$v) {_vm.$set(_vm.nodeForm, \"port\", $$v)},expression:\"nodeForm.port\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"下载端口\",\"prop\":\"downloadPort\"}},[_c('el-input',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"录制资源下载端口，可不填\"},model:{value:(_vm.nodeForm.downloadPort),callback:function ($$v) {_vm.$set(_vm.nodeForm, \"downloadPort\", $$v)},expression:\"nodeForm.downloadPort\"}})],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"30px\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.submit()}}},[_vm._v(\"提交\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.reset()}}},[_vm._v(\"重置\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-39d2fac0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/layernode/AddLayerNode.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-39d2fac0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AddLayerNode.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddLayerNode.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddLayerNode.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-39d2fac0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./AddLayerNode.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-39d2fac0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/layernode/AddLayerNode.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}